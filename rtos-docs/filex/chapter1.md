---
title: Capitolo 1-Introduzione ad Azure RTO FileX
description: Azure RTO FileX è un sistema di gestione di file e file multimediali di formato FAT completo per applicazioni con Deep embedded.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: be7e6f9cd9fbc69ac0908d1de733dac1c4f73bf6
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104821422"
---
# <a name="chapter-1---introduction-to-azure-rtos-filex"></a><span data-ttu-id="181e4-103">Capitolo 1-Introduzione ad Azure RTO FileX</span><span class="sxs-lookup"><span data-stu-id="181e4-103">Chapter 1 - Introduction to Azure RTOS FileX</span></span>

<span data-ttu-id="181e4-104">Azure RTO FileX è un sistema di gestione di file e file multimediali di formato FAT completo per applicazioni con Deep embedded.</span><span class="sxs-lookup"><span data-stu-id="181e4-104">Azure RTOS FileX is a complete FAT format media and file management system for deeply embedded applications.</span></span> <span data-ttu-id="181e4-105">Questo capitolo introduce FileX, che descrive le applicazioni e i vantaggi.</span><span class="sxs-lookup"><span data-stu-id="181e4-105">This chapter introduces FileX, describing its applications and benefits.</span></span>

## <a name="filex-unique-features"></a><span data-ttu-id="181e4-106">Funzionalità univoche di FileX</span><span class="sxs-lookup"><span data-stu-id="181e4-106">FileX Unique Features</span></span>

<span data-ttu-id="181e4-107">Azure RTO FileX supporta un numero illimitato di dispositivi multimediali allo stesso tempo, inclusi dischi RAM, gestione FLASH e dispositivi fisici effettivi.</span><span class="sxs-lookup"><span data-stu-id="181e4-107">Azure RTOS FileX supports an unlimited number of media devices at the same time, including RAM disks, FLASH managers, and actual physical devices.</span></span> <span data-ttu-id="181e4-108">Supporta formati FAT (file allocation table) a 12, 16 e 32 bit, supporta inoltre la tabella di allocazione file estesa (exFAT), l'allocazione di file contigui ed è altamente ottimizzata per le dimensioni e le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="181e4-108">It supports 12-, 16-, and 32-bit File Allocation Table (FAT) formats, and also supports Extended File Allocation Table (exFAT), contiguous file allocation, and is highly optimized for both size and performance.</span></span> <span data-ttu-id="181e4-109">FileX include anche il supporto per la tolleranza di errore, le funzioni di apertura/chiusura e di callback dei file.</span><span class="sxs-lookup"><span data-stu-id="181e4-109">FileX also includes fault tolerant support, media open/ close, and file write callback functions.</span></span>

<span data-ttu-id="181e4-110">Progettato per soddisfare le crescenti esigenze di dispositivi FLASH, FileX usa gli stessi metodi di progettazione e codifica di ThreadX.</span><span class="sxs-lookup"><span data-stu-id="181e4-110">Designed to meet the growing need for FLASH devices, FileX uses the same design and coding methods as ThreadX.</span></span> <span data-ttu-id="181e4-111">Come tutti i prodotti Microsoft, FileX viene distribuito con il codice sorgente ANSI C completo e non dispone di royalties in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="181e4-111">Like all Microsoft products, FileX is distributed with full ANSI C source code, and it has no run-time royalties.</span></span>

### <a name="product-highlights"></a><span data-ttu-id="181e4-112">Caratteristiche principali del prodotto</span><span class="sxs-lookup"><span data-stu-id="181e4-112">Product Highlights</span></span>

- <span data-ttu-id="181e4-113">Supporto completo del processore ThreadX</span><span class="sxs-lookup"><span data-stu-id="181e4-113">Complete ThreadX processor support</span></span>
- <span data-ttu-id="181e4-114">Nessun royalties</span><span class="sxs-lookup"><span data-stu-id="181e4-114">No royalties</span></span>
- <span data-ttu-id="181e4-115">Completa codice sorgente ANSI C</span><span class="sxs-lookup"><span data-stu-id="181e4-115">Complete ANSI C source code</span></span>
- <span data-ttu-id="181e4-116">Prestazioni in tempo reale</span><span class="sxs-lookup"><span data-stu-id="181e4-116">Real-time performance</span></span>
- <span data-ttu-id="181e4-117">Supporto tecnico reattivo</span><span class="sxs-lookup"><span data-stu-id="181e4-117">Responsive technical support</span></span>
- <span data-ttu-id="181e4-118">Oggetti FileX illimitati (supporti, directory e file)</span><span class="sxs-lookup"><span data-stu-id="181e4-118">Unlimited FileX objects (media, directories, and files)</span></span>
- <span data-ttu-id="181e4-119">Creazione/eliminazione di oggetti FileX dinamici</span><span class="sxs-lookup"><span data-stu-id="181e4-119">Dynamic FileX object creation/deletion</span></span>
- <span data-ttu-id="181e4-120">Utilizzo flessibile della memoria</span><span class="sxs-lookup"><span data-stu-id="181e4-120">Flexible memory usage</span></span>
- <span data-ttu-id="181e4-121">Ridimensiona automaticamente le dimensioni</span><span class="sxs-lookup"><span data-stu-id="181e4-121">Size scales automatically</span></span>
- <span data-ttu-id="181e4-122">Dimensioni dell'area di istruzione con ingombro ridotto (fino a 6 KByte): 6-30K</span><span class="sxs-lookup"><span data-stu-id="181e4-122">Small footprint (as low as 6 KBytes) instruction area size: 6-30K</span></span>
- <span data-ttu-id="181e4-123">Completa l'integrazione con ThreadX</span><span class="sxs-lookup"><span data-stu-id="181e4-123">Complete integration with ThreadX</span></span>
- <span data-ttu-id="181e4-124">Endian neutro</span><span class="sxs-lookup"><span data-stu-id="181e4-124">Endian neutral</span></span>
- <span data-ttu-id="181e4-125">Driver di I/O FileX di facile implementazione</span><span class="sxs-lookup"><span data-stu-id="181e4-125">Easy-to-implement FileX I/O drivers</span></span>
- <span data-ttu-id="181e4-126">supporto FAT 12, 16 e 32 bit</span><span class="sxs-lookup"><span data-stu-id="181e4-126">12-, 16-, and 32-bit FAT support</span></span>
- <span data-ttu-id="181e4-127">supporto di exFAT</span><span class="sxs-lookup"><span data-stu-id="181e4-127">exFAT support</span></span>
- <span data-ttu-id="181e4-128">Supporto del nome file lungo</span><span class="sxs-lookup"><span data-stu-id="181e4-128">Long filename support</span></span>
- <span data-ttu-id="181e4-129">Cache di immissione FAT interna</span><span class="sxs-lookup"><span data-stu-id="181e4-129">Internal FAT entry cache</span></span>
- <span data-ttu-id="181e4-130">Supporto del nome Unicode</span><span class="sxs-lookup"><span data-stu-id="181e4-130">Unicode name support</span></span>
- <span data-ttu-id="181e4-131">Allocazione file contigui</span><span class="sxs-lookup"><span data-stu-id="181e4-131">Contiguous file allocation</span></span>
- <span data-ttu-id="181e4-132">Lettura/scrittura di un settore e di un cluster consecutivi</span><span class="sxs-lookup"><span data-stu-id="181e4-132">Consecutive sector and cluster read/write</span></span>
- <span data-ttu-id="181e4-133">Cache del settore logico interno</span><span class="sxs-lookup"><span data-stu-id="181e4-133">Internal logical sector cache</span></span>
- <span data-ttu-id="181e4-134">La dimostrazione del disco RAM è stata avviata</span><span class="sxs-lookup"><span data-stu-id="181e4-134">RAM disk demonstration runs out-of-the-box</span></span>
- <span data-ttu-id="181e4-135">Funzionalità di formato multimediale</span><span class="sxs-lookup"><span data-stu-id="181e4-135">Media format capability</span></span>
- <span data-ttu-id="181e4-136">Rilevamento e ripristino degli errori</span><span class="sxs-lookup"><span data-stu-id="181e4-136">Error detection and recovery</span></span>
- <span data-ttu-id="181e4-137">Opzioni a tolleranza di errore</span><span class="sxs-lookup"><span data-stu-id="181e4-137">Fault tolerant options</span></span>
- <span data-ttu-id="181e4-138">Statistiche sulle prestazioni predefinite</span><span class="sxs-lookup"><span data-stu-id="181e4-138">Built-in performance statistics</span></span>
- <span data-ttu-id="181e4-139">Supporto autonomo (nessun RTO di Azure)</span><span class="sxs-lookup"><span data-stu-id="181e4-139">Standalone support (No Azure RTOS)</span></span>

## <a name="safety-certifications"></a><span data-ttu-id="181e4-140">Certificazioni di sicurezza</span><span class="sxs-lookup"><span data-stu-id="181e4-140">Safety Certifications</span></span>

### <a name="tv-certification"></a><span data-ttu-id="181e4-141">Certificazione TÜV</span><span class="sxs-lookup"><span data-stu-id="181e4-141">TÜV Certification</span></span>

<span data-ttu-id="181e4-142">FileX è stato certificato da SGS-TÜV Saar per l'uso nei sistemi critici per la sicurezza, in base a IEC-61508 e IEC-62304.</span><span class="sxs-lookup"><span data-stu-id="181e4-142">FileX has been certified by SGS-TÜV Saar for use in safety-critical systems, according to IEC-61508 and IEC-62304.</span></span> <span data-ttu-id="181e4-143">La certificazione conferma che FileX può essere usato nello sviluppo di software correlato alla sicurezza per i livelli di integrità di sicurezza più elevati dei International Electrotechnical Commission (IEC) 61508 e IEC 62304, per la "protezione funzionale dei sistemi elettronici di sicurezza elettronica, elettronici e programmabili".</span><span class="sxs-lookup"><span data-stu-id="181e4-143">The certification confirms that FileX can be used in the development of safety-related software for the highest safety integrity levels of the International Electrotechnical Commission (IEC) 61508 and IEC 62304, for the "Functional Safety of electrical, electronic, and programmable electronic safety-related systems."</span></span> <span data-ttu-id="181e4-144">SGS-TÜV Saar, costituito da una joint venture di SGS-Group della Germania e TÜV Saarland, è diventato la società leader accreditata e indipendente per il test, il controllo, la verifica e la certificazione del software incorporato per i sistemi correlati alla sicurezza in tutto il mondo.</span><span class="sxs-lookup"><span data-stu-id="181e4-144">SGS-TÜV Saar, formed through a joint venture of Germany's SGS-Group and TÜV Saarland, has become the leading accredited, independent company for testing, auditing, verifying, and certifying embedded software for safety-related systems worldwide.</span></span> <span data-ttu-id="181e4-145">Lo standard di sicurezza industriale IEC 61508 e tutti gli standard derivati da esso, incluso IEC 62304, vengono utilizzati per garantire la sicurezza funzionale di dispositivi medicali, sistemi di controllo dei processi, macchinari industriali e sistemi di controllo ferroviari.</span><span class="sxs-lookup"><span data-stu-id="181e4-145">The industrial safety standard IEC 61508, and all standards that are derived from it, including IEC 62304, are used to assure the functional safety of electrical, electronic, and programmable electronic safety-related medical devices, process control systems, industrial machinery, and railway control systems.</span></span>

<span data-ttu-id="181e4-146">SGS-TÜV Saar ha certificato FileX da usare nei sistemi autonomi per la sicurezza, in base allo standard ISO 26262.</span><span class="sxs-lookup"><span data-stu-id="181e4-146">SGS-TÜV Saar has certified FileX to be used in safety-critical automotive systems, according to the ISO 26262 standard.</span></span> <span data-ttu-id="181e4-147">Inoltre, FileX è certificato per il livello di integrità di sicurezza (ASIL) di Automotive, che rappresenta il livello più elevato di certificazione ISO 26262.</span><span class="sxs-lookup"><span data-stu-id="181e4-147">Furthermore, FileX is certified to Automotive Safety Integrity Level (ASIL) D, which represents the highest level of ISO 26262 certification.</span></span>

<span data-ttu-id="181e4-148">Inoltre, SGS-TÜV Saar ha certificato FileX da usare nelle applicazioni ferroviarie critiche per la sicurezza, che soddisfano lo standard EN 50128 fino a SW-SIL 4.</span><span class="sxs-lookup"><span data-stu-id="181e4-148">In addition, SGS-TÜV Saar has certified FileX to be used in safety-critical railway applications, meeting to the EN 50128 standard up to SW-SIL 4.</span></span>

![Logo SGS TUV Saar](./media/user-guide/sgs-tuv-saar-logo.png)

- <span data-ttu-id="181e4-150">IEC 61508 fino a SIL 4</span><span class="sxs-lookup"><span data-stu-id="181e4-150">IEC 61508 up to SIL 4</span></span>
- <span data-ttu-id="181e4-151">IEC 62304 fino alla classe di sicurezza SW C</span><span class="sxs-lookup"><span data-stu-id="181e4-151">IEC 62304 up to SW safety Class C</span></span>
- <span data-ttu-id="181e4-152">ISO 26262 ASIL D</span><span class="sxs-lookup"><span data-stu-id="181e4-152">ISO 26262 ASIL D</span></span>
- <span data-ttu-id="181e4-153">EN 50128 SW-SIL 4</span><span class="sxs-lookup"><span data-stu-id="181e4-153">EN 50128 SW-SIL 4</span></span>

> [!IMPORTANT]
> <span data-ttu-id="181e4-154">Per ulteriori informazioni sulle versioni di FileX certificate da TÜV o sulla disponibilità di report di test, certificati e documentazione associata, contattare Microsoft.</span><span class="sxs-lookup"><span data-stu-id="181e4-154">Please contact us for more information on which version(s) of FileX have been certified by TÜV or for the availability of test reports, certificates, and associated documentation.\*</span></span>

### <a name="ul-certification"></a><span data-ttu-id="181e4-155">Certificazione UL</span><span class="sxs-lookup"><span data-stu-id="181e4-155">UL Certification</span></span>

<span data-ttu-id="181e4-156">FileX è stato certificato da UL per conformità con UL 60730-1 allegato H, CSA E60730-1 allegato H, IEC 60730-1 allegato H, UL 60335-1 allegato R, IEC 603351 allegato R e UL 1998 standard di sicurezza per il software in componenti programmabili.</span><span class="sxs-lookup"><span data-stu-id="181e4-156">FileX has been certified by UL for compliance with UL 60730-1 Annex H, CSA E60730-1 Annex H, IEC  60730-1 Annex H, UL 60335-1 Annex R, IEC 603351 Annex R, and UL 1998 safety standards for software in programmable components.</span></span> <span data-ttu-id="181e4-157">Insieme a IEC/UL 60730-1, che presenta i requisiti per "controlli che usano software" nell'allegato H, lo standard IEC 60335-1 descrive i requisiti per "circuiti elettronici programmabili" nell'allegato R. IEC 60730 allegato H e IEC 60335-1 allegato R, indirizzare la sicurezza dell'hardware e del software MCU usati in Appliance, ad esempio macchine di lavaggio, lavastoviglie, essiccatori, frigoriferi, freezer e forni.</span><span class="sxs-lookup"><span data-stu-id="181e4-157">Along with IEC/UL 60730-1, which has requirements for  "Controls Using Software" in its Annex H, the IEC 60335-1 standard describes the requirements for "Programmable Electronic Circuits" in its Annex R. IEC 60730 Annex H and IEC 60335-1 Annex R address the safety of MCU hardware and software used in appliances such as washing machines, dishwashers, dryers, refrigerators, freezers, and ovens.</span></span>

![C RU US 2](./media/user-guide/c-ru-us-logo.png)

<span data-ttu-id="181e4-159">*UL/IEC 60730, UL/IEC 60335, UL 1998*</span><span class="sxs-lookup"><span data-stu-id="181e4-159">*UL/IEC 60730, UL/IEC 60335, UL 1998*</span></span>

> [!IMPORTANT]
><span data-ttu-id="181e4-160">*Per ulteriori informazioni sulle versioni di FileX certificate da UL o sulla disponibilità di report di test, certificati e documentazione associata, contattare Microsoft.*</span><span class="sxs-lookup"><span data-stu-id="181e4-160">*Please contact us for more information on which version(s) of FileX have been certified by UL or for the availability of test reports, certificates, and associated documentation.*</span></span>

## <a name="powerful-services-of-filex"></a><span data-ttu-id="181e4-161">Potenti servizi di FileX</span><span class="sxs-lookup"><span data-stu-id="181e4-161">Powerful Services of FileX</span></span>

### <a name="multiple-media-management"></a><span data-ttu-id="181e4-162">Gestione di più supporti</span><span class="sxs-lookup"><span data-stu-id="181e4-162">Multiple Media Management</span></span>

<span data-ttu-id="181e4-163">FileX è in grado di supportare un numero illimitato di supporti fisici.</span><span class="sxs-lookup"><span data-stu-id="181e4-163">FileX can support an unlimited number of physical media.</span></span> <span data-ttu-id="181e4-164">Ogni istanza del supporto ha una propria area di memoria distinta e il driver associato specificato nella chiamata ***fx_media_open*** .</span><span class="sxs-lookup"><span data-stu-id="181e4-164">Each media instance has its own distinct memory area and associated driver specified on the ***fx_media_open*** call.</span></span> <span data-ttu-id="181e4-165">La distribuzione predefinita di FileX viene fornita con un semplice driver multimediale RAM e un sistema dimostrativo che usa questo disco RAM.</span><span class="sxs-lookup"><span data-stu-id="181e4-165">The default distribution of FileX comes with a simple RAM media driver and a demonstration system that uses this RAM disk.</span></span>

### <a name="logical-sector-cache"></a><span data-ttu-id="181e4-166">Cache del settore logico</span><span class="sxs-lookup"><span data-stu-id="181e4-166">Logical Sector Cache</span></span>

<span data-ttu-id="181e4-167">Grazie alla riduzione del numero di trasferimenti interi del settore, sia da che da supporto, la cache del settore logico FileX migliora significativamente le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="181e4-167">By reducing the number of whole sector transfers, both to and from the media, the FileX logical sector cache significantly improves performance.</span></span> <span data-ttu-id="181e4-168">FileX gestisce una cache di settore logica per ogni supporto aperto.</span><span class="sxs-lookup"><span data-stu-id="181e4-168">FileX maintains a logical sector cache for each opened media.</span></span> <span data-ttu-id="181e4-169">La profondità della cache del settore logico è determinata dalla quantità di memoria fornita per FileX con la chiamata API ***fx_media_open*** .</span><span class="sxs-lookup"><span data-stu-id="181e4-169">The depth of the logical sector cache is determined by the amount of memory supplied to FileX with the ***fx_media_open*** API call.</span></span>

### <a name="contiguous-file-support"></a><span data-ttu-id="181e4-170">Supporto file contiguo</span><span class="sxs-lookup"><span data-stu-id="181e4-170">Contiguous File Support</span></span>

<span data-ttu-id="181e4-171">FileX offre supporto file contiguo tramite il servizio API ***fx_file_allocate*** per migliorare e rendere deterministico il tempo di accesso ai file.</span><span class="sxs-lookup"><span data-stu-id="181e4-171">FileX offers contiguous file support through the API service ***fx_file_allocate*** to improve and make file access time deterministic.</span></span> <span data-ttu-id="181e4-172">Questa routine prende la quantità di memoria richiesta e cerca una serie di cluster adiacenti per soddisfare la richiesta.</span><span class="sxs-lookup"><span data-stu-id="181e4-172">This routine takes the amount of memory requested and looks for a series of adjacent clusters to satisfy the request.</span></span> <span data-ttu-id="181e4-173">Se tali cluster vengono trovati, vengono preallocati facendoli parte della catena di cluster allocati del file.</span><span class="sxs-lookup"><span data-stu-id="181e4-173">If such clusters are found, they are pre-allocated by making them part of the file's chain of allocated clusters.</span></span> <span data-ttu-id="181e4-174">Sullo sviluppo di supporti fisici, il supporto del file contiguo FileX produce un miglioramento significativo delle prestazioni e rende deterministico il tempo di accesso.</span><span class="sxs-lookup"><span data-stu-id="181e4-174">On moving physical media, the FileX contiguous file support results in a significant performance improvement and makes the access time deterministic.</span></span>

### <a name="dynamic-creation"></a><span data-ttu-id="181e4-175">Creazione dinamica</span><span class="sxs-lookup"><span data-stu-id="181e4-175">Dynamic Creation</span></span>

<span data-ttu-id="181e4-176">FileX consente di creare risorse di sistema in modo dinamico.</span><span class="sxs-lookup"><span data-stu-id="181e4-176">FileX allows you to create system resources dynamically.</span></span> <span data-ttu-id="181e4-177">Questa operazione è particolarmente importante se l'applicazione presenta requisiti di configurazione multipli o dinamici.</span><span class="sxs-lookup"><span data-stu-id="181e4-177">This is especially important if your application has multiple or dynamic configuration requirements.</span></span> <span data-ttu-id="181e4-178">Inoltre, non esistono limiti predeterminati per il numero di risorse FileX che è possibile usare (file multimediali o file).</span><span class="sxs-lookup"><span data-stu-id="181e4-178">In addition, there are no predetermined limits on the number of FileX resources you can use (media or files).</span></span> <span data-ttu-id="181e4-179">Inoltre, il numero di oggetti di sistema non ha alcun effetto sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="181e4-179">Also, the number of system objects does not have any impact on performance.</span></span>

## <a name="easy-to-use-api"></a><span data-ttu-id="181e4-180">API di facile utilizzo</span><span class="sxs-lookup"><span data-stu-id="181e4-180">Easy-to-use API</span></span>

<span data-ttu-id="181e4-181">FileX fornisce la tecnologia file system altamente incorporata in modo molto più facile da comprendere e facile da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="181e4-181">FileX provides the very best deeply embedded file system technology in a manner that is easy to understand and easy to use!</span></span> <span data-ttu-id="181e4-182">L'API (Application Programming Interface) FileX rende i servizi intuitivi e coerenti.</span><span class="sxs-lookup"><span data-stu-id="181e4-182">The FileX Application Programming Interface (API) makes the services intuitive and consistent.</span></span> <span data-ttu-id="181e4-183">Non sarà necessario decifrare i servizi di "Alphabet Soup", che sono tutti troppo comuni con altri file System.</span><span class="sxs-lookup"><span data-stu-id="181e4-183">You won't have to decipher "alphabet soup" services that are all too common with other file systems.</span></span>

<span data-ttu-id="181e4-184">Per un elenco completo dei servizi FileX versione 5, vedere [appendice a](appendix-a.md).</span><span class="sxs-lookup"><span data-stu-id="181e4-184">For a complete list of the FileX Version 5 Services, see [Appendix A](appendix-a.md).</span></span>

## <a name="exfat-support"></a><span data-ttu-id="181e4-185">Supporto di exFAT</span><span class="sxs-lookup"><span data-stu-id="181e4-185">exFAT Support</span></span>

<span data-ttu-id="181e4-186">exFAT (Extended File Allocation Table) è una file system progettata da Microsoft per consentire il superamento di 2 GB di dimensioni dei file, un limite imposto dai file system FAT32.</span><span class="sxs-lookup"><span data-stu-id="181e4-186">exFAT (extended File Allocation Table) is a file system designed by Microsoft to allow file size to exceed 2GB, a limit imposed by FAT32 file systems.</span></span> <span data-ttu-id="181e4-187">Si tratta del file system predefinito per schede SD con capacità superiore a 32 GB.</span><span class="sxs-lookup"><span data-stu-id="181e4-187">It is the default file system for SD cards with capacity over 32GB.</span></span> <span data-ttu-id="181e4-188">Le schede SD o le unità flash formattate con il formato FileX exFAT sono compatibili con Windows.</span><span class="sxs-lookup"><span data-stu-id="181e4-188">SD cards or flash drives formatted with FileX exFAT format are compatible with Windows.</span></span> <span data-ttu-id="181e4-189">exFAT supporta le dimensioni dei file fino a un exabyte (EB), che è approssimativamente di 1 miliardo GB.</span><span class="sxs-lookup"><span data-stu-id="181e4-189">exFAT supports file size up to one Exabyte (EB), which is approximately one billion GB.</span></span>

<span data-ttu-id="181e4-190">Gli utenti che desiderano utilizzare exFAT devono ricompilare la libreria FileX con il simbolo \***FX_ENABLE_EXFAT** _ definito.</span><span class="sxs-lookup"><span data-stu-id="181e4-190">Users wishing to use exFAT must recompile the FileX library with the symbol \***FX_ENABLE_EXFAT** _ defined.</span></span> <span data-ttu-id="181e4-191">Quando si apre un supporto, FileX rileva il tipo di supporto.</span><span class="sxs-lookup"><span data-stu-id="181e4-191">When opening media, FileX detects the media type.</span></span> <span data-ttu-id="181e4-192">Se il supporto è formattato con exFAT, FileX legge e scrive il file system seguente exFAT standard.</span><span class="sxs-lookup"><span data-stu-id="181e4-192">If the media is formatted with exFAT, FileX reads and writes the file system following exFAT standard.</span></span> <span data-ttu-id="181e4-193">Per formattare nuovi supporti con exFAT, usare il servizio _ *_fx_media_exFAT_format_* \*.</span><span class="sxs-lookup"><span data-stu-id="181e4-193">To format new media with exFAT, use the service _\*_fx_media_exFAT_format_\*\*.</span></span> <span data-ttu-id="181e4-194">Per impostazione predefinita, exFAT non è abilitato.</span><span class="sxs-lookup"><span data-stu-id="181e4-194">By default exFAT is not enabled.</span></span>

## <a name="fault-tolerant-support"></a><span data-ttu-id="181e4-195">Supporto tolleranza di errore</span><span class="sxs-lookup"><span data-stu-id="181e4-195">Fault Tolerant Support</span></span>

<span data-ttu-id="181e4-196">Il modulo a tolleranza di errore FileX è progettato per evitare file system danneggiamenti causati da interruzioni durante l'aggiornamento del file o della directory.</span><span class="sxs-lookup"><span data-stu-id="181e4-196">The FileX Fault Tolerant Module is designed to prevent file system corruption caused by interruptions during the file or directory update.</span></span> <span data-ttu-id="181e4-197">Ad esempio, quando si accodano i dati a un file, FileX deve aggiornare il contenuto del file, la voce della directory e possibilmente le voci FAT.</span><span class="sxs-lookup"><span data-stu-id="181e4-197">For example, when appending data to a file, FileX needs to update the content of the file, the directory entry, and possibly the FAT entries.</span></span> <span data-ttu-id="181e4-198">Se questa sequenza di aggiornamento viene interrotta (ad esempio, il glitch dell'alimentazione o il supporto viene espulso durante l'aggiornamento), il file system è in uno stato incoerente, che può influire sull'integrità dell'intera file system, causando il danneggiamento di altri file.</span><span class="sxs-lookup"><span data-stu-id="181e4-198">If this sequence of update is interrupted (such as power glitch, or the media is ejected in the middle of the update), the file system is in an inconsistent state, which may affect the integrity of the entire file system, leading towards corruption of other files.</span></span>

<span data-ttu-id="181e4-199">Il modulo a tolleranza di errore FileX funziona registrando tutti i passaggi necessari per aggiornare un file o una directory lungo il percorso.</span><span class="sxs-lookup"><span data-stu-id="181e4-199">The FileX Fault Tolerant Module works by recording all steps required to update a file or a directory along the way.</span></span> <span data-ttu-id="181e4-200">Questa voce di log viene archiviata nei supporti in settori dedicati (blocchi) che FileX è in grado di trovare e accedere.</span><span class="sxs-lookup"><span data-stu-id="181e4-200">This log entry is stored on the media in dedicated sectors (blocks) that FileX can find and access.</span></span> <span data-ttu-id="181e4-201">È possibile accedere al percorso dei dati di log anche senza un file system appropriato.</span><span class="sxs-lookup"><span data-stu-id="181e4-201">The location of the log data can be accessed even without a proper file system.</span></span> <span data-ttu-id="181e4-202">Pertanto, nel caso in cui il file system sia danneggiato, FileX è ancora in grado di trovare la voce di log e ripristinare il file system in uno stato valido.</span><span class="sxs-lookup"><span data-stu-id="181e4-202">Therefore, in case the file system is corrupted, FileX is still able to find the log entry and restore the file system back into a good state.</span></span>

<span data-ttu-id="181e4-203">Quando FileX aggiorna un file o una directory, vengono create voci di log.</span><span class="sxs-lookup"><span data-stu-id="181e4-203">As FileX updates file or directory, log entries are created.</span></span> <span data-ttu-id="181e4-204">Al termine dell'operazione di aggiornamento, le voci di log vengono rimosse.</span><span class="sxs-lookup"><span data-stu-id="181e4-204">After the update operation is successfully completed, the log entries are removed.</span></span> <span data-ttu-id="181e4-205">Se le voci di log non sono state rimosse correttamente dopo l'aggiornamento di un file, se il processo di ripristino determina che il contenuto nella voce di log corrisponde alla file system, non è necessario eseguire alcuna operazione ed è possibile pulire le voci di log.</span><span class="sxs-lookup"><span data-stu-id="181e4-205">If the log entries were not properly removed after a successful file update, if the recovery process determines that the content in the log entry matches the file system, nothing needs to be done, and the log entries can be cleaned up.</span></span>

<span data-ttu-id="181e4-206">Nel caso in cui l'operazione di aggiornamento file system sia stata interrotta, la volta successiva che il supporto viene montato da FileX, il modulo a tolleranza di errore analizza le voci di log.</span><span class="sxs-lookup"><span data-stu-id="181e4-206">In case the file system update operation was interrupted, next time the media is mounted by FileX, the Fault Tolerant Module analyzes the log entries.</span></span> <span data-ttu-id="181e4-207">Le informazioni contenute nelle voci di log consentono a FileX di eseguire il backup delle modifiche parziali già applicate al file system (nel caso in cui l'errore si verifica durante la fase iniziale dell'operazione di aggiornamento dei file) o se le voci di log contengono informazioni di riesecuzione, FileX è in grado di applicare le modifiche necessarie per completare l'operazione precedente.</span><span class="sxs-lookup"><span data-stu-id="181e4-207">The information in the log entries allows FileX to back out partial changes already applied to the file system (in case the failure happens during the early stage of the file update operation), or if the log entries contain re-do information, FileX is able to apply the changes required to finish the prior operation.</span></span>

<span data-ttu-id="181e4-208">Questa funzionalità a tolleranza di errore è disponibile per tutti i file system FAT supportati da FileX, tra cui FAT12, FAT16, FAT32 e exFAT.</span><span class="sxs-lookup"><span data-stu-id="181e4-208">This fault tolerant feature is available to all FAT file systems supported by FileX, including FAT12, FAT16, FAT32, and exFAT.</span></span> <span data-ttu-id="181e4-209">Per impostazione predefinita, la tolleranza di errore non è abilitata in FileX.</span><span class="sxs-lookup"><span data-stu-id="181e4-209">By default fault tolerant is not enabled in FileX.</span></span> <span data-ttu-id="181e4-210">Per abilitare la funzionalità di tolleranza di errore, è necessario compilare FileX con il simbolo  **FX_ENABLE_FAULT_TOLERANT** e **FX_FAULT_TOLERANT** definito.</span><span class="sxs-lookup"><span data-stu-id="181e4-210">To enable the fault tolerant feature, FileX must be built with the symbol  **FX_ENABLE_FAULT_TOLERANT** and **FX_FAULT_TOLERANT** defined.</span></span> <span data-ttu-id="181e4-211">In fase di esecuzione, l'applicazione avvia il servizio a tolleranza di errore chiamando **_fx_fault_tolerant_enable_**.</span><span class="sxs-lookup"><span data-stu-id="181e4-211">At run time, the application starts fault tolerant service by calling **_fx_fault_tolerant_enable_**.</span></span>
<span data-ttu-id="181e4-212">Dopo l'avvio del servizio, tutte le operazioni di scrittura di file e directory passano attraverso il modulo a tolleranza di errore.</span><span class="sxs-lookup"><span data-stu-id="181e4-212">After the service starts, all file and directory write operations go through the Fault Tolerant Module.</span></span>

<span data-ttu-id="181e4-213">Poiché il servizio a tolleranza di errore viene avviato, viene innanzitutto rilevato se il supporto è protetto o meno nel modulo a tolleranza di errore.</span><span class="sxs-lookup"><span data-stu-id="181e4-213">As fault tolerant service starts, it first detects whether or not the media is protected under the Fault Tolerant Module.</span></span> <span data-ttu-id="181e4-214">In caso contrario, FileX presuppone l'integrità del file system e avvia la protezione allocando blocchi liberi dall'file system da utilizzare per la registrazione e la memorizzazione nella cache.</span><span class="sxs-lookup"><span data-stu-id="181e4-214">If it is not, FileX assumes integrity of the file system, and starts protection by allocating free blocks from the file system to be used for logging and caching.</span></span> <span data-ttu-id="181e4-215">Se i log del modulo a tolleranza di errore si trovano nella file system, analizza le voci di log.</span><span class="sxs-lookup"><span data-stu-id="181e4-215">If the Fault Tolerant Module logs are found on the file system, it analyzes the log entries.</span></span> <span data-ttu-id="181e4-216">FileX ripristina l'operazione precedente oppure esegue nuovamente l'operazione precedente, a seconda del contenuto delle voci di log.</span><span class="sxs-lookup"><span data-stu-id="181e4-216">FileX reverts the prior operation or redoes the prior operation, depending on the content of the log entries.</span></span> <span data-ttu-id="181e4-217">Il file system diventa disponibile dopo l'elaborazione di tutte le voci di registro precedenti.</span><span class="sxs-lookup"><span data-stu-id="181e4-217">The file system becomes available after all the prior log entries are processed.</span></span> <span data-ttu-id="181e4-218">Ciò garantisce che FIleX inizi da uno stato valido noto.</span><span class="sxs-lookup"><span data-stu-id="181e4-218">This ensures that FIleX starts from a known good state.</span></span>

<span data-ttu-id="181e4-219">Dopo che un supporto è stato protetto con il modulo a tolleranza di errore FileX, il supporto non verrà aggiornato con un altro file system.</span><span class="sxs-lookup"><span data-stu-id="181e4-219">After a media is protected under the FileX Fault Tolerant Module, the media will not be updated with another file system.</span></span> <span data-ttu-id="181e4-220">In questo modo le voci di log nel file system non saranno coerenti con il contenuto della tabella FAT, ovvero la voce di directory.</span><span class="sxs-lookup"><span data-stu-id="181e4-220">Doing so would leave the log entries on the file system inconsistent with the contents in the FAT table, the directory entry.</span></span> <span data-ttu-id="181e4-221">Se il supporto viene aggiornato da un altro file system prima di spostarlo di nuovo in FileX con il modulo a tolleranza di errore, il risultato è indefinito.</span><span class="sxs-lookup"><span data-stu-id="181e4-221">If the media is updated by another file system before moving it back to FileX with the Fault Tolerant Module, the result is undefined.</span></span>

## <a name="callback-functions"></a><span data-ttu-id="181e4-222">Funzioni di callback</span><span class="sxs-lookup"><span data-stu-id="181e4-222">Callback Functions</span></span>

<span data-ttu-id="181e4-223">Le tre funzioni di callback seguenti vengono aggiunte a FileX:</span><span class="sxs-lookup"><span data-stu-id="181e4-223">The following three callback functions are added to FileX:</span></span>

- <span data-ttu-id="181e4-224">Callback aperto del supporto</span><span class="sxs-lookup"><span data-stu-id="181e4-224">Media Open callback</span></span>
- <span data-ttu-id="181e4-225">Callback chiusura supporti</span><span class="sxs-lookup"><span data-stu-id="181e4-225">Media Close callback</span></span>
- <span data-ttu-id="181e4-226">Callback di scrittura file</span><span class="sxs-lookup"><span data-stu-id="181e4-226">File Write callback</span></span>

<span data-ttu-id="181e4-227">Dopo la registrazione, queste funzioni invieranno una notifica all'applicazione quando si verificano tali eventi.</span><span class="sxs-lookup"><span data-stu-id="181e4-227">After registered, these functions will notify the application when such events occur.</span></span>

## <a name="easy-integration"></a><span data-ttu-id="181e4-228">Facile integrazione</span><span class="sxs-lookup"><span data-stu-id="181e4-228">Easy Integration</span></span>

<span data-ttu-id="181e4-229">FileX è facilmente integrato con praticamente qualsiasi dispositivo FLASH o multimediale.</span><span class="sxs-lookup"><span data-stu-id="181e4-229">FileX is easily integrated with virtually any FLASH or media device.</span></span> <span data-ttu-id="181e4-230">Il porting di FileX è semplice.</span><span class="sxs-lookup"><span data-stu-id="181e4-230">Porting FileX is simple.</span></span> <span data-ttu-id="181e4-231">Questa guida descrive il processo in modo dettagliato e il driver RAM del sistema dimostrativo rende un ottimo punto di partenza.</span><span class="sxs-lookup"><span data-stu-id="181e4-231">This guide describes the process in detail, and the RAM driver of the demo system makes for a very good place to start!</span></span>
