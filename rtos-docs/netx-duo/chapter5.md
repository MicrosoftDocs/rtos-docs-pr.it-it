---
title: Capitolo 5-driver di rete di Azure RTO NetX Duo
description: Questo capitolo contiene una descrizione dei driver di rete per Azure RTO NetX Duo.
author: philmea
ms.author: philmea
ms.date: 05/19/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 305c333bf3fb3f6fe76d661426c196afe25fbd5d
ms.sourcegitcommit: 60ad844b58639d88830f2660ab0c4ff86b92c10f
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/07/2021
ms.locfileid: "106549794"
---
# <a name="chapter-5---azure-rtos-netx-duo-network-drivers"></a><span data-ttu-id="e7092-103">Capitolo 5-driver di rete di Azure RTO NetX Duo</span><span class="sxs-lookup"><span data-stu-id="e7092-103">Chapter 5 - Azure RTOS NetX Duo Network Drivers</span></span>

<span data-ttu-id="e7092-104">Questo capitolo contiene una descrizione dei driver di rete per Azure RTO NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e7092-104">This chapter contains a description of network drivers for Azure RTOS NetX Duo.</span></span> <span data-ttu-id="e7092-105">Le informazioni presentate sono progettate per aiutare gli sviluppatori a scrivere driver di rete specifici dell'applicazione per NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e7092-105">The information presented is designed to help developers write application-specific network drivers for NetX Duo.</span></span>

## <a name="driver-introduction"></a><span data-ttu-id="e7092-106">Introduzione al driver</span><span class="sxs-lookup"><span data-stu-id="e7092-106">Driver Introduction</span></span>

<span data-ttu-id="e7092-107">La struttura NX_IP contiene tutti gli elementi necessari per la gestione di una singola istanza IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-107">The NX_IP structure contains everything to manage a single IP instance.</span></span> <span data-ttu-id="e7092-108">Sono incluse informazioni generali sul protocollo TCP/IP, nonché la routine di immissione del driver di rete fisica specifico dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e7092-108">This includes general TCP/IP protocol information as well as the application-specific physical network driver's entry routine.</span></span> <span data-ttu-id="e7092-109">La routine di immissione del driver viene definita durante il servizio \***nx_ip_create** _.</span><span class="sxs-lookup"><span data-stu-id="e7092-109">The driver's entry routine is defined during the \***nx_ip_create** _ service.</span></span> <span data-ttu-id="e7092-110">È possibile aggiungere altri dispositivi all'istanza IP tramite il servizio _ \*_nx_ip_interface_attach_\*\*.</span><span class="sxs-lookup"><span data-stu-id="e7092-110">Additional devices may be added to the IP instance via the _ *_nx_ip_interface_attach_*\* service.</span></span>

<span data-ttu-id="e7092-111">La comunicazione tra NetX Duo e il driver di rete dell'applicazione viene eseguita tramite la struttura della richiesta **NX_IP_DRIVER** .</span><span class="sxs-lookup"><span data-stu-id="e7092-111">Communication between NetX Duo and the application's network driver is accomplished through the **NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="e7092-112">Questa struttura viene spesso definita localmente nello stack del chiamante e viene quindi rilasciata dopo la restituzione del driver e della funzione chiamante.</span><span class="sxs-lookup"><span data-stu-id="e7092-112">This structure is most often defined locally on the caller's stack and is therefore released after the driver and calling function return.</span></span> <span data-ttu-id="e7092-113">La struttura viene definita come indicato di seguito.</span><span class="sxs-lookup"><span data-stu-id="e7092-113">The structure is defined as follows.</span></span>

```c
typedef struct NX_IP_DRIVER_STRUCT
{
      UINT           nx_ip_driver_command;
      UINT           nx_ip_driver_status;
      ULONG          nx_ip_driver_physical_address_msw;
      ULONG          nx_ip_driver_physical_address_lsw;
      NX_PACKET      *nx_ip_driver_packet;
      ULONG          *nx_ip_driver_return_ptr;
      NX_IP          *nx_ip_driver_ptr;
      NX_INTERFACE   *nx_ip_driver_interface;01
} NX_IP_DRIVER;
```
## <a name="driver-entry"></a><span data-ttu-id="e7092-114">Voce driver</span><span class="sxs-lookup"><span data-stu-id="e7092-114">Driver Entry</span></span> 

<span data-ttu-id="e7092-115">NetX Duo richiama la funzione di immissione del driver di rete per l'inizializzazione dei driver e per l'invio di pacchetti e per varie operazioni di controllo e stato, inclusa l'inizializzazione e l'abilitazione del dispositivo di rete.</span><span class="sxs-lookup"><span data-stu-id="e7092-115">NetX Duo invokes the network driver entry function for driver initialization and for sending packets and for various control and status operations, including initializing and enabling the network device.</span></span> <span data-ttu-id="e7092-116">NetX Duo invia comandi al driver di rete impostando il campo \***nx_ip_driver_command** _ nella struttura della richiesta _ \*NX_IP_DRIVER\*\*.</span><span class="sxs-lookup"><span data-stu-id="e7092-116">NetX Duo issues commands to the network driver by setting the ***nx_ip_driver_command** _ field in the _ *NX_IP_DRIVER** request structure.</span></span> <span data-ttu-id="e7092-117">La funzione entry driver ha il formato seguente:</span><span class="sxs-lookup"><span data-stu-id="e7092-117">The driver entry function has the following format:</span></span>

```c
VOID my_driver_entry(NX_IP_DRIVER *request);
```
## <a name="driver-requests"></a><span data-ttu-id="e7092-118">Richieste driver</span><span class="sxs-lookup"><span data-stu-id="e7092-118">Driver Requests</span></span>

<span data-ttu-id="e7092-119">NetX duo crea la richiesta di driver con un comando specifico e richiama la funzione di immissione del driver per eseguire il comando.</span><span class="sxs-lookup"><span data-stu-id="e7092-119">NetX Duo creates the driver request with a specific command and invokes the driver entry function to execute the command.</span></span> <span data-ttu-id="e7092-120">Poiché ogni driver di rete ha una singola funzione entry, NetX duo esegue tutte le richieste attraverso la struttura dei dati della richiesta del driver.</span><span class="sxs-lookup"><span data-stu-id="e7092-120">Because each network driver has a single entry function, NetX Duo makes all requests through the driver request data structure.</span></span> <span data-ttu-id="e7092-121">Il membro ***nx_ip_driver_command** _ della struttura dei dati della richiesta del driver (_* NX_IP_DRIVER \* \*) definisce la richiesta. Le informazioni sullo stato vengono restituite al chiamante nel membro \**_nx_ip_driver_status_*_.</span><span class="sxs-lookup"><span data-stu-id="e7092-121">The ***nx_ip_driver_command** _ member of the driver request data structure (_*NX_IP_DRIVER\*\*) defines the request. Status information is reported back to the caller in the member \**_nx_ip_driver_status_*_.</span></span> <span data-ttu-id="e7092-122">Se questo campo è _ \* NX_SUCCESS \* \*, la richiesta del driver è stata completata correttamente.</span><span class="sxs-lookup"><span data-stu-id="e7092-122">If this field is _\*NX_SUCCESS\*\*, the driver request was completed successfully.</span></span>

<span data-ttu-id="e7092-123">NetX Duo serializza tutti gli accessi al driver.</span><span class="sxs-lookup"><span data-stu-id="e7092-123">NetX Duo serializes all access to the driver.</span></span> <span data-ttu-id="e7092-124">Pertanto, il driver non deve gestire più thread in modo asincrono chiamando la funzione entry.</span><span class="sxs-lookup"><span data-stu-id="e7092-124">Therefore, the driver does not need to handle multiple threads asynchronously calling the entry function.</span></span> <span data-ttu-id="e7092-125">Si noti che la funzione driver di dispositivo viene eseguita con il mutex IP bloccato.</span><span class="sxs-lookup"><span data-stu-id="e7092-125">Note that the device driver function executes with the IP mutex locked.</span></span> <span data-ttu-id="e7092-126">Pertanto la funzione interna del driver di dispositivo non verrà bloccata.</span><span class="sxs-lookup"><span data-stu-id="e7092-126">Therefore the device driver internal function shall not block itself.</span></span>

<span data-ttu-id="e7092-127">In genere, il driver di dispositivo gestisce anche gli interrupt.</span><span class="sxs-lookup"><span data-stu-id="e7092-127">Typically the device driver also handles interrupts.</span></span> <span data-ttu-id="e7092-128">Pertanto, tutte le funzioni del driver devono essere interrotte.</span><span class="sxs-lookup"><span data-stu-id="e7092-128">Therefore, all driver functions need to be interrupt-safe.</span></span>

### <a name="driver-initialization"></a><span data-ttu-id="e7092-129">Inizializzazione driver</span><span class="sxs-lookup"><span data-stu-id="e7092-129">Driver Initialization</span></span>   
<span data-ttu-id="e7092-130">Sebbene l'elaborazione effettiva dell'inizializzazione dei driver sia specifica dell'applicazione, in genere è costituita dalla struttura dei dati e dall'inizializzazione dell'hardware fisico.</span><span class="sxs-lookup"><span data-stu-id="e7092-130">Although the actual driver initialization processing is application specific, it usually consists of data structure and physical hardware initialization.</span></span> <span data-ttu-id="e7092-131">Le informazioni richieste da NetX Duo per l'inizializzazione dei driver sono l'unità di trasmissione massima (MTU) IP, ovvero il numero di byte disponibili per il payload del livello IP, inclusa l'intestazione IPv4 o IPv6, e se l'interfaccia fisica necessita di un mapping logico a fisico.</span><span class="sxs-lookup"><span data-stu-id="e7092-131">The information required from NetX Duo for driver initialization is the IP Maximum Transmission Unit (MTU), which is the number of bytes available to the IP-layer payload, including IPv4 or IPv6 header) and if the physical interface needs logical-to-physical mapping.</span></span> <span data-ttu-id="e7092-132">Il driver configura il valore MTU dell'interfaccia chiamando ***nx_ip_interface_mtu_set***.</span><span class="sxs-lookup"><span data-stu-id="e7092-132">The driver configures the interface MTU value by calling ***nx_ip_interface_mtu_set***.</span></span>

<span data-ttu-id="e7092-133">Il driver di dispositivo deve chiamare \***nx_ip_interface_address_mapping_configure** _ per informare NETX Duo se è necessario o meno il mapping degli indirizzi di interfaccia.</span><span class="sxs-lookup"><span data-stu-id="e7092-133">The device driver needs to call \***nx_ip_interface_address_mapping_configure** _ to inform NetX Duo whether or not interface address mapping is required.</span></span> <span data-ttu-id="e7092-134">Se è necessario il mapping degli indirizzi, il driver è responsabile della configurazione dell'interfaccia con un indirizzo MAC valido e fornisce l'indirizzo MAC a NetX tramite _ *_nx_ip_interface_physical_address_set_* \*.</span><span class="sxs-lookup"><span data-stu-id="e7092-134">If address mapping is needed, the driver is responsible for configuring the interface with valid MAC address, and supply the MAC address to NetX via _\*_nx_ip_interface_physical_address_set_\*\*.</span></span>

<span data-ttu-id="e7092-135">Quando il driver di rete riceve la richiesta di INIZIALIZZAzione NX_LINK da NetX Duo, riceve un puntatore al blocco di controllo IP come parte del blocco di controllo delle richieste NX_IP_DRIVER illustrato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="e7092-135">When the network driver receives the NX_LINK INITIALIZE request from NetX Duo, it receives a pointer to the IP control block as part of the NX_IP_DRIVER request control block shown above.</span></span>

<span data-ttu-id="e7092-136">Dopo che l'applicazione chiama ***nx_ip_create***, il thread helper IP invia una richiesta di driver con il set di comandi per NX_LINK_INITIALIZE al driver per inizializzare l'interfaccia di rete fisica.</span><span class="sxs-lookup"><span data-stu-id="e7092-136">After the application calls ***nx_ip_create***, the IP helper thread sends a driver request with the command set to NX_LINK_INITIALIZE to the driver to initialize its physical network interface.</span></span> <span data-ttu-id="e7092-137">Per la richiesta Initialize vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-137">The following NX_IP_DRIVER members are used for the initialize request.</span></span>

| <span data-ttu-id="e7092-138">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-138">NX_IP_DRIVER&nbsp;member</span></span> | <span data-ttu-id="e7092-139">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-139">Meaning</span></span>    |
| ------------------------- | ----------------------------- |
| <span data-ttu-id="e7092-140">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-140">nx_ip_driver_command</span></span>   | <span data-ttu-id="e7092-141">NX_LINK_INITIALIZE</span><span class="sxs-lookup"><span data-stu-id="e7092-141">NX_LINK_INITIALIZE</span></span>    |
| <span data-ttu-id="e7092-142">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-142">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e7092-143">Puntatore all'istanza IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-143">Pointer to the IP instance.</span></span> <span data-ttu-id="e7092-144">Questo valore deve essere salvato dal driver in modo che la funzione driver possa trovare l'istanza IP su cui operare.</span><span class="sxs-lookup"><span data-stu-id="e7092-144">This value should be saved by the driver so that the driver function can find the IP instance to operate on.</span></span>    |
| <span data-ttu-id="e7092-145">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-145">nx_ip_driver_interface</span></span> | <span data-ttu-id="e7092-146">Puntatore alla struttura dell'interfaccia di rete all'interno dell'istanza di IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-146">Pointer to the network interface structure within the IP instance.</span></span> <span data-ttu-id="e7092-147">Queste informazioni devono essere salvate dal driver.</span><span class="sxs-lookup"><span data-stu-id="e7092-147">This information should be saved by the driver.</span></span> <span data-ttu-id="e7092-148">Durante la ricezione di pacchetti, il driver deve utilizzare le informazioni sulla struttura dell'interfaccia quando invia il pacchetto allo stack.</span><span class="sxs-lookup"><span data-stu-id="e7092-148">On receiving packets, the driver shall use the interface structure information when sending the packet up the stack.</span></span> <span data-ttu-id="e7092-149">È possibile ottenere l'indice di interfaccia (indice del dispositivo) leggendo il membro nx_interface_index all'interno della struttura di dati.</span><span class="sxs-lookup"><span data-stu-id="e7092-149">The interface index (device index) can be obtained by reading the member nx_interface_index inside this data structure.</span></span> |
| <span data-ttu-id="e7092-150">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-150">nx_ip_driver_status</span></span>    | <span data-ttu-id="e7092-151">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-151">Completion status.</span></span> <span data-ttu-id="e7092-152">Se il driver non è in grado di inizializzare l'interfaccia specificata nell'istanza IP, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-152">If the driver is not able to initialize the specified interface to the IP instance, it will return a nonzero error status.</span></span> |


> [!NOTE]  
> <span data-ttu-id="e7092-153">*Il driver viene effettivamente chiamato dal thread helper IP creato per l'istanza IP. Pertanto, la routine del driver deve evitare l'esecuzione di operazioni di blocco o il thread helper IP potrebbe bloccarsi, causando ritardi non vincolati per le applicazioni che si basano sul thread IP*.</span><span class="sxs-lookup"><span data-stu-id="e7092-153">*The driver is actually called from the IP helper thread that was created for the IP instance. Therefore the driver routine should avoid performing blocking operations, or the IP helper thread could stall, causing unbounded delays to applications that rely on the IP thread*.</span></span>

### <a name="enable-link"></a><span data-ttu-id="e7092-154">Abilita collegamento</span><span class="sxs-lookup"><span data-stu-id="e7092-154">Enable Link</span></span>   
<span data-ttu-id="e7092-155">Il thread helper IP Abilita quindi la rete fisica impostando il comando del driver su NX_LINK_ENABLE nella richiesta del driver e inviando la richiesta al driver di rete.</span><span class="sxs-lookup"><span data-stu-id="e7092-155">Next, the IP helper thread enables the physical network by setting the driver command to NX_LINK_ENABLE in the driver request and sending the request to the network driver.</span></span> <span data-ttu-id="e7092-156">Questo errore si verifica poco dopo che il thread helper IP ha completato la richiesta di inizializzazione.</span><span class="sxs-lookup"><span data-stu-id="e7092-156">This happens shortly after the IP helper thread completes the initialization request.</span></span> <span data-ttu-id="e7092-157">L'abilitazione del collegamento può essere semplice quanto impostare il campo *nx_interface_link_up* nell'istanza dell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="e7092-157">Enabling the link may be as simple as setting the *nx_interface_link_up* field in the interface instance.</span></span> <span data-ttu-id="e7092-158">Ma potrebbe anche comportare la manipolazione dell'hardware fisico.</span><span class="sxs-lookup"><span data-stu-id="e7092-158">But it may also involve manipulation of the physical hardware.</span></span> <span data-ttu-id="e7092-159">Per la richiesta Enable link vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-159">The following NX_IP_DRIVER members are used for the enable link request.</span></span>

| <span data-ttu-id="e7092-160">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-160">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="e7092-161">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-161">Meaning</span></span>                      |
| ------------------------- | ---------------------------- |
| <span data-ttu-id="e7092-162">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-162">nx_ip_driver_command</span></span>   | <span data-ttu-id="e7092-163">NX_LINK_ENABLE</span><span class="sxs-lookup"><span data-stu-id="e7092-163">NX_LINK_ENABLE</span></span>   |
| <span data-ttu-id="e7092-164">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-164">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e7092-165">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-165">Pointer to IP instance</span></span>  |
| <span data-ttu-id="e7092-166">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-166">nx_ip_driver_interface</span></span> | <span data-ttu-id="e7092-167">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-167">Pointer to the interface instance</span></span> |
| <span data-ttu-id="e7092-168">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-168">nx_ip_driver_status</span></span>    | <span data-ttu-id="e7092-169">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-169">Completion status.</span></span> <span data-ttu-id="e7092-170">Se il driver non è in grado di abilitare l'interfaccia specificata, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-170">If the driver is not able to enable the specified interface, it will return a non-zero error status.</span></span> |

### <a name="disable-link"></a><span data-ttu-id="e7092-171">Disabilita collegamento</span><span class="sxs-lookup"><span data-stu-id="e7092-171">Disable Link</span></span>   
<span data-ttu-id="e7092-172">Questa richiesta viene effettuata da NetX duo durante l'eliminazione di un'istanza IP dal servizio \***nx_ip_delete** _.</span><span class="sxs-lookup"><span data-stu-id="e7092-172">This request is made by NetX Duo during the deletion of an IP instance by the \***nx_ip_delete** _ service.</span></span> <span data-ttu-id="e7092-173">In alternativa, un'applicazione può emettere questo comando per disabilitare temporaneamente il collegamento per risparmiare energia.</span><span class="sxs-lookup"><span data-stu-id="e7092-173">Or an application may issue this command in order to temporarily disable the link in order to save power.</span></span> <span data-ttu-id="e7092-174">Questo servizio Disabilita l'interfaccia di rete fisica nell'istanza IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-174">This service disables the physical network interface on the IP instance.</span></span> <span data-ttu-id="e7092-175">L'elaborazione per disabilitare il collegamento può essere semplice quanto la cancellazione del _flag nx_interface_link_up \* nell'istanza dell'interfaccia. Ma potrebbe anche comportare la manipolazione dell'hardware fisico. In genere si tratta di un'operazione inversa dell'operazione \***Enable link**_ .</span><span class="sxs-lookup"><span data-stu-id="e7092-175">The processing to disable the link may be as simple as clearing the _nx_interface_link_up\* flag in the interface instance. But it may also involve manipulation of the physical hardware. Typically it is a reverse operation of the \***Enable Link**_ operation.</span></span> <span data-ttu-id="e7092-176">Dopo che il collegamento è stato disabilitato, l'operazione richiesta dell'applicazione _ *_Abilita collegamento_*\* per abilitare l'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="e7092-176">After the link is disabled, the application request _ *_Enable Link_*\* operation to enable the interface.</span></span>

<span data-ttu-id="e7092-177">Per la richiesta di disabilitazione del collegamento vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-177">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="e7092-178">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-178">NX_IP_DRIVER&nbsp;member</span></span>     | <span data-ttu-id="e7092-179">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-179">Meaning</span></span>                      |
| ------------------------- | ---------------------------- |
| <span data-ttu-id="e7092-180">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-180">nx_ip_driver_command</span></span>   | <span data-ttu-id="e7092-181">NX_LINK_DISABLE</span><span class="sxs-lookup"><span data-stu-id="e7092-181">NX_LINK_DISABLE</span></span>    |
| <span data-ttu-id="e7092-182">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-182">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e7092-183">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-183">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e7092-184">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-184">nx_ip_driver_interface</span></span> | <span data-ttu-id="e7092-185">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-185">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="e7092-186">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-186">nx_ip_driver_status</span></span>    | <span data-ttu-id="e7092-187">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-187">Completion status.</span></span> <span data-ttu-id="e7092-188">Se il driver non è in grado di disabilitare l'interfaccia specificata nell'istanza IP, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-188">If the driver is not able to disable the specified interface in the IP instance, it will return a non-zero error status.</span></span> |

### <a name="uninitialize-link"></a><span data-ttu-id="e7092-189">Uninitialize (collegamento)</span><span class="sxs-lookup"><span data-stu-id="e7092-189">Uninitialize Link</span></span>   
<span data-ttu-id="e7092-190">Questa richiesta viene effettuata da NetX duo durante l'eliminazione di un'istanza IP dal servizio \***nx_ip_delete** _.</span><span class="sxs-lookup"><span data-stu-id="e7092-190">This request is made by NetX Duo during the deletion of an IP instance by the \***nx_ip_delete** _ service.</span></span> <span data-ttu-id="e7092-191">Questa richiesta annullata l'inizializzazione dell'interfaccia e rilascia tutte le risorse create durante la fase di inizializzazione.</span><span class="sxs-lookup"><span data-stu-id="e7092-191">This request uninitialize the interface, and release any resources created during initialization phase.</span></span> <span data-ttu-id="e7092-192">In genere si tratta di un'operazione inversa dell'operazione _ \*_Initialize link_\*\*.</span><span class="sxs-lookup"><span data-stu-id="e7092-192">Typically it is a reverse operation of the _ *_Initialize Link_*\* operation.</span></span> <span data-ttu-id="e7092-193">Quando l'interfaccia è uninitalized, il dispositivo non può essere usato finché l'interfaccia non viene inizializzata nuovamente.</span><span class="sxs-lookup"><span data-stu-id="e7092-193">After the interface is uninitalized, the device cannot be used until the interface is initialized again.</span></span>

<span data-ttu-id="e7092-194">Per la richiesta di disabilitazione del collegamento vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-194">The following NX_IP_DRIVER members are used for the disable link request.</span></span>

| <span data-ttu-id="e7092-195">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-195">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="e7092-196">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-196">Meaning</span></span>                  |
|------------------------|--------------------------|
| <span data-ttu-id="e7092-197">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-197">nx_ip_driver_command</span></span>   | <span data-ttu-id="e7092-198">NX_LINK_UNINITIALZE</span><span class="sxs-lookup"><span data-stu-id="e7092-198">NX_LINK_UNINITIALZE</span></span>      |
| <span data-ttu-id="e7092-199">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-199">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e7092-200">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-200">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e7092-201">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-201">nx_ip_driver_interface</span></span> | <span data-ttu-id="e7092-202">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-202">Pointer to the interface instance</span></span> |
| <span data-ttu-id="e7092-203">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-203">nx_ip_driver_status</span></span>    | <span data-ttu-id="e7092-204">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-204">Completion status.</span></span> <span data-ttu-id="e7092-205">Se il driver non è in grado di annullare l'inizializzazione dell'interfaccia specificata nell'istanza IP, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-205">If the driver is not able to uninitialize the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="packet-send"></a><span data-ttu-id="e7092-206">Invio pacchetti</span><span class="sxs-lookup"><span data-stu-id="e7092-206">Packet Send</span></span>   
<span data-ttu-id="e7092-207">Questa richiesta viene eseguita durante l'elaborazione di trasmissione IPv4 o IPv6 interna, che tutti i protocolli NetX Duo utilizzano per trasmettere i pacchetti (ad eccezione di ARP, RARP).</span><span class="sxs-lookup"><span data-stu-id="e7092-207">This request is made during internal IPv4 or IPv6 send processing, which all NetX Duo protocols use to transmit packets (except for ARP, RARP).</span></span> <span data-ttu-id="e7092-208">Alla ricezione del comando di invio di pacchetti, il *nx_packet_prepend_ptr* punta all'inizio del pacchetto da inviare, ovvero l'inizio dell'intestazione IPv4 o IPv6.</span><span class="sxs-lookup"><span data-stu-id="e7092-208">On receiving the packet send command, the *nx_packet_prepend_ptr* points to the beginning of the packet to be sent, which is the beginning of the IPv4 or IPv6 header.</span></span> <span data-ttu-id="e7092-209">*nx_packet_length* indica le dimensioni totali (in byte) dei dati da trasmettere.</span><span class="sxs-lookup"><span data-stu-id="e7092-209">*nx_packet_length* indicates the total size (in bytes) of the data being transmitted.</span></span> <span data-ttu-id="e7092-210">Se *nx_packet_next* è valido, il datagramma IP in uscita viene archiviato in più pacchetti, il driver è necessario per seguire il pacchetto concatenato e trasmettere l'intero frame.</span><span class="sxs-lookup"><span data-stu-id="e7092-210">If *nx_packet_next* is valid, the outgoing IP datagram is stored in multiple packets, the driver is required to follow the chained packet and transmit the entire frame.</span></span> <span data-ttu-id="e7092-211">Si noti che l'area dati valida in ogni pacchetto concatenato viene archiviata tra *nx_packet_prepend_ptr* e *nx_packet_append_ptr*.</span><span class="sxs-lookup"><span data-stu-id="e7092-211">Note that valid data area in each chained packet is stored between *nx_packet_prepend_ptr* and *nx_packet_append_ptr*.</span></span>

<span data-ttu-id="e7092-212">Il driver è responsabile della costruzione di un'intestazione fisica.</span><span class="sxs-lookup"><span data-stu-id="e7092-212">The driver is responsible for constructing physical header.</span></span> <span data-ttu-id="e7092-213">Se è necessario un indirizzo fisico per il mapping degli indirizzi IP (ad esempio Ethernet), il livello IP ha già risolto l'indirizzo MAC.</span><span class="sxs-lookup"><span data-stu-id="e7092-213">If physical address to IP address mapping is required (such as Ethernet), the IP layer already resolved the MAC address.</span></span> <span data-ttu-id="e7092-214">L'indirizzo MAC di destinazione viene passato dall'istanza IP, archiviato in *nx_ip_driver_physical_address_msw e nx_ip_driver_physical_address_lsw*.</span><span class="sxs-lookup"><span data-stu-id="e7092-214">The destination MAC address is passed from the IP instance, stored in *nx_ip_driver_physical_address_msw and nx_ip_driver_physical_address_lsw*.</span></span>

<span data-ttu-id="e7092-215">Dopo l'aggiunta dell'intestazione fisica, l'elaborazione di trasmissione dei pacchetti chiama quindi la funzione di output del driver per trasmettere il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e7092-215">After adding the physical header, the packet send processing then calls the driver's output function to transmit the packet.</span></span>

<span data-ttu-id="e7092-216">Per la richiesta di invio del pacchetto vengono usati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-216">The following NX_IP_DRIVER members are used for the packet send request.</span></span>

| <span data-ttu-id="e7092-217">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-217">NX_IP_DRIVER&nbsp;member</span></span>              | <span data-ttu-id="e7092-218">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-218">Meaning</span></span>                               |
| -----------------------------------| --------------------------------------|
| <span data-ttu-id="e7092-219">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-219">nx_ip_driver_command</span></span>            | <span data-ttu-id="e7092-220">NX_LINK_PACKET_SEND</span><span class="sxs-lookup"><span data-stu-id="e7092-220">NX_LINK_PACKET_SEND</span></span>                |
| <span data-ttu-id="e7092-221">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-221">nx_ip_driver_ptr</span></span>                | <span data-ttu-id="e7092-222">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-222">Pointer to IP instance</span></span>                |
| <span data-ttu-id="e7092-223">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="e7092-223">nx_ip_driver_packet</span></span>             | <span data-ttu-id="e7092-224">Puntatore al pacchetto da inviare</span><span class="sxs-lookup"><span data-stu-id="e7092-224">Pointer to the packet to send</span></span>         |
| <span data-ttu-id="e7092-225">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-225">nx_ip_driver_interface</span></span>          | <span data-ttu-id="e7092-226">Puntatore all'istanza dell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="e7092-226">Pointer to the interface instance.</span></span>    |
| <span data-ttu-id="e7092-227">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="e7092-227">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="e7092-228">Più significativi 32 bit di indirizzo fisico (solo se è necessario il mapping fisico)</span><span class="sxs-lookup"><span data-stu-id="e7092-228">Most significant 32-bits of physical address (only if physical mapping needed)</span></span> |
| <span data-ttu-id="e7092-229">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e7092-229">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="e7092-230">Meno significativi 32 bit di indirizzo fisico (solo se è necessario il mapping fisico)</span><span class="sxs-lookup"><span data-stu-id="e7092-230">Least significant 32-bits of physical address (only if physical mapping needed)</span></span> |
| <span data-ttu-id="e7092-231">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-231">nx_ip_driver_status</span></span>             | <span data-ttu-id="e7092-232">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-232">Completion status.</span></span> <span data-ttu-id="e7092-233">Se il driver non è in grado di inviare il pacchetto, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-233">If the driver is not able to send the packet, it will return a non-zero error status.</span></span> |

### <a name="packet-broadcastipv4-packets-only"></a><span data-ttu-id="e7092-234">Trasmissione pacchetti (solo pacchetti IPv4)</span><span class="sxs-lookup"><span data-stu-id="e7092-234">Packet Broadcast(IPv4 packets only)</span></span>  
<span data-ttu-id="e7092-235">Questa richiesta è quasi identica alla richiesta di invio del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e7092-235">This request is almost identical to the send packet request.</span></span> <span data-ttu-id="e7092-236">L'unica differenza è che i campi indirizzo fisico di destinazione sono impostati sull'indirizzo MAC broadcast Ethernet.</span><span class="sxs-lookup"><span data-stu-id="e7092-236">The only difference is that the destination physical address fields are set to the Ethernet broadcast MAC address.</span></span> <span data-ttu-id="e7092-237">Per la richiesta di trasmissione pacchetti vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-237">The following NX_IP_DRIVER members are used for the packet broadcast request.</span></span>

| <span data-ttu-id="e7092-238">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-238">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="e7092-239">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-239">Meaning</span></span>                                                                                                  |
|------------------------------------|----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e7092-240">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-240">nx_ip_driver_command</span></span>               | <span data-ttu-id="e7092-241">NX_LINK_PACKET_BROADCAST</span><span class="sxs-lookup"><span data-stu-id="e7092-241">NX_LINK_PACKET_BROADCAST</span></span>                                                                                 |
| <span data-ttu-id="e7092-242">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-242">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="e7092-243">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-243">Pointer to IP instance</span></span>                                                                                   |
| <span data-ttu-id="e7092-244">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="e7092-244">nx_ip_driver_packet</span></span>                | <span data-ttu-id="e7092-245">Puntatore al pacchetto da inviare</span><span class="sxs-lookup"><span data-stu-id="e7092-245">Pointer to the packet to send</span></span>                                                                            |
| <span data-ttu-id="e7092-246">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="e7092-246">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="e7092-247">0x0000FFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="e7092-247">0x0000FFFF (broadcast)</span></span>                                                                                   |
| <span data-ttu-id="e7092-248">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e7092-248">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="e7092-249">0xFFFFFFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="e7092-249">0xFFFFFFFF (broadcast)</span></span>                                                                                   |
| <span data-ttu-id="e7092-250">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-250">nx_ip_driver_interface</span></span>             | <span data-ttu-id="e7092-251">Puntatore all'istanza dell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="e7092-251">Pointer to the interface instance.</span></span>                                                                       |
| <span data-ttu-id="e7092-252">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-252">nx_ip_driver_status</span></span>                | <span data-ttu-id="e7092-253">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-253">Completion status.</span></span> <span data-ttu-id="e7092-254">Se il driver non è in grado di inviare il pacchetto, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-254">If the driver is not able to send the packet, it will return a non-zero error status.</span></span> |

### <a name="arp-send"></a><span data-ttu-id="e7092-255">Invio ARP</span><span class="sxs-lookup"><span data-stu-id="e7092-255">ARP Send</span></span>  
<span data-ttu-id="e7092-256">Questa richiesta è simile anche alla richiesta di invio di pacchetti IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-256">This request is also similar to the IP packet send request.</span></span> <span data-ttu-id="e7092-257">L'unica differenza è che l'intestazione Ethernet specifica un pacchetto ARP anziché un pacchetto IP e i campi dell'indirizzo fisico di destinazione sono impostati su indirizzo di trasmissione MAC.</span><span class="sxs-lookup"><span data-stu-id="e7092-257">The only difference is that the Ethernet header specifies an ARP packet instead of an IP packet, and destination physical address fields are set to MAC broadcast address.</span></span> <span data-ttu-id="e7092-258">Per la richiesta di invio ARP vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-258">The following NX_IP_DRIVER members are used for the ARP send request.</span></span>

| <span data-ttu-id="e7092-259">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-259">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="e7092-260">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-260">Meaning</span></span>                                                                                                      |
|------------------------------------|--------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e7092-261">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-261">nx_ip_driver_command</span></span>               | <span data-ttu-id="e7092-262">NX_LINK_ARP_SEND</span><span class="sxs-lookup"><span data-stu-id="e7092-262">NX_LINK_ARP_SEND</span></span>                                                                                             |
| <span data-ttu-id="e7092-263">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-263">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="e7092-264">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-264">Pointer to IP instance</span></span>                                                                                       |
| <span data-ttu-id="e7092-265">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="e7092-265">nx_ip_driver_packet</span></span>                | <span data-ttu-id="e7092-266">Puntatore al pacchetto da inviare</span><span class="sxs-lookup"><span data-stu-id="e7092-266">Pointer to the packet to send</span></span>                                                                                |
| <span data-ttu-id="e7092-267">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="e7092-267">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="e7092-268">0x0000FFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="e7092-268">0x0000FFFF (broadcast)</span></span>                                                                                       |
| <span data-ttu-id="e7092-269">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e7092-269">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="e7092-270">0xFFFFFFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="e7092-270">0xFFFFFFFF (broadcast)</span></span>                                                                                       |
| <span data-ttu-id="e7092-271">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-271">nx_ip_driver_interface</span></span>             | <span data-ttu-id="e7092-272">Puntatore all'istanza dell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="e7092-272">Pointer to the interface instance.</span></span>                                                                           |
| <span data-ttu-id="e7092-273">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-273">nx_ip_driver_status</span></span>                | <span data-ttu-id="e7092-274">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-274">Completion status.</span></span> <span data-ttu-id="e7092-275">Se il driver non è in grado di inviare il pacchetto ARP, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-275">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e7092-276">*Se il mapping fisico non è necessario, l'implementazione della richiesta non è obbligatoria*.</span><span class="sxs-lookup"><span data-stu-id="e7092-276">*If physical mapping is not needed, implementation of this request is not required*.</span></span>

<span data-ttu-id="e7092-277">*Sebbene ARP sia stato sostituito con il protocollo di individuazione Neighbor e il protocollo di individuazione router in IPv6, i driver di rete Ethernet devono comunque essere compatibili con i peer e i router IPv4. Pertanto, i driver devono comunque gestire i pacchetti ARP*.</span><span class="sxs-lookup"><span data-stu-id="e7092-277">*Although ARP has been replaced with the Neighbor Discovery Protocol and the Router Discovery Protocol in IPv6, Ethernet network drivers must still be compatible with IPv4 peers and routers. Therefore, drivers must still handle ARP packets*.</span></span>

### <a name="arp-response-send"></a><span data-ttu-id="e7092-278">Invio risposta ARP</span><span class="sxs-lookup"><span data-stu-id="e7092-278">ARP Response Send</span></span>  
<span data-ttu-id="e7092-279">Questa richiesta è quasi identica alla richiesta di invio di pacchetti ARP.</span><span class="sxs-lookup"><span data-stu-id="e7092-279">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="e7092-280">L'unica differenza è che i campi dell'indirizzo fisico di destinazione vengono passati dall'istanza IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-280">The only difference is the destination physical address fields are passed from the IP instance.</span></span> <span data-ttu-id="e7092-281">Per la richiesta di invio risposta ARP vengono usati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-281">The following NX_IP_DRIVER members are used for the ARP response send request.</span></span>

| <span data-ttu-id="e7092-282">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-282">NX_IP_DRIVER&nbsp;member</span></span>                  | <span data-ttu-id="e7092-283">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-283">Meaning</span></span>                                  |
| -------------------------------------- | -----------------------------------------|
| <span data-ttu-id="e7092-284">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-284">nx_ip_driver_command</span></span>                | <span data-ttu-id="e7092-285">NX_LINK_ARP_RESPONSE_SEND</span><span class="sxs-lookup"><span data-stu-id="e7092-285">NX_LINK_ARP_RESPONSE_SEND</span></span>            |
| <span data-ttu-id="e7092-286">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-286">nx_ip_driver_ptr</span></span>                    | <span data-ttu-id="e7092-287">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-287">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e7092-288">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="e7092-288">nx_ip_driver_packet</span></span>                 | <span data-ttu-id="e7092-289">Puntatore al pacchetto da inviare</span><span class="sxs-lookup"><span data-stu-id="e7092-289">Pointer to the packet to send</span></span>          |
| <span data-ttu-id="e7092-290">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="e7092-290">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="e7092-291">Più significativi 32 bit di indirizzo fisico</span><span class="sxs-lookup"><span data-stu-id="e7092-291">Most significant 32-bits of physical address</span></span> |
| <span data-ttu-id="e7092-292">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e7092-292">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="e7092-293">Meno significativi 32 bit di indirizzo fisico</span><span class="sxs-lookup"><span data-stu-id="e7092-293">Least significant 32-bits of physical address</span></span> |
| <span data-ttu-id="e7092-294">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-294">nx_ip_driver_interface</span></span>              | <span data-ttu-id="e7092-295">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-295">Pointer to the interface instance</span></span> |
| <span data-ttu-id="e7092-296">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-296">nx_ip_driver_status</span></span>                 | <span data-ttu-id="e7092-297">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-297">Completion status.</span></span> <span data-ttu-id="e7092-298">Se il driver non è in grado di inviare il pacchetto ARP, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-298">If the driver is not able to send the ARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e7092-299">*Se il mapping fisico non è necessario, l'implementazione della richiesta non è obbligatoria*.</span><span class="sxs-lookup"><span data-stu-id="e7092-299">*If physical mapping is not needed, implementation of this request is not required*.</span></span>

### <a name="rarp-send"></a><span data-ttu-id="e7092-300">Invio di RARP</span><span class="sxs-lookup"><span data-stu-id="e7092-300">RARP Send</span></span>   
<span data-ttu-id="e7092-301">Questa richiesta è quasi identica alla richiesta di invio di pacchetti ARP.</span><span class="sxs-lookup"><span data-stu-id="e7092-301">This request is almost identical to the ARP send packet request.</span></span> <span data-ttu-id="e7092-302">Le uniche differenze sono il tipo di intestazione del pacchetto e i campi dell'indirizzo fisico non sono necessari perché la destinazione fisica è sempre un indirizzo di broadcast.</span><span class="sxs-lookup"><span data-stu-id="e7092-302">The only differences are the type of packet header and the physical address fields are not required because the physical destination is always a broadcast address.</span></span>

<span data-ttu-id="e7092-303">Per la richiesta di invio RARP vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-303">The following NX_IP_DRIVER members are used for the RARP send request.</span></span>

| <span data-ttu-id="e7092-304">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-304">NX_IP_DRIVER&nbsp;member</span></span>                | <span data-ttu-id="e7092-305">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-305">Meaning</span></span>                                                                                                       |
|------------------------------------|---------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e7092-306">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-306">nx_ip_driver_command</span></span>               | <span data-ttu-id="e7092-307">NX_LINK_RARP_SEND</span><span class="sxs-lookup"><span data-stu-id="e7092-307">NX_LINK_RARP_SEND</span></span>                                                                                             |
| <span data-ttu-id="e7092-308">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-308">nx_ip_driver_ptr</span></span>                   | <span data-ttu-id="e7092-309">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-309">Pointer to IP instance</span></span>                                                                                        |
| <span data-ttu-id="e7092-310">nx_ip_driver_packet</span><span class="sxs-lookup"><span data-stu-id="e7092-310">nx_ip_driver_packet</span></span>                | <span data-ttu-id="e7092-311">Puntatore al pacchetto da inviare</span><span class="sxs-lookup"><span data-stu-id="e7092-311">Pointer to the packet to send</span></span>                                                                                 |
| <span data-ttu-id="e7092-312">nx_ip_driver_physical_address_ms w</span><span class="sxs-lookup"><span data-stu-id="e7092-312">nx_ip_driver_physical_address_ms w</span></span> | <span data-ttu-id="e7092-313">0x0000FFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="e7092-313">0x0000FFFF (broadcast)</span></span>                                                                                        |
| <span data-ttu-id="e7092-314">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e7092-314">nx_ip_driver_physical_address_lsw</span></span>  | <span data-ttu-id="e7092-315">0xFFFFFFFF (broadcast)</span><span class="sxs-lookup"><span data-stu-id="e7092-315">0xFFFFFFFF (broadcast)</span></span>                                                                                        |
| <span data-ttu-id="e7092-316">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-316">nx_ip_driver_interface</span></span>             | <span data-ttu-id="e7092-317">Puntatore all'istanza dell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="e7092-317">Pointer to the interface instance.</span></span>                                                                            |
| <span data-ttu-id="e7092-318">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-318">nx_ip_driver_status</span></span>                | <span data-ttu-id="e7092-319">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-319">Completion status.</span></span> <span data-ttu-id="e7092-320">Se il driver non è in grado di inviare il pacchetto RARP, viene restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-320">If the driver is not able to send the RARP packet, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e7092-321">*Le applicazioni che richiedono il servizio RARP devono implementare questo comando*.</span><span class="sxs-lookup"><span data-stu-id="e7092-321">*Applications that require RARP service must implement this command*.</span></span>

### <a name="multicast-group-join"></a><span data-ttu-id="e7092-322">Join gruppo multicast</span><span class="sxs-lookup"><span data-stu-id="e7092-322">Multicast Group Join</span></span>   
<span data-ttu-id="e7092-323">Questa richiesta viene effettuata con il servizio ***nx_igmp_multicast_interface join** _ e _*_Nx_ipv4_multicast_interface_join_*_ nel servizio IPv4, _ *_nxd_ipv6_multicast_interface_join_** in IPv6 e varie operazioni richieste da IPv6.</span><span class="sxs-lookup"><span data-stu-id="e7092-323">This request is made with the ***nx_igmp_multicast_interface join** _ and _*_nx_ipv4_multicast_interface_join_*_ service in IPv4, _ *_nxd_ipv6_multicast_interface_join_** service in IPv6, and various operation required by IPv6.</span></span> <span data-ttu-id="e7092-324">Il driver di rete accetta l'indirizzo del gruppo multicast fornito e configura il supporto fisico per accettare i pacchetti in ingresso da tale indirizzo del gruppo multicast.</span><span class="sxs-lookup"><span data-stu-id="e7092-324">The network driver takes the supplied multicast group address and sets up the physical media to accept incoming packets from that multicast group address.</span></span> <span data-ttu-id="e7092-325">Si noti che per i driver che non supportano il filtro multicast, la logica di ricezione del driver potrebbe essere in modalità promiscua.</span><span class="sxs-lookup"><span data-stu-id="e7092-325">Note that for drivers that don't support multicast filter, the driver receive logic may have to be in promiscuous mode.</span></span> <span data-ttu-id="e7092-326">In questo caso, è possibile che il driver debba filtrare i frame in ingresso in base all'indirizzo MAC di destinazione, riducendo così la quantità di traffico passato nell'istanza IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-326">In this case, the driver may need to filter incoming frames based on destination MAC address, thus reducing the amount of traffic passed into the IP instance.</span></span> <span data-ttu-id="e7092-327">Per la richiesta di join del gruppo multicast vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-327">The following NX_IP_DRIVER members are used for the multicast group join request.</span></span>

| <span data-ttu-id="e7092-328">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-328">NX_IP_DRIVER&nbsp;member</span></span>                  | <span data-ttu-id="e7092-329">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-329">Meaning</span></span>                                 |
| -------------------------------------- | --------------------------------------- |
| <span data-ttu-id="e7092-330">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-330">nx_ip_driver_command</span></span>                | <span data-ttu-id="e7092-331">NX_LINK_MULTICAST_JOIN</span><span class="sxs-lookup"><span data-stu-id="e7092-331">NX_LINK_MULTICAST_JOIN</span></span>               |
| <span data-ttu-id="e7092-332">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-332">nx_ip_driver_ptr</span></span>                    | <span data-ttu-id="e7092-333">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-333">Pointer to IP instance</span></span>  |
| <span data-ttu-id="e7092-334">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="e7092-334">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="e7092-335">Più significativi 32 bit di indirizzo multicast fisico</span><span class="sxs-lookup"><span data-stu-id="e7092-335">Most significant 32-bits of physical multicast address</span></span> |
| <span data-ttu-id="e7092-336">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e7092-336">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="e7092-337">Meno significativi 32 bit di indirizzo multicast fisico</span><span class="sxs-lookup"><span data-stu-id="e7092-337">Least significant 32-bits of physical multicast address</span></span> |
| <span data-ttu-id="e7092-338">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-338">nx_ip_driver_interface</span></span>              | <span data-ttu-id="e7092-339">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-339">Pointer to the interface instance</span></span> |
| <span data-ttu-id="e7092-340">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-340">nx_ip_driver_status</span></span>                 | <span data-ttu-id="e7092-341">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-341">Completion status.</span></span> <span data-ttu-id="e7092-342">Se il driver non è in grado di partecipare al gruppo multicast, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-342">If the driver is not able to join the multicast group, it will return a non-zero error status.</span></span> |

> [!NOTE]  
> <span data-ttu-id="e7092-343">Per le *applicazioni IPv6 è necessario implementare il multicast nel driver per i protocolli basati su ICMPv6, ad esempio la configurazione degli indirizzi. Tuttavia, per le applicazioni IPv4, l'implementazione di questa richiesta non è necessaria se non sono necessarie funzionalità multicast*.</span><span class="sxs-lookup"><span data-stu-id="e7092-343">*IPv6 applications will require multicast to be implemented in the driver for ICMPv6 based protocols such as address configuration. However, for IPv4 applications, implementation of this request is not necessary if multicast capabilities are not required*.</span></span>

> [!IMPORTANT]  
> <span data-ttu-id="e7092-344">*Se IPv6 non è abilitato e le funzionalità multicast non sono richieste da IPv4, l'implementazione della richiesta non è obbligatoria*.</span><span class="sxs-lookup"><span data-stu-id="e7092-344">*If IPv6 is not enabled, and multicast capabilities are not required by IPv4, implementation of this request is not required*.</span></span>

### <a name="multicast-group-leave"></a><span data-ttu-id="e7092-345">Uscita gruppo multicast</span><span class="sxs-lookup"><span data-stu-id="e7092-345">Multicast Group Leave</span></span>  
<span data-ttu-id="e7092-346">Questa richiesta viene richiamata chiamando in modo esplicito i servizi ***nx_igmp_multicast_interface_leave** _ o _*_Nx_ipv4_multicast_interface_leave_*_ nel servizio IPv4, _ *_nxd_ipv6_multicast_interface_leave_** in IPv6 o da varie operazioni NETX Duo interne necessarie per IPv6.</span><span class="sxs-lookup"><span data-stu-id="e7092-346">This request is invoked by explicitly calling the ***nx_igmp_multicast_interface_leave** _ or _*_nx_ipv4_multicast_interface_leave_*_ services in IPv4, _ *_nxd_ipv6_multicast_interface_leave_** service in IPv6, or by various internal NetX Duo operations required for IPv6.</span></span> <span data-ttu-id="e7092-347">Il driver rimuove l'indirizzo multicast Ethernet fornito dall'elenco multicast.</span><span class="sxs-lookup"><span data-stu-id="e7092-347">The driver removes the supplied Ethernet multicast address from the multicast list.</span></span> <span data-ttu-id="e7092-348">Dopo che un host ha lasciato un gruppo multicast, i pacchetti in rete con questo indirizzo multicast Ethernet non vengono più ricevuti da questa istanza di IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-348">After a host has left a multicast group, packets on the network with this Ethernet multicast address are no longer received by this IP instance.</span></span> <span data-ttu-id="e7092-349">Per la richiesta di uscita del gruppo multicast vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-349">The following NX_IP_DRIVER members are used for the multicast group leave request.</span></span>

| <span data-ttu-id="e7092-350">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-350">NX_IP_DRIVER&nbsp;member</span></span>              | <span data-ttu-id="e7092-351">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-351">Meaning</span></span>                              |
| -----------------------------------| -------------------------------------|
| <span data-ttu-id="e7092-352">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-352">nx_ip_driver_command</span></span>            | <span data-ttu-id="e7092-353">NX_LINK_MULTICAST_LEAVE</span><span class="sxs-lookup"><span data-stu-id="e7092-353">NX_LINK_MULTICAST_LEAVE</span></span>           |
| <span data-ttu-id="e7092-354">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-354">nx_ip_driver_ptr</span></span>                | <span data-ttu-id="e7092-355">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-355">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e7092-356">nx_ip_driver_physical_address_msw</span><span class="sxs-lookup"><span data-stu-id="e7092-356">nx_ip_driver_physical_address_msw</span></span> | <span data-ttu-id="e7092-357">Più significativi 32 bit di indirizzo multicast fisico</span><span class="sxs-lookup"><span data-stu-id="e7092-357">Most significant 32 bits of physical multicast address</span></span> |
| <span data-ttu-id="e7092-358">nx_ip_driver_physical_address_lsw</span><span class="sxs-lookup"><span data-stu-id="e7092-358">nx_ip_driver_physical_address_lsw</span></span> | <span data-ttu-id="e7092-359">Meno significativi 32 bit di indirizzo multicast fisico</span><span class="sxs-lookup"><span data-stu-id="e7092-359">Least significant 32 bits of physical multicast address</span></span> |
| <span data-ttu-id="e7092-360">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-360">nx_ip_driver_interface</span></span>              | <span data-ttu-id="e7092-361">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-361">Pointer to the interface instance</span></span> |
| <span data-ttu-id="e7092-362">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-362">nx_ip_driver_status</span></span>                 | <span data-ttu-id="e7092-363">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-363">Completion status.</span></span> <span data-ttu-id="e7092-364">Se il driver non è in grado di uscire dal gruppo multicast, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-364">If the driver is not able to leave the multicast group, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e7092-365">*Se non sono richieste funzionalità multicast per IPv4 o IPv6, non è necessaria l'implementazione di questa richiesta*.</span><span class="sxs-lookup"><span data-stu-id="e7092-365">*If multicast capabilities are not required by either IPv4 or IPv6, implementation of this request is not required*.</span></span>

### <a name="attach-interface"></a><span data-ttu-id="e7092-366">Connetti interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-366">Attach Interface</span></span>  
<span data-ttu-id="e7092-367">Questa richiesta viene richiamata da NetX Duo al driver di dispositivo, consentendo al driver di associare l'istanza di driver all'istanza IP corrispondente e all'istanza dell'interfaccia fisica all'interno dell'IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-367">This request is invoked from the NetX Duo to the device driver, allowing the driver to associate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="e7092-368">Per la richiesta di interfaccia di associazione vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-368">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="e7092-369">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-369">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="e7092-370">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-370">Meaning</span></span>                  |
|------------------------|--------------------------|
| <span data-ttu-id="e7092-371">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-371">nx_ip_driver_command</span></span>   | <span data-ttu-id="e7092-372">NX_LINK_INTERFACE_ATTACH</span><span class="sxs-lookup"><span data-stu-id="e7092-372">NX_LINK_INTERFACE_ATTACH</span></span> |
| <span data-ttu-id="e7092-373">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-373">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e7092-374">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-374">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e7092-375">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-375">nx_ip_driver_interface</span></span> | <span data-ttu-id="e7092-376">Puntatore all'istanza dell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="e7092-376">Pointer to the interface instance.</span></span>|
| <span data-ttu-id="e7092-377">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-377">nx_ip_driver_status</span></span>    | <span data-ttu-id="e7092-378">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-378">Completion status.</span></span> <span data-ttu-id="e7092-379">Se il driver non è in grado di scollegare l'interfaccia specificata per l'istanza IP, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-379">If the driver is not able to detach the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="detach-interface"></a><span data-ttu-id="e7092-380">Scollega interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-380">Detach Interface</span></span>    
<span data-ttu-id="e7092-381">Questa richiesta viene richiamata da NetX Duo al driver di dispositivo, consentendo al driver di annullare l'associazione dell'istanza del driver con l'istanza IP corrispondente e l'istanza dell'interfaccia fisica all'interno dell'IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-381">This request is invoked by NetX Duo to the device driver, allowing the driver to disassociate the driver instance with the corresponding IP instance and the physical interface instance within the IP.</span></span> <span data-ttu-id="e7092-382">Per la richiesta di interfaccia di associazione vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-382">The following NX_IP_DRIVER members are used for the attach interface request.</span></span>

| <span data-ttu-id="e7092-383">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-383">NX_IP_DRIVER&nbsp;member</span></span>    | <span data-ttu-id="e7092-384">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-384">Meaning</span></span>                                                                                                                                    |
|------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e7092-385">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-385">nx_ip_driver_command</span></span>   | <span data-ttu-id="e7092-386">NX_LINK_INTERFACE_DETACH</span><span class="sxs-lookup"><span data-stu-id="e7092-386">NX_LINK_INTERFACE_DETACH</span></span>                                                                                                                   |
| <span data-ttu-id="e7092-387">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-387">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e7092-388">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-388">Pointer to IP instance</span></span>                                                                                                                     |
| <span data-ttu-id="e7092-389">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-389">nx_ip_driver_interface</span></span> | <span data-ttu-id="e7092-390">Puntatore all'istanza dell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="e7092-390">Pointer to the interface instance.</span></span>                                                                                                         |
| <span data-ttu-id="e7092-391">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-391">nx_ip_driver_status</span></span>    | <span data-ttu-id="e7092-392">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-392">Completion status.</span></span> <span data-ttu-id="e7092-393">Se il driver non è in grado di collegare l'interfaccia specificata all'istanza IP, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-393">If the driver is not able to attach the specified interface to the IP instance, it will return a non-zero error status.</span></span> |

### <a name="get-link-status"></a><span data-ttu-id="e7092-394">Ottenere lo stato del collegamento</span><span class="sxs-lookup"><span data-stu-id="e7092-394">Get Link Status</span></span>    
<span data-ttu-id="e7092-395">L'applicazione può eseguire una query sullo stato del collegamento dell'interfaccia di rete tramite il servizio NetX Duo Service ***nx_ip_interface_status_check*** per qualsiasi interfaccia nell'host.</span><span class="sxs-lookup"><span data-stu-id="e7092-395">The application can query the network interface link status using the NetX Duo service ***nx_ip_interface_status_check*** service for any interface on the host.</span></span> <span data-ttu-id="e7092-396">Per ulteriori informazioni su questi servizi, vedere il capitolo 4 "Descrizione dei servizi NetX Duo" nella pagina 149.</span><span class="sxs-lookup"><span data-stu-id="e7092-396">See Chapter 4, "Description of NetX Duo Services" on page 149, for more details on these services.</span></span>

<span data-ttu-id="e7092-397">Lo stato del collegamento è contenuto nel campo *nx_interface_link_up* della struttura NX_INTERFACE a cui punta *nx_ip_driver_interface* puntatore.</span><span class="sxs-lookup"><span data-stu-id="e7092-397">The link status is contained in the *nx_interface_link_up* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* pointer.</span></span> <span data-ttu-id="e7092-398">Per la richiesta di stato del collegamento vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-398">The following NX_IP_DRIVER members are used for the link status request.</span></span>

| <span data-ttu-id="e7092-399">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-399">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="e7092-400">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-400">Meaning</span></span>                  |
| --------------------------- | -------------------------|
| <span data-ttu-id="e7092-401">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-401">nx_ip_driver_command</span></span>     | <span data-ttu-id="e7092-402">NX_LINK_GET_STATUS</span><span class="sxs-lookup"><span data-stu-id="e7092-402">NX_LINK_GET_STATUS</span></span>    |
| <span data-ttu-id="e7092-403">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-403">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e7092-404">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-404">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e7092-405">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-405">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e7092-406">Puntatore alla destinazione per inserire lo stato.</span><span class="sxs-lookup"><span data-stu-id="e7092-406">Pointer to the destination to place the status.</span></span> |
| <span data-ttu-id="e7092-407">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-407">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e7092-408">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-408">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="e7092-409">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-409">nx_ip_driver_status</span></span>      | <span data-ttu-id="e7092-410">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-410">Completion status.</span></span> <span data-ttu-id="e7092-411">Se il driver non è in grado di ottenere lo stato specifico, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-411">If the driver is not able to get specific status, it will return a non-zero error status.</span></span> |

> [!NOTE]  
> <span data-ttu-id="e7092-412">\***nx_ip_status_check** _ è ancora disponibile per verificare lo stato dell'interfaccia principale.</span><span class="sxs-lookup"><span data-stu-id="e7092-412">\***nx_ip_status_check** _ is still available for checking the status of the primary interface.</span></span> <span data-ttu-id="e7092-413">Tuttavia, gli sviluppatori di applicazioni sono invitati a usare il servizio specifico dell'interfaccia: _ *_nx_ip_interface_status_check._*\*</span><span class="sxs-lookup"><span data-stu-id="e7092-413">However, application developers are encouraged to use the interface specific service: _ *_nx_ip_interface_status_check._*\*</span></span>

### <a name="get-link-speed"></a><span data-ttu-id="e7092-414">Ottenere la velocità del collegamento</span><span class="sxs-lookup"><span data-stu-id="e7092-414">Get Link Speed</span></span>  
<span data-ttu-id="e7092-415">Questa richiesta viene effettuata dall'interno del servizio ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="e7092-415">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e7092-416">Il driver archivia la velocità di linea del collegamento nella destinazione specificata.</span><span class="sxs-lookup"><span data-stu-id="e7092-416">The driver stores the link's line speed in the supplied destination.</span></span> <span data-ttu-id="e7092-417">Per la richiesta di velocità della linea di collegamento vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-417">The following NX_IP_DRIVER members are used for the link line speed request.</span></span>

| <span data-ttu-id="e7092-418">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-418">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="e7092-419">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-419">Meaning</span></span>                   |
| ------------------------| ------------------------- |
| <span data-ttu-id="e7092-420">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-420">nx_ip_driver_command</span></span>     | <span data-ttu-id="e7092-421">NX_LINK_GET_SPEED</span><span class="sxs-lookup"><span data-stu-id="e7092-421">NX_LINK_GET_SPEED</span></span>          |
| <span data-ttu-id="e7092-422">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-422">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e7092-423">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-423">Pointer to IP instance</span></span>                                                                                         |
| <span data-ttu-id="e7092-424">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-424">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e7092-425">Puntatore alla destinazione in cui posizionare la velocità della riga</span><span class="sxs-lookup"><span data-stu-id="e7092-425">Pointer to the destination to place the line speed</span></span>                                                             |
| <span data-ttu-id="e7092-426">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-426">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e7092-427">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-427">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="e7092-428">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-428">nx_ip_driver_status</span></span>      | <span data-ttu-id="e7092-429">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-429">Completion status.</span></span> <span data-ttu-id="e7092-430">Se il driver non è in grado di ottenere informazioni sulla velocità, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-430">If the driver is not able to get speed information, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e7092-431">*Questa richiesta non viene utilizzata internamente da NETX Duo, quindi la relativa implementazione è facoltativa*.</span><span class="sxs-lookup"><span data-stu-id="e7092-431">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-duplex-type"></a><span data-ttu-id="e7092-432">Ottenere il tipo duplex</span><span class="sxs-lookup"><span data-stu-id="e7092-432">Get Duplex Type</span></span>   
<span data-ttu-id="e7092-433">Questa richiesta viene effettuata dall'interno del servizio ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="e7092-433">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e7092-434">Il driver archivia il tipo duplex del collegamento nella destinazione specificata.</span><span class="sxs-lookup"><span data-stu-id="e7092-434">The driver stores the link's duplex type in the supplied destination.</span></span> <span data-ttu-id="e7092-435">Per la richiesta di tipo duplex vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-435">The following NX_IP_DRIVER members are used for the duplex type request.</span></span>

| <span data-ttu-id="e7092-436">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-436">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="e7092-437">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-437">Meaning</span></span>                                                                                                    |
| --------------------------- | -------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="e7092-438">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-438">nx_ip_driver_command</span></span>     | <span data-ttu-id="e7092-439">NX_LINK_GET_DUPLEX_TYPE</span><span class="sxs-lookup"><span data-stu-id="e7092-439">NX_LINK_GET_DUPLEX_TYPE</span></span>                                                                                    |
| <span data-ttu-id="e7092-440">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-440">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e7092-441">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-441">Pointer to IP instance</span></span>                                                                                         |
| <span data-ttu-id="e7092-442">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-442">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e7092-443">Puntatore alla destinazione per inserire il tipo duplex</span><span class="sxs-lookup"><span data-stu-id="e7092-443">Pointer to the destination to place the duplex type</span></span>                                                            |
| <span data-ttu-id="e7092-444">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-444">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e7092-445">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-445">Pointer to the interface instance</span></span>                                                                              |
| <span data-ttu-id="e7092-446">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-446">nx_ip_driver_status</span></span>      | <span data-ttu-id="e7092-447">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-447">Completion status.</span></span> <span data-ttu-id="e7092-448">Se il driver non è in grado di ottenere informazioni duplex, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-448">If the driver is not able to get duplex information, it will return a nonzero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e7092-449">*Questa richiesta non viene utilizzata internamente da NETX Duo, quindi la relativa implementazione è facoltativa*.</span><span class="sxs-lookup"><span data-stu-id="e7092-449">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-error-count"></a><span data-ttu-id="e7092-450">Ottenere il conteggio degli errori</span><span class="sxs-lookup"><span data-stu-id="e7092-450">Get Error Count</span></span>   
<span data-ttu-id="e7092-451">Questa richiesta viene effettuata dall'interno del servizio ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="e7092-451">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e7092-452">Il driver archivia il numero di errori del collegamento nella destinazione specificata.</span><span class="sxs-lookup"><span data-stu-id="e7092-452">The driver stores the link's error count in the supplied destination.</span></span> <span data-ttu-id="e7092-453">Per supportare questa funzionalità, il driver deve tenere traccia degli errori dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="e7092-453">To support this feature, the driver needs to track operation errors.</span></span> <span data-ttu-id="e7092-454">Per la richiesta di conteggio degli errori di collegamento vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-454">The following NX_IP_DRIVER members are used for the link error count request.</span></span>

| <span data-ttu-id="e7092-455">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-455">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="e7092-456">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-456">Meaning</span></span>                   |
| --------------------------- | -------------------------------|
| <span data-ttu-id="e7092-457">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-457">nx_ip_driver_command</span></span>     | <span data-ttu-id="e7092-458">NX_LINK_GET_ERROR_COUNT</span><span class="sxs-lookup"><span data-stu-id="e7092-458">NX_LINK_GET_ERROR_COUNT</span></span>   |
| <span data-ttu-id="e7092-459">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-459">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e7092-460">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-460">Pointer to IP instance</span></span>   |
| <span data-ttu-id="e7092-461">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-461">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e7092-462">Puntatore alla destinazione in cui inserire il numero di errori</span><span class="sxs-lookup"><span data-stu-id="e7092-462">Pointer to the destination to place the error count</span></span> |
| <span data-ttu-id="e7092-463">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-463">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e7092-464">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-464">Pointer to the interface instance</span></span>|
| <span data-ttu-id="e7092-465">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-465">nx_ip_driver_status</span></span>      | <span data-ttu-id="e7092-466">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-466">Completion status.</span></span> <span data-ttu-id="e7092-467">Se il driver non è in grado di ottenere il conteggio degli errori, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-467">If the driver is not able to get error count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]
> <span data-ttu-id="e7092-468">*Questa richiesta non viene utilizzata internamente da NETX Duo, quindi la relativa implementazione è facoltativa*.</span><span class="sxs-lookup"><span data-stu-id="e7092-468">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-receive-packet-count"></a><span data-ttu-id="e7092-469">Ottenere il numero di pacchetti di ricezione</span><span class="sxs-lookup"><span data-stu-id="e7092-469">Get Receive Packet Count</span></span>    
<span data-ttu-id="e7092-470">Questa richiesta viene effettuata dall'interno del servizio ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="e7092-470">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e7092-471">Il driver archivia il numero di pacchetti di ricezione del collegamento nella destinazione specificata.</span><span class="sxs-lookup"><span data-stu-id="e7092-471">The driver stores the link's receive packet count in the supplied destination.</span></span> <span data-ttu-id="e7092-472">Per supportare questa funzionalità, il driver deve tenere traccia del numero di pacchetti ricevuti.</span><span class="sxs-lookup"><span data-stu-id="e7092-472">To support this feature, the driver needs to keep track of the number of packets received.</span></span> <span data-ttu-id="e7092-473">I membri NX_IP_DRIVER seguenti vengono utilizzati per la richiesta di conteggio dei pacchetti di ricezione dei collegamenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-473">The following NX_IP_DRIVER members are used for the link receive packet count request.</span></span>

| <span data-ttu-id="e7092-474">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-474">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="e7092-475">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-475">Meaning</span></span>                        |
| --------------------------- | -------------------------------|
| <span data-ttu-id="e7092-476">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-476">nx_ip_driver_command</span></span>     | <span data-ttu-id="e7092-477">NX_LINK_GET_RX_COUNT</span><span class="sxs-lookup"><span data-stu-id="e7092-477">NX_LINK_GET_RX_COUNT</span></span>      |
| <span data-ttu-id="e7092-478">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-478">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e7092-479">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-479">Pointer to IP instance</span></span>  |
| <span data-ttu-id="e7092-480">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-480">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e7092-481">Puntatore alla destinazione in cui inserire il numero di pacchetti di ricezione</span><span class="sxs-lookup"><span data-stu-id="e7092-481">Pointer to the destination to place the receive packet count</span></span>   |
| <span data-ttu-id="e7092-482">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-482">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e7092-483">Puntatore all'interfaccia di rete fisica</span><span class="sxs-lookup"><span data-stu-id="e7092-483">Pointer to the physical network interface</span></span>  |
| <span data-ttu-id="e7092-484">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-484">nx_ip_driver_status</span></span>      | <span data-ttu-id="e7092-485">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-485">Completion status.</span></span> <span data-ttu-id="e7092-486">Se il driver non è in grado di ottenere il conteggio delle ricevute, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-486">If the driver is not able to get receive count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e7092-487">*Questa richiesta non viene utilizzata internamente da NETX Duo, quindi la relativa implementazione è facoltativa*.</span><span class="sxs-lookup"><span data-stu-id="e7092-487">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-transmit-packet-count"></a><span data-ttu-id="e7092-488">Ottenere il numero di pacchetti di trasmissione</span><span class="sxs-lookup"><span data-stu-id="e7092-488">Get Transmit Packet Count</span></span>   
<span data-ttu-id="e7092-489">Questa richiesta viene effettuata dall'interno del servizio ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="e7092-489">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e7092-490">Il driver archivia il numero di pacchetti di trasmissione del collegamento nella destinazione specificata.</span><span class="sxs-lookup"><span data-stu-id="e7092-490">The driver stores the link's transmit packet count in the supplied destination.</span></span> <span data-ttu-id="e7092-491">Per supportare questa funzionalità, il driver deve tenere traccia di ogni pacchetto trasmesso in ogni interfaccia.</span><span class="sxs-lookup"><span data-stu-id="e7092-491">To support this feature, the driver needs to keep track of each packet it transmits on each interface.</span></span> <span data-ttu-id="e7092-492">Per la richiesta di conteggio dei pacchetti di trasmissione dei collegamenti vengono usati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-492">The following  NX_IP_DRIVER members are used for the link transmit packet count request.</span></span>

| <span data-ttu-id="e7092-493">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-493">NX_IP_DRIVER&nbsp;member</span></span>   | <span data-ttu-id="e7092-494">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-494">Meaning</span></span>                   |
| ----------------------- | ------------------------- |
| <span data-ttu-id="e7092-495">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-495">nx_ip_driver_command</span></span> | <span data-ttu-id="e7092-496">NX_LINK_GET_TX_COUNT</span><span class="sxs-lookup"><span data-stu-id="e7092-496">NX_LINK_GET_TX_COUNT</span></span>  |
| <span data-ttu-id="e7092-497">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-497">nx_ip_driver_ptr</span></span>     | <span data-ttu-id="e7092-498">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-498">Pointer to IP instance</span></span>    |
| <span data-ttu-id="e7092-499">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-499">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e7092-500">Puntatore alla destinazione per inserire il numero di pacchetti di trasmissione</span><span class="sxs-lookup"><span data-stu-id="e7092-500">Pointer to the destination to place the transmit packet count</span></span>  |
| <span data-ttu-id="e7092-501">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-501">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e7092-502">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-502">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="e7092-503">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-503">nx_ip_driver_status</span></span>      | <span data-ttu-id="e7092-504">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-504">Completion status.</span></span> <span data-ttu-id="e7092-505">Se il driver non è in grado di ottenere il conteggio di trasmissione, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-505">If the driver is not able to get transmit count, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e7092-506">*Questa richiesta non viene utilizzata internamente da NETX Duo, quindi la relativa implementazione è facoltativa*.</span><span class="sxs-lookup"><span data-stu-id="e7092-506">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="get-allocation-errors"></a><span data-ttu-id="e7092-507">Ottenere errori di allocazione</span><span class="sxs-lookup"><span data-stu-id="e7092-507">Get Allocation Errors</span></span>   
<span data-ttu-id="e7092-508">Questa richiesta viene effettuata dall'interno del servizio ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="e7092-508">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e7092-509">Il driver archivia il numero di errori di allocazione del pool di pacchetti nella destinazione specificata.</span><span class="sxs-lookup"><span data-stu-id="e7092-509">The driver stores the link's packet pool allocation error count in the supplied destination.</span></span> <span data-ttu-id="e7092-510">Per la richiesta di conteggio degli errori di allocazione dei collegamenti vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-510">The following NX_IP_DRIVER members are used for the link allocation error count request.</span></span>

| <span data-ttu-id="e7092-511">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-511">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="e7092-512">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-512">Meaning</span></span>                       |
| --------------------------- | ----------------------------- |
| <span data-ttu-id="e7092-513">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-513">nx_ip_driver_command</span></span>     | <span data-ttu-id="e7092-514">NX_LINK_GET_ALLOC_ERRORS</span><span class="sxs-lookup"><span data-stu-id="e7092-514">NX_LINK_GET_ALLOC_ERRORS</span></span>  |
| <span data-ttu-id="e7092-515">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-515">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e7092-516">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-516">Pointer to IP instance</span></span>     |
| <span data-ttu-id="e7092-517">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-517">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e7092-518">Puntatore alla destinazione in cui inserire il numero di errori di allocazione</span><span class="sxs-lookup"><span data-stu-id="e7092-518">Pointer to the destination to place the allocation error count</span></span>  |
| <span data-ttu-id="e7092-519">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-519">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e7092-520">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-520">Pointer to the interface instance</span></span>  |
| <span data-ttu-id="e7092-521">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-521">nx_ip_driver_status</span></span>      | <span data-ttu-id="e7092-522">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-522">Completion status.</span></span> <span data-ttu-id="e7092-523">Se il driver non è in grado di ottenere errori di allocazione, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-523">If the driver is not able to get allocation errors, it will return a non-zero error status.</span></span> |

> [!IMPORTANT]  
> <span data-ttu-id="e7092-524">*Questa richiesta non viene utilizzata internamente da NETX Duo, quindi la relativa implementazione è facoltativa*.</span><span class="sxs-lookup"><span data-stu-id="e7092-524">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="driver-deferred-processing"></a><span data-ttu-id="e7092-525">Elaborazione posticipata del driver</span><span class="sxs-lookup"><span data-stu-id="e7092-525">Driver Deferred Processing</span></span>    
<span data-ttu-id="e7092-526">Questa richiesta viene eseguita dal thread helper IP in risposta al driver che chiama la routine _\* **nx_ip_driver_deferred_processing**_ da un ISR di trasmissione o ricezione.</span><span class="sxs-lookup"><span data-stu-id="e7092-526">This request is made from the IP helper thread in response to the driver calling the _\***nx_ip_driver_deferred_processing**_ routine from a transmit or receive ISR.</span></span> <span data-ttu-id="e7092-527">Questo consente al driver ISR di rinviare l'elaborazione di ricezione e trasmissione del pacchetto al thread helper IP, riducendo così la quantità da elaborare nell'ISR.</span><span class="sxs-lookup"><span data-stu-id="e7092-527">This allows the driver ISR to defer the packet receive and transmit processing to the IP helper thread and thus reduce the amount to process in the ISR.</span></span> <span data-ttu-id="e7092-528">Il campo _nx_interface_additional_link_info \* nella struttura NX_INTERFACE a cui punta *nx_ip_driver_interface* può essere usato dal driver per archiviare le informazioni sull'evento di elaborazione posticipata dal contesto del thread di supporto IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-528">The _nx_interface_additional_link_info\* field in the NX_INTERFACE structure pointed to by *nx_ip_driver_interface* may be used by the driver to store information about the deferred processing event from the IP helper thread context.</span></span> <span data-ttu-id="e7092-529">Per l'evento di elaborazione posticipata vengono utilizzati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-529">The following  NX_IP_DRIVER members are used for the deferred processing event.</span></span>

| <span data-ttu-id="e7092-530">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-530">NX_IP_DRIVER&nbsp;member</span></span>     | <span data-ttu-id="e7092-531">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-531">Meaning</span></span>                           |
| ------------------------- | --------------------------------- |
| <span data-ttu-id="e7092-532">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-532">nx_ip_driver_command</span></span>   | <span data-ttu-id="e7092-533">NX_LINK_DEFERRED_PROCESSING</span><span class="sxs-lookup"><span data-stu-id="e7092-533">NX_LINK_DEFERRED_PROCESSING</span></span>    |
| <span data-ttu-id="e7092-534">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-534">nx_ip_driver_ptr</span></span>       | <span data-ttu-id="e7092-535">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-535">Pointer to IP instance</span></span>            |
| <span data-ttu-id="e7092-536">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-536">nx_ip_driver_interface</span></span> | <span data-ttu-id="e7092-537">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-537">Pointer to the interface instance</span></span> |

### <a name="set-physical-address"></a><span data-ttu-id="e7092-538">Imposta indirizzo fisico</span><span class="sxs-lookup"><span data-stu-id="e7092-538">Set Physical Address</span></span>  
<span data-ttu-id="e7092-539">Questa richiesta viene effettuata dall'interno del servizio \***nx_ip_interface_physical_address_set** _.</span><span class="sxs-lookup"><span data-stu-id="e7092-539">This request is made from within the \***nx_ip_interface_physical_address_set** _ service.</span></span> <span data-ttu-id="e7092-540">Questo servizio consente a un'applicazione di modificare l'indirizzo fisico dell'interfaccia in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="e7092-540">This service allows an application to change the interface physical address at run time.</span></span> <span data-ttu-id="e7092-541">Alla ricezione di questo comando, il driver è necessario per riconfigurare l'indirizzo hardware dell'interfaccia di rete per l'indirizzo fisico fornito.</span><span class="sxs-lookup"><span data-stu-id="e7092-541">On receiving this command, the driver is required to re-configure the hardware address of the network interface to the supplied physical address.</span></span> <span data-ttu-id="e7092-542">Poiché l'istanza IP ha già il nuovo indirizzo, non è necessario chiamare il servizio _ *_nx_ip_interface_address_set_*\* da questo comando.</span><span class="sxs-lookup"><span data-stu-id="e7092-542">Since the IP instance already has the new address, there is no need to call the _ *_nx_ip_interface_address_set_*\* service from this command.</span></span>

<span data-ttu-id="e7092-543">Per la richiesta di comando utente vengono usati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-543">The following NX_IP_DRIVER members are used for the user command request.</span></span>

| <span data-ttu-id="e7092-544">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-544">NX_IP_DRIVER&nbsp;member</span></span>      | <span data-ttu-id="e7092-545">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-545">Meaning</span></span>                      |
| -------------------------- | ---------------------------- |
| <span data-ttu-id="e7092-546">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-546">nx_ip_driver_command</span></span>    | <span data-ttu-id="e7092-547">NX_LINK_SET_PHYSICAL_ADDRESS</span><span class="sxs-lookup"><span data-stu-id="e7092-547">NX_LINK_SET_PHYSICAL_ADDRESS</span></span>  |
| <span data-ttu-id="e7092-548">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-548">nx_ip_driver_ptr</span></span>        | <span data-ttu-id="e7092-549">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-549">Pointer to IP instance</span></span>  |
| <span data-ttu-id="e7092-550">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-550">nx_ip_driver_interface</span></span>  | <span data-ttu-id="e7092-551">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-551">Pointer to the interface instance</span></span>   |
| <span data-ttu-id="e7092-552">nx_ip_driver_physical_ad dress_msw</span><span class="sxs-lookup"><span data-stu-id="e7092-552">nx_ip_driver_physical_ad dress_msw</span></span> | <span data-ttu-id="e7092-553">Più significativi 32 bit del nuovo indirizzo fisico</span><span class="sxs-lookup"><span data-stu-id="e7092-553">Most significant 32-bits of the new physical address</span></span>  |
| <span data-ttu-id="e7092-554">nx_ip_driver_physical_ad dress_lsw</span><span class="sxs-lookup"><span data-stu-id="e7092-554">nx_ip_driver_physical_ad dress_lsw</span></span> | <span data-ttu-id="e7092-555">Meno significativi 32 bit del nuovo indirizzo fisico</span><span class="sxs-lookup"><span data-stu-id="e7092-555">Least significant 32-bits of the new physical address</span></span>  |
| <span data-ttu-id="e7092-556">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-556">nx_ip_driver_status</span></span>                  | <span data-ttu-id="e7092-557">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-557">Completion status.</span></span> <span data-ttu-id="e7092-558">Se il driver non è in grado di riconfigurare l'indirizzo fisico, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-558">If the driver is not able to reconfigure the physical address, it will return a non-zero error status.</span></span> |

### <a name="user-commands"></a><span data-ttu-id="e7092-559">Comandi utente</span><span class="sxs-lookup"><span data-stu-id="e7092-559">User Commands</span></span>    
<span data-ttu-id="e7092-560">Questa richiesta viene effettuata dall'interno del servizio ***nx_ip_driver_direct_command*** .</span><span class="sxs-lookup"><span data-stu-id="e7092-560">This request is made from within the ***nx_ip_driver_direct_command*** service.</span></span> <span data-ttu-id="e7092-561">Il driver elabora i comandi utente specifici dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e7092-561">The driver processes the application specific user commands.</span></span> <span data-ttu-id="e7092-562">Per la richiesta di comando utente vengono usati i membri NX_IP_DRIVER seguenti.</span><span class="sxs-lookup"><span data-stu-id="e7092-562">The following NX_IP_DRIVER members are used for the user command request.</span></span>

| <span data-ttu-id="e7092-563">&nbsp;Membro NX_IP_DRIVER</span><span class="sxs-lookup"><span data-stu-id="e7092-563">NX_IP_DRIVER&nbsp;member</span></span>       | <span data-ttu-id="e7092-564">Significato</span><span class="sxs-lookup"><span data-stu-id="e7092-564">Meaning</span></span>                       |
| --------------------------- | ----------------------------- |
| <span data-ttu-id="e7092-565">nx_ip_driver_command</span><span class="sxs-lookup"><span data-stu-id="e7092-565">nx_ip_driver_command</span></span>     | <span data-ttu-id="e7092-566">NX_LINK_USER_COMMAND</span><span class="sxs-lookup"><span data-stu-id="e7092-566">NX_LINK_USER_COMMAND</span></span>       |
| <span data-ttu-id="e7092-567">nx_ip_driver_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-567">nx_ip_driver_ptr</span></span>         | <span data-ttu-id="e7092-568">Puntatore a istanza IP</span><span class="sxs-lookup"><span data-stu-id="e7092-568">Pointer to IP instance</span></span>        |
| <span data-ttu-id="e7092-569">nx_ip_driver_return_ptr</span><span class="sxs-lookup"><span data-stu-id="e7092-569">nx_ip_driver_return_ptr</span></span> | <span data-ttu-id="e7092-570">Definita dall'utente</span><span class="sxs-lookup"><span data-stu-id="e7092-570">User defined</span></span>       |
| <span data-ttu-id="e7092-571">nx_ip_driver_interface</span><span class="sxs-lookup"><span data-stu-id="e7092-571">nx_ip_driver_interface</span></span>   | <span data-ttu-id="e7092-572">Puntatore all'istanza dell'interfaccia</span><span class="sxs-lookup"><span data-stu-id="e7092-572">Pointer to the interface instance</span></span>    |
| <span data-ttu-id="e7092-573">nx_ip_driver_status</span><span class="sxs-lookup"><span data-stu-id="e7092-573">nx_ip_driver_status</span></span>      | <span data-ttu-id="e7092-574">Stato di completamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-574">Completion status.</span></span> <span data-ttu-id="e7092-575">Se il driver non è in grado di eseguire i comandi dell'utente, verrà restituito uno stato di errore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="e7092-575">If the driver is not able to execute user commands, it will return a non-zero error status.</span></span> |

> [!IMPORTANT] 
> <span data-ttu-id="e7092-576">*Questa richiesta non viene utilizzata internamente da NETX Duo, quindi la relativa implementazione è facoltativa*.</span><span class="sxs-lookup"><span data-stu-id="e7092-576">*This request is not used internally by NetX Duo so its implementation is optional*.</span></span>

### <a name="unimplemented-commands"></a><span data-ttu-id="e7092-577">Comandi non implementati</span><span class="sxs-lookup"><span data-stu-id="e7092-577">Unimplemented Commands</span></span>  
<span data-ttu-id="e7092-578">Per i comandi non implementati dal driver di rete il campo stato restituito deve essere impostato su NX_UNHANDLED_COMMAND.</span><span class="sxs-lookup"><span data-stu-id="e7092-578">Commands unimplemented by the network driver must have the return status field set to NX_UNHANDLED_COMMAND.</span></span>

## <a name="driver-capability"></a><span data-ttu-id="e7092-579">Funzionalità driver</span><span class="sxs-lookup"><span data-stu-id="e7092-579">Driver Capability</span></span>

<span data-ttu-id="e7092-580">Alcune interfacce di rete offrono funzionalità di offload di checksum.</span><span class="sxs-lookup"><span data-stu-id="e7092-580">Some network interfaces offer checksum offload features.</span></span> <span data-ttu-id="e7092-581">I driver di dispositivo possono sfruttare le accelerazioni hardware per liberare tempo della CPU dall'esecuzione di diversi calcoli di checksum.</span><span class="sxs-lookup"><span data-stu-id="e7092-581">Device drivers may take advantage of the hardware accelerations to free up CPU time from running various checksum computations.</span></span>

<span data-ttu-id="e7092-582">A seconda del livello di supporto del checksum hardware dall'hardware, il driver di dispositivo deve informare l'istanza IP della funzionalità hardware abilitata.</span><span class="sxs-lookup"><span data-stu-id="e7092-582">Depending the level of hardware checksum support from the hardware, the device driver needs to inform the IP instance which hardware feature is enabled.</span></span> <span data-ttu-id="e7092-583">In questo modo, l'istanza IP è in grado di riconoscere la funzionalità hardware e di eseguire l'offload del maggior volume possibile per l'hardware.</span><span class="sxs-lookup"><span data-stu-id="e7092-583">This way, the IP instance is aware of the hardware feature, and offload as much computation to the hardware as possible.</span></span> <span data-ttu-id="e7092-584">Il driver deve usare l'API ***nx_ip_interface_capability_set*** per impostare tutte le funzionalità che l'interfaccia fisica è in grado di gestire.</span><span class="sxs-lookup"><span data-stu-id="e7092-584">The driver should use the API ***nx_ip_interface_capability_set*** to set all the features the physical interface is able to handle.</span></span>

<span data-ttu-id="e7092-585">È possibile utilizzare le seguenti funzionalità:</span><span class="sxs-lookup"><span data-stu-id="e7092-585">The following features can be used:</span></span>

- <span data-ttu-id="e7092-586">NX_INTERFACE_CAPABILITY_IPV4_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-586">NX_INTERFACE_CAPABILITY_IPV4_TX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-587">NX_INTERFACE_CAPABILITY_IPV4_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-587">NX_INTERFACE_CAPABILITY_IPV4_RX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-588">NX_INTERFACE_CAPABILITY_TCP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-588">NX_INTERFACE_CAPABILITY_TCP_TX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-589">NX_INTERFACE_CAPABILITY_TCP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-589">NX_INTERFACE_CAPABILITY_TCP_RX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-590">NX_INTERFACE_CAPABILITY_UDP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-590">NX_INTERFACE_CAPABILITY_UDP_TX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-591">NX_INTERFACE_CAPABILITY_UDP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-591">NX_INTERFACE_CAPABILITY_UDP_RX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-592">NX_INTERFACE_CAPABILITY_ICMPV4_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-592">NX_INTERFACE_CAPABILITY_ICMPV4_TX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-593">NX_INTERFACE_CAPABILITY_ICMPV4_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-593">NX_INTERFACE_CAPABILITY_ICMPV4_RX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-594">NX_INTERFACE_CAPABILITY_ICMPV6_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-594">NX_INTERFACE_CAPABILITY_ICMPV6_TX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-595">NX_INTERFACE_CAPABILITY_ICMPV6_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-595">NX_INTERFACE_CAPABILITY_ICMPV6_RX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-596">NX_INTERFACE_CAPABILITY_IGMP_TX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-596">NX_INTERFACE_CAPABILITY_IGMP_TX_CHECKSUM</span></span>
- <span data-ttu-id="e7092-597">NX_INTERFACE_CAPABILITY_IGMP_RX_CHECKSUM</span><span class="sxs-lookup"><span data-stu-id="e7092-597">NX_INTERFACE_CAPABILITY_IGMP_RX_CHECKSUM</span></span>

<span data-ttu-id="e7092-598">Per un calcolo di checksum che può essere eseguito nell'hardware, il driver deve configurare correttamente l'hardware o i descrittori del buffer, in modo che il checksum per un pacchetto in uscita possa essere generato e inserito nell'intestazione dall'hardware.</span><span class="sxs-lookup"><span data-stu-id="e7092-598">For a checksum computation that can be performed in hardware, the driver must set up the hardware or the buffer descriptors correctly so the checksum for an out-going packet can be generated and inserted into the header by the hardware.</span></span> <span data-ttu-id="e7092-599">Alla ricezione di un pacchetto, la logica di checksum hardware dovrebbe essere in grado di verificare il valore di checksum.</span><span class="sxs-lookup"><span data-stu-id="e7092-599">On receiving a packet, the hardware checksum logic should be able to verify the checksum value.</span></span> <span data-ttu-id="e7092-600">Se il valore di checksum non è corretto, il frame ricevuto deve essere rimosso.</span><span class="sxs-lookup"><span data-stu-id="e7092-600">If the checksum value is incorrect, the received frame should be discarded.</span></span>

<span data-ttu-id="e7092-601">Anche con la capacità di eseguire il calcolo del checksum nell'hardware, l'istanza IP mantiene comunque la funzionalità di checksum.</span><span class="sxs-lookup"><span data-stu-id="e7092-601">Even with the capability of performing checksum computation in hardware, the IP instance still maintains the checksum capability.</span></span> <span data-ttu-id="e7092-602">In alcuni scenari, ad esempio un datagramma UDP che passa attraverso la protezione IPsec, il checksum UDP deve essere calcolato nel software prima di passare il frame UDP allo stack.</span><span class="sxs-lookup"><span data-stu-id="e7092-602">In certain scenarios, for example a UDP datagram going through IPsec protection, the UDP checksum must be computed in software before passing the UDP frame down the stack.</span></span> <span data-ttu-id="e7092-603">La maggior parte della funzionalità di checksum hardware non supporta il calcolo del checksum per un segmento di dati protetto da IPsec.</span><span class="sxs-lookup"><span data-stu-id="e7092-603">Most hardware checksum feature does not support checksum computation for a segment of data protected by IPsec.</span></span> <span data-ttu-id="e7092-604">Per un frame UDP o ICMP che deve essere frammentato, il checksum UDP o ICMP deve essere calcolato nel software.</span><span class="sxs-lookup"><span data-stu-id="e7092-604">For a UDP or ICMP frame that needs to be fragmented, the UDP or ICMP checksum needs to be computed in software.</span></span> <span data-ttu-id="e7092-605">La maggior parte della logica di checksum hardware non gestisce il caso in cui i dati vengono suddivisi in più frame.</span><span class="sxs-lookup"><span data-stu-id="e7092-605">Most hardware checksum logic does not handle the case where the data is split into multiple frames.</span></span>

## <a name="driver-output"></a><span data-ttu-id="e7092-606">Output driver</span><span class="sxs-lookup"><span data-stu-id="e7092-606">Driver Output</span></span>  

<span data-ttu-id="e7092-607">Per tutte le richieste di trasmissione pacchetti precedentemente indicate è necessaria una funzione di output implementata nel driver.</span><span class="sxs-lookup"><span data-stu-id="e7092-607">All previously mentioned packet transmit requests require an output function implemented in the driver.</span></span> <span data-ttu-id="e7092-608">La logica di trasmissione specifica è specifica dell'hardware, ma in genere è costituita dal controllo della capacità hardware di inviare il pacchetto immediatamente.</span><span class="sxs-lookup"><span data-stu-id="e7092-608">Specific transmit logic is hardware specific, but it usually consists of checking for hardware capacity to send the packet immediately.</span></span> <span data-ttu-id="e7092-609">Se possibile, il payload del pacchetto (e i payload aggiuntivi nella catena di pacchetti) vengono caricati in uno o più buffer di trasmissione hardware e viene avviata un'operazione di trasmissione.</span><span class="sxs-lookup"><span data-stu-id="e7092-609">If possible, the packet payload (and additional payloads in the packet  chain) are loaded into one or more of the hardware transmit buffers and a transmit operation is initiated.</span></span> <span data-ttu-id="e7092-610">Se il pacchetto non rientra nei buffer di trasmissione disponibili, il pacchetto deve essere accodato e trasmesso quando i buffer di trasmissione diventano disponibili.</span><span class="sxs-lookup"><span data-stu-id="e7092-610">If the packet won't fit in the available transmit buffers, the packet should be queued, and be transmitted when the transmission buffers become available.</span></span>

<span data-ttu-id="e7092-611">La coda di trasmissione consigliata è un elenco collegato singolarmente, con puntatori Head e tail.</span><span class="sxs-lookup"><span data-stu-id="e7092-611">The recommended transmit queue is a singly linked list, having both head and tail pointers.</span></span> <span data-ttu-id="e7092-612">I nuovi pacchetti vengono aggiunti alla fine della coda, mantenendo il pacchetto più vecchio in primo piano.</span><span class="sxs-lookup"><span data-stu-id="e7092-612">New packets are added to the end of the queue, keeping the oldest packet at the front.</span></span> <span data-ttu-id="e7092-613">Il campo *nx_packet_queue_next* viene usato come collegamento successivo nella coda del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e7092-613">The *nx_packet_queue_next* field is used as the packet's next link in the queue.</span></span> <span data-ttu-id="e7092-614">Il driver definisce i puntatori Head e tail della coda di trasmissione.</span><span class="sxs-lookup"><span data-stu-id="e7092-614">The driver defines the head and tail pointers of the transmit queue.</span></span>

> [!CAUTION]  
> <span data-ttu-id="e7092-615">*Poiché l'accesso a questa coda viene eseguito dal thread e dalle parti di interrupt del driver, è necessario che la protezione degli interrupt venga posizionata intorno alle modifiche della coda*.</span><span class="sxs-lookup"><span data-stu-id="e7092-615">*Because this queue is accessed from thread and interrupt portions of the driver, interrupt protection must be placed around the queue manipulations*.</span></span>

<span data-ttu-id="e7092-616">La maggior parte delle implementazioni di hardware fisico genera un interrupt al completamento della trasmissione del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e7092-616">Most physical hardware implementations generate an interrupt upon packet transmit completion.</span></span> <span data-ttu-id="e7092-617">Quando il driver riceve tale interrupt, in genere rilascia le risorse associate al pacchetto appena trasmesso.</span><span class="sxs-lookup"><span data-stu-id="e7092-617">When the driver receives such an interrupt, it typically releases the resources associated with the packet just being transmitted.</span></span> <span data-ttu-id="e7092-618">Nel caso in cui la logica di trasmissione legga i dati direttamente dal buffer di NX_PACKET, il driver deve usare il servizio ***nx_packet_transmit_release*** per rilasciare il pacchetto associato all'interruzione di trasmissione completa al pool di pacchetti disponibile.</span><span class="sxs-lookup"><span data-stu-id="e7092-618">In case the transmit logic reads data directly from the NX_PACKET buffer, the driver should use the ***nx_packet_transmit_release*** service to release the packet associated with the transmit complete interrupt back to the available packet pool.</span></span> <span data-ttu-id="e7092-619">Il driver esamina quindi la coda di trasmissione per i pacchetti aggiuntivi in attesa di essere inviati.</span><span class="sxs-lookup"><span data-stu-id="e7092-619">Next, the driver examines the transmit queue for additional packets waiting to be sent.</span></span> <span data-ttu-id="e7092-620">Il numero di pacchetti di trasmissione in coda che rientrano nei buffer di trasmissione hardware viene rimosso dalla coda e caricato nei buffer.</span><span class="sxs-lookup"><span data-stu-id="e7092-620">As many of the queued transmit packets that fit into the hardware transmit buffer(s) are de-queued and loaded into the buffers.</span></span> <span data-ttu-id="e7092-621">Questa operazione è seguita dall'avvio di un'altra operazione di invio.</span><span class="sxs-lookup"><span data-stu-id="e7092-621">This is followed by initiation of another send operation.</span></span>

<span data-ttu-id="e7092-622">Non appena i dati nel NX_PACKET sono stati spostati nel formato FIFO del trasmettitore (o, nel caso in cui un driver supporti un'operazione di copia zero, i dati in NX_PACKET sono stati trasmessi), il driver deve spostare il *nx_packet_prepend_ptr* all'inizio dell'intestazione IP prima di chiamare \***nx_packet_transmit_release.** _ Ricordarsi di modificare di conseguenza _nx_packet_length \* campo.</span><span class="sxs-lookup"><span data-stu-id="e7092-622">As soon as the data in the NX_PACKET has been moved into the transmitter FIFO (or in case a driver supports zero-copy operation, the data in NX_PACKET has been transmitted), the driver must move the *nx_packet_prepend_ptr* to the beginning of the IP header before calling ***nx_packet_transmit_release.** _ Remember to adjust _nx_packet_length* field accordingly.</span></span> <span data-ttu-id="e7092-623">Se un frame IP è costituito da più pacchetti, è necessario rilasciare solo l'intestazione della catena di pacchetti.</span><span class="sxs-lookup"><span data-stu-id="e7092-623">If an IP frame is made up of multiple packets, only the head of the packet chain needs to be released.</span></span>

## <a name="driver-input"></a><span data-ttu-id="e7092-624">Input driver</span><span class="sxs-lookup"><span data-stu-id="e7092-624">Driver Input</span></span>

<span data-ttu-id="e7092-625">Al momento della ricezione di un interrupt del pacchetto ricevuto, il driver di rete recupera il pacchetto dai buffer di ricezione hardware fisico e compila un pacchetto NetX Duo valido.</span><span class="sxs-lookup"><span data-stu-id="e7092-625">Upon reception of a received packet interrupt, the network driver retrieves the packet from the physical hardware receive buffers and builds a valid NetX Duo packet.</span></span> <span data-ttu-id="e7092-626">La creazione di un pacchetto NetX Duo valido comporta l'impostazione del campo lunghezza appropriato e il concatenamento di più pacchetti se le dimensioni del pacchetto in entrata sono maggiori di un singolo payload del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e7092-626">Building a valid NetX Duo packet involves setting up the appropriate length field and chaining together multiple packets if the incoming packet's size is greater than a single packet payload.</span></span> <span data-ttu-id="e7092-627">Una volta compilato correttamente, il *prepend_ptr* viene spostato dopo l'intestazione del livello fisico e il pacchetto di ricezione viene inviato a NETX Duo.</span><span class="sxs-lookup"><span data-stu-id="e7092-627">Once properly built, the *prepend_ptr* is moved after the physical layer header and the receive packet is dispatched to NetX Duo.</span></span>

<span data-ttu-id="e7092-628">NetX Duo presuppone che le intestazioni IP (IPv4 e IPv6) e ARP siano allineate su un limite **ULONG** .</span><span class="sxs-lookup"><span data-stu-id="e7092-628">NetX Duo assumes that the IP (IPv4 and IPv6) and ARP headers are aligned on a **ULONG** boundary.</span></span> <span data-ttu-id="e7092-629">Il driver NetX Duo deve pertanto garantire questo allineamento.</span><span class="sxs-lookup"><span data-stu-id="e7092-629">The NetX Duo driver must, therefore, ensure this alignment.</span></span> <span data-ttu-id="e7092-630">Negli ambienti Ethernet questa operazione viene eseguita avviando l'intestazione Ethernet due byte a partire dall'inizio del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e7092-630">In Ethernet environments this is done by starting the Ethernet header two bytes from the beginning of the packet.</span></span> <span data-ttu-id="e7092-631">Quando il *nx_packet_prepend_ptr* viene spostato oltre l'intestazione Ethernet, l'indirizzo IP sottostante (IPv4 e IPv6) o l'intestazione ARP è allineato a 4 byte.</span><span class="sxs-lookup"><span data-stu-id="e7092-631">When the *nx_packet_prepend_ptr* is moved beyond the Ethernet header, the underlying IP (IPv4 and IPv6) or ARP header is 4-byte aligned.</span></span>

> [!WARNING] 
> <span data-ttu-id="e7092-632">*Per le differenze importanti tra le intestazioni Ethernet IPv6 e IPv6, vedere la sezione "intestazioni Ethernet" riportata di seguito*.</span><span class="sxs-lookup"><span data-stu-id="e7092-632">*See the section "Ethernet Headers" below for important differences between IPv6 and IPv6 Ethernet headers*.</span></span>

<span data-ttu-id="e7092-633">In NetX Duo sono disponibili diverse funzioni di pacchetti di ricezione.</span><span class="sxs-lookup"><span data-stu-id="e7092-633">There are several receive packet functions available in NetX Duo.</span></span> <span data-ttu-id="e7092-634">Se il pacchetto ricevuto è un pacchetto ARP, viene chiamato _\* **nx_arp_packet_deferred_receive**_ .</span><span class="sxs-lookup"><span data-stu-id="e7092-634">If the received packet is an ARP packet, _\***nx_arp_packet_deferred_receive**_ is called.</span></span> <span data-ttu-id="e7092-635">Se il pacchetto ricevuto è un pacchetto RARP, viene chiamato _ _*_nx_rarp_packet_deferred_receive_*_ .</span><span class="sxs-lookup"><span data-stu-id="e7092-635">If the received packet is an RARP packet, _ _*_nx_rarp_packet_deferred_receive_*_ is called.</span></span> <span data-ttu-id="e7092-636">Sono disponibili diverse opzioni per la gestione dei pacchetti IP in ingresso.</span><span class="sxs-lookup"><span data-stu-id="e7092-636">There are several options for handling incoming IP packets.</span></span> <span data-ttu-id="e7092-637">Per la gestione più veloce dei pacchetti IP, viene chiamato _ _*_nx_ip_packet_receive_*_ .</span><span class="sxs-lookup"><span data-stu-id="e7092-637">For the fastest handling of IP packets, _ _*_nx_ip_packet_receive_*_ is called.</span></span> <span data-ttu-id="e7092-638">Questo approccio ha il minor sovraccarico, ma richiede una maggiore elaborazione nel gestore del servizio di interrupt di ricezione (ISR) del driver.</span><span class="sxs-lookup"><span data-stu-id="e7092-638">This approach has the least overhead, but requires more processing in the driver's receive interrupt service handler (ISR).</span></span> <span data-ttu-id="e7092-639">Per l'elaborazione ISR minima _ _ *_nx_ip_packet_deferred_receive_*\* viene chiamato il metodo.</span><span class="sxs-lookup"><span data-stu-id="e7092-639">For minimal ISR processing __ *_nx_ip_packet_deferred_receive_*\* is called.</span></span>

<span data-ttu-id="e7092-640">Dopo che il nuovo pacchetto di ricezione è stato compilato correttamente, i buffer di ricezione dell'hardware fisico sono impostati per ricevere più dati.</span><span class="sxs-lookup"><span data-stu-id="e7092-640">After the new receive packet is properly built, the physical hardware's receive buffers are setup to receive more data.</span></span> <span data-ttu-id="e7092-641">Questa operazione potrebbe richiedere l'allocazione di pacchetti NetX Duo e l'inserimento dell'indirizzo di payload nel buffer di ricezione hardware oppure è sufficiente modificare un'impostazione nel buffer di ricezione hardware.</span><span class="sxs-lookup"><span data-stu-id="e7092-641">This might require allocating NetX Duo packets and placing the payload address in the hardware receive buffer or it may simply amount to changing a setting in the hardware receive buffer.</span></span> <span data-ttu-id="e7092-642">Per ridurre al minimo le possibilità di sovraccarico, è importante che i buffer di ricezione dell'hardware dispongano di buffer disponibili appena possibile dopo la ricezione di un pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e7092-642">To minimize overrun possibilities, it is important that the hardware's receive buffers have available buffers as soon as possible after a packet is received.</span></span>

> [!IMPORTANT] 
> <span data-ttu-id="e7092-643">*I buffer di ricezione iniziali vengono impostati durante l'inizializzazione del driver*.</span><span class="sxs-lookup"><span data-stu-id="e7092-643">*The initial receive buffers are setup during driver initialization*.</span></span>

### <a name="deferred-receive-packet-handling"></a><span data-ttu-id="e7092-644">Gestione dei pacchetti di ricezione posticipata</span><span class="sxs-lookup"><span data-stu-id="e7092-644">Deferred Receive Packet Handling</span></span>  
<span data-ttu-id="e7092-645">Il driver può rinviare l'elaborazione dei pacchetti di ricezione al thread helper IP di NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e7092-645">The driver may defer receive packet processing to the NetX Duo IP helper thread.</span></span> <span data-ttu-id="e7092-646">Per alcune applicazioni questa operazione può essere necessaria per ridurre al minimo l'elaborazione di ISR e i pacchetti eliminati.</span><span class="sxs-lookup"><span data-stu-id="e7092-646">For some applications this may be necessary to minimize ISR processing as well as dropped packets.</span></span> 

<span data-ttu-id="e7092-647">Per usare la gestione posticipata dei pacchetti, la libreria NetX Duo deve prima essere compilata con \***NX_DRIVER_DEFERRED_PROCESSING** _ defined.</span><span class="sxs-lookup"><span data-stu-id="e7092-647">To use deferred packet handling, the NetX Duo library must first be compiled with \***NX_DRIVER_DEFERRED_PROCESSING** _ defined.</span></span> <span data-ttu-id="e7092-648">Questa operazione aggiunge la logica del pacchetto posticipato al thread helper IP di NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e7092-648">This adds the deferred packet logic to the NetX Duo IP helper thread.</span></span> <span data-ttu-id="e7092-649">Successivamente, alla ricezione di un pacchetto di dati, il driver deve chiamare __nx_ip_packet_deferred_receive ():\*</span><span class="sxs-lookup"><span data-stu-id="e7092-649">Next, on receiving a data packet, the driver must call __nx_ip_packet_deferred_receive():\*</span></span>

```c
_nx_ip_packet_deferred_receive(ip_ptr, packet_ptr);
```
<span data-ttu-id="e7092-650">La funzione receive posticipata inserisce il pacchetto di ricezione rappresentato da *packet_ptr* in un FIFO (elenco collegato) e invia una notifica al thread helper IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-650">The deferred receive function places the receive packet represented by *packet_ptr* on a FIFO (linked list) and notifies the IP helper thread.</span></span> <span data-ttu-id="e7092-651">Dopo l'esecuzione, l'helper IP chiama ripetutamente la funzione di gestione posticipata per elaborare ogni pacchetto posticipato.</span><span class="sxs-lookup"><span data-stu-id="e7092-651">After executing, the IP helper repetitively calls the deferred handling function to process each deferred packet.</span></span> <span data-ttu-id="e7092-652">L'elaborazione posticipata del gestore include in genere la rimozione dell'intestazione del livello fisico (in genere Ethernet) del pacchetto e l'invio a una di queste funzioni di ricezione NetX Duo:</span><span class="sxs-lookup"><span data-stu-id="e7092-652">The deferred handler processing typically includes removing the packet's physical layer header (usually Ethernet) and dispatching it to one of these NetX Duo receive functions:</span></span>

- <span data-ttu-id="e7092-653">***_nx_ip_packet_receive***</span><span class="sxs-lookup"><span data-stu-id="e7092-653">***_nx_ip_packet_receive***</span></span>
- <span data-ttu-id="e7092-654">***_nx_arp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="e7092-654">***_nx_arp_packet_deferred_receive***</span></span>
- <span data-ttu-id="e7092-655">***_nx_rarp_packet_deferred_receive***</span><span class="sxs-lookup"><span data-stu-id="e7092-655">***_nx_rarp_packet_deferred_receive***</span></span>

## <a name="ethernet-headers"></a><span data-ttu-id="e7092-656">Intestazioni Ethernet</span><span class="sxs-lookup"><span data-stu-id="e7092-656">Ethernet Headers</span></span> 

<span data-ttu-id="e7092-657">Una delle differenze più significative tra IPv6 e IPv4 per le intestazioni Ethernet è l'impostazione del tipo di frame.</span><span class="sxs-lookup"><span data-stu-id="e7092-657">One of the most significant differences between IPv6 and IPv4 for Ethernet Headers is the frame type setting.</span></span> <span data-ttu-id="e7092-658">Quando si inviano pacchetti, il driver Ethernet è responsabile dell'impostazione del tipo di frame Ethernet nei pacchetti in uscita.</span><span class="sxs-lookup"><span data-stu-id="e7092-658">When sending out packets, the Ethernet driver is responsible for setting the Ethernet frame type in outgoing packets.</span></span> <span data-ttu-id="e7092-659">Per i pacchetti IPv6, il tipo di frame deve essere 0x86DD; per i pacchetti IPv4, il tipo di frame dovrebbe essere 0x0800.</span><span class="sxs-lookup"><span data-stu-id="e7092-659">For IPv6 packets, the frame type should be 0x86DD; for IPv4 packets, the frame type should be 0x0800.</span></span>

<span data-ttu-id="e7092-660">Il seguente segmento di codice illustra questo processo:</span><span class="sxs-lookup"><span data-stu-id="e7092-660">The following code segment illustrates this process:</span></span>

```c
NX_PACKET *packet_ptr;
packet_ptr = driver_req_ptr -> nx_ip_driver_packet;
if (packet_ptr -> nx_packet_ip_version == NX_IP_VERSION_V4)
{

   /* Set Ethernet frame type to IPv4 /*
   ethernet_frame_ptr -> frame_type = 0x0800;

   /* Swap endian-ness for little endian targets.*/
   NX_CHANGE_USHORT_ENDIAN(ethernet_frame_ptr -> frame_type);
}
else if (packet_ptr -> nx_packet_ip_version == NX_IP_VERSION_V6)
{

   /* Set Ethernet frame type to IPv6. /*
   ethernet_frame_ptr -> frame_type = 0x86DD;

   /* Swap endian-ness for little endian targets.*/
   NX_CHANGE_USHORT_ENDIAN(ethernet_frame_ptr -> frame_type);
}
else
{

   /* Unknown IP version. Free the packet we will not send. */
   nx_packet_transmit_release(packet_ptr);
}
```
<span data-ttu-id="e7092-661">Analogamente, per i pacchetti in ingresso, il driver Ethernet deve determinare il tipo di pacchetto dal tipo di frame Ethernet.</span><span class="sxs-lookup"><span data-stu-id="e7092-661">Similarly, for incoming packets, the Ethernet driver should determine the packet type from the Ethernet frame type.</span></span> <span data-ttu-id="e7092-662">Deve essere implementato per accettare i tipi di frame IPv6 (0x86DD), IPv4 (0x0800), ARP (0x0806) e RARP (0x8035).</span><span class="sxs-lookup"><span data-stu-id="e7092-662">It should be implemented to accept IPv6 (0x86DD), IPv4 (0x0800), ARP (0x0806), and RARP (0x8035) frame types.</span></span>

## <a name="example-ram-ethernet-network-driver"></a><span data-ttu-id="e7092-663">Driver di rete Ethernet RAM di esempio</span><span class="sxs-lookup"><span data-stu-id="e7092-663">Example RAM Ethernet Network Driver</span></span>

<span data-ttu-id="e7092-664">Il sistema di dimostrazione NetX Duo viene fornito con un piccolo driver di rete basato su RAM, definito nel file ***nx_ram_network_driver. c.***</span><span class="sxs-lookup"><span data-stu-id="e7092-664">The NetX Duo demonstration system is delivered with a small RAM-based network driver, defined in the file ***nx_ram_network_driver.c.***</span></span> <span data-ttu-id="e7092-665">Questo driver presuppone che le istanze IP si trovino nella stessa rete e assegna semplicemente indirizzi hardware virtuali (indirizzi MAC) a ogni istanza del dispositivo appena vengono creati.</span><span class="sxs-lookup"><span data-stu-id="e7092-665">This driver assumes the IP instances are all on the same network and simply assigns virtual hardware addresses (MAC addresses) to each device instance as they are created.</span></span> <span data-ttu-id="e7092-666">Questo file fornisce un esempio efficace della struttura di base dei driver di rete fisica NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="e7092-666">This file provides a good example of the basic structure of NetX Duo physical network drivers.</span></span> <span data-ttu-id="e7092-667">Gli utenti possono sviluppare i propri driver di rete utilizzando il Framework driver presentato in questo esempio.</span><span class="sxs-lookup"><span data-stu-id="e7092-667">Users may develop their own network drivers using the driver framework presented in this example.</span></span>

<span data-ttu-id="e7092-668">La funzione entry del driver di rete è \***_nx_ram_network_driver (),** _ che viene passata alla chiamata di creazione dell'istanza IP.</span><span class="sxs-lookup"><span data-stu-id="e7092-668">The entry function of the network driver is \***_nx_ram_network_driver(),** _ which is passed to the IP instance create call.</span></span> <span data-ttu-id="e7092-669">Le funzioni di immissione per interfacce di rete aggiuntive possono essere passate nel servizio _nx_ip_interface_attach () \*.</span><span class="sxs-lookup"><span data-stu-id="e7092-669">Entry functions for additional network interfaces can be passed into the _nx_ip_interface_attach()\* service.</span></span> <span data-ttu-id="e7092-670">Una volta avviata l'esecuzione dell'istanza IP, viene richiamata la funzione di immissione driver per inizializzare e abilitare il dispositivo (fare riferimento al case **NX_LINK_INITIALIZE** e **NX_LINK_ENABLE**).</span><span class="sxs-lookup"><span data-stu-id="e7092-670">After the IP instance starts to run, the driver entry function is invoked to initialize and enable the device (refer to the case **NX_LINK_INITIALIZE** and **NX_LINK_ENABLE**).</span></span> <span data-ttu-id="e7092-671">Dopo l'emissione del comando di **NX_LINK_ENABLE** , il dispositivo deve essere pronto per la trasmissione e la ricezione di pacchetti.</span><span class="sxs-lookup"><span data-stu-id="e7092-671">After the **NX_LINK_ENABLE** command is issued, the device should be ready to transmit and receive packets.</span></span> 

<span data-ttu-id="e7092-672">L'istanza IP trasmette i pacchetti di rete tramite uno di questi comandi:</span><span class="sxs-lookup"><span data-stu-id="e7092-672">The IP instance transmits network packets via one of these commands:</span></span>

| <span data-ttu-id="e7092-673">Comando</span><span class="sxs-lookup"><span data-stu-id="e7092-673">Command</span></span>                         |  <span data-ttu-id="e7092-674">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e7092-674">Description</span></span>                                                   |
| ------------------------------- | -------------------------------------------------------------- |
| <span data-ttu-id="e7092-675">***NX_LINK_PACKET_SEND***</span><span class="sxs-lookup"><span data-stu-id="e7092-675">***NX_LINK_PACKET_SEND***</span></span>    | <span data-ttu-id="e7092-676">È in corso la trasmissione di un pacchetto IPv4 o IPv6,</span><span class="sxs-lookup"><span data-stu-id="e7092-676">An IPv4 or IPv6 packet is being transmitted,</span></span>                   |
| <span data-ttu-id="e7092-677">***NX_LINK_ARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="e7092-677">***NX_LINK_ARP_SEND***</span></span>       | <span data-ttu-id="e7092-678">È in corso la trasmissione di una richiesta ARP o di un pacchetto di risposta ARP,</span><span class="sxs-lookup"><span data-stu-id="e7092-678">An ARP request or ARP response packet is being transmitted,</span></span>    |
| <span data-ttu-id="e7092-679">***NX_LINK_ARP_RARP_SEND***</span><span class="sxs-lookup"><span data-stu-id="e7092-679">***NX_LINK_ARP_RARP_SEND***</span></span> | <span data-ttu-id="e7092-680">È in corso la trasmissione di una richiesta o di un pacchetto di risposta ARP inverso.</span><span class="sxs-lookup"><span data-stu-id="e7092-680">A Reverse ARP request or response packet is being transmitted,</span></span> |

<span data-ttu-id="e7092-681">Durante l'elaborazione di questi comandi, il driver di rete deve anteporre l'intestazione del frame Ethernet appropriata e quindi inviarla all'hardware sottostante per la trasmissione.</span><span class="sxs-lookup"><span data-stu-id="e7092-681">On processing these commands, the network driver needs to prepend the appropriate Ethernet frame header, and then send it to the underlying hardware for transmission.</span></span> <span data-ttu-id="e7092-682">Durante il processo di trasmissione, il driver di rete dispone della proprietà esclusiva dell'area buffer dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="e7092-682">During the transmission process, the network driver has the exclusive ownership of the packet buffer area.</span></span> <span data-ttu-id="e7092-683">Quindi, una volta che i dati sono stati trasmessi (o dopo che i dati sono stati copiati nel buffer di trasferimento interno del driver), il driver di rete è responsabile del rilascio del buffer di pacchetti spostando prima il puntatore anteposto dopo l'intestazione Ethernet nell'intestazione IP (e modificando di conseguenza la lunghezza del pacchetto), chiamando il servizio ***nx_packet_transmit_release ()*** per rilasciare il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e7092-683">Therefore once the data is being transmitted (or once the data has been copied into the driver internal transfer buffer), the network driver is responsible for releasing the packet buffer by first moving the prepend pointer past the Ethernet header to the IP header (and adjust packet length accordingly), and then by calling the ***nx_packet_transmit_release()*** service to release the packet.</span></span> <span data-ttu-id="e7092-684">Il rilascio del pacchetto dopo la trasmissione dei dati provocherà la perdita di pacchetti.</span><span class="sxs-lookup"><span data-stu-id="e7092-684">Not releasing the packet after data transmission will cause packets to leak.</span></span>

<span data-ttu-id="e7092-685">Il driver di dispositivo di rete è inoltre responsabile della gestione dei pacchetti di dati in ingresso.</span><span class="sxs-lookup"><span data-stu-id="e7092-685">The network device driver is also responsible for handling incoming data packets.</span></span> <span data-ttu-id="e7092-686">Nell'esempio di driver RAM il pacchetto ricevuto viene elaborato dalla funzione ***_nx_ram_network_driver_receive ()***.</span><span class="sxs-lookup"><span data-stu-id="e7092-686">In the RAM driver example, the received packet is processed by the function ***_nx_ram_network_driver_receive()***.</span></span> <span data-ttu-id="e7092-687">Quando il dispositivo riceve un frame Ethernet, il driver è responsabile dell'archiviazione dei dati nella struttura NX_PACKET.</span><span class="sxs-lookup"><span data-stu-id="e7092-687">Once the device receives an Ethernet frame, the driver is responsible for storing the data in  NX_PACKET structure.</span></span> <span data-ttu-id="e7092-688">Si noti che NetX Duo presuppone che l'intestazione IP venga avviata dall'indirizzo allineato a 4 byte.</span><span class="sxs-lookup"><span data-stu-id="e7092-688">Note that NetX Duo assumes the IP header starts from 4-byte aligned address.</span></span> <span data-ttu-id="e7092-689">Poiché la lunghezza dell'intestazione Ethernet è 14byte, è necessario che il driver memorizzi l'inizio dell'intestazione Ethernet a un indirizzo allineato a 2 byte per garantire che l'intestazione IP venga avviata a un indirizzo allineato a 4 byte.</span><span class="sxs-lookup"><span data-stu-id="e7092-689">Since the length of Ethernet header is 14byte, the driver needs to store the starting of the Ethernet header at 2-byte aligned address to guarantee that the IP header starts at 4-byte aligned address.</span></span>