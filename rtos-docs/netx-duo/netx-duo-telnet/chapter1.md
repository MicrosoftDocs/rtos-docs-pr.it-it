---
title: Capitolo 1-Introduzione ad Azure RTO NetX Duo Telnet
description: Azure RTO NetX Duo Telnet è un protocollo progettato per il trasferimento di comandi e risposte tra due nodi in Internet.
author: philmea
ms.author: philmea
ms.date: 06/04/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: d25f5ca4a7bf1ecf4c3d0c68ef6c8aeda7800098
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104821638"
---
# <a name="chapter-1---introduction-to-the-azure-rtos-netx-duo-telnet"></a><span data-ttu-id="b7f46-103">Capitolo 1-Introduzione ad Azure RTO NetX Duo Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-103">Chapter 1 - Introduction to the Azure RTOS NetX Duo Telnet</span></span>

<span data-ttu-id="b7f46-104">Azure RTO NetX Duo Telnet è un protocollo progettato per il trasferimento di comandi e risposte tra due nodi in Internet.</span><span class="sxs-lookup"><span data-stu-id="b7f46-104">The Azure RTOS NetX Duo Telnet is a protocol designed for transferring commands and responses between two nodes on the Internet.</span></span> <span data-ttu-id="b7f46-105">Telnet è un protocollo semplice che utilizza i servizi di Transmission Control Protocol affidabili (TCP) per eseguire la relativa funzione di trasferimento.</span><span class="sxs-lookup"><span data-stu-id="b7f46-105">Telnet is a simple protocol that utilizes reliable Transmission Control Protocol (TCP) services to perform its transfer function.</span></span> <span data-ttu-id="b7f46-106">Per questo motivo, Telnet è un protocollo di trasferimento altamente affidabile.</span><span class="sxs-lookup"><span data-stu-id="b7f46-106">Because of this, Telnet is a highly reliable transfer protocol.</span></span> <span data-ttu-id="b7f46-107">Telnet è anche uno dei protocolli applicativi più usati.</span><span class="sxs-lookup"><span data-stu-id="b7f46-107">Telnet is also one of the most used application protocols.</span></span>

## <a name="telnet-requirements"></a><span data-ttu-id="b7f46-108">Requisiti di Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-108">Telnet Requirements</span></span>

<span data-ttu-id="b7f46-109">Per funzionare correttamente, il pacchetto telnet NetX Duo richiede che sia già stata creata un'istanza IP di NetX.</span><span class="sxs-lookup"><span data-stu-id="b7f46-109">In order to function properly, the NetX Duo Telnet package requires that a NetX IP instance has already been created.</span></span> <span data-ttu-id="b7f46-110">Inoltre, è necessario abilitare TCP nella stessa istanza di IP.</span><span class="sxs-lookup"><span data-stu-id="b7f46-110">In addition, TCP must be enabled on that same IP instance.</span></span> <span data-ttu-id="b7f46-111">La parte client Telnet del pacchetto telnet NetX Duo non ha altri requisiti.</span><span class="sxs-lookup"><span data-stu-id="b7f46-111">The Telnet Client portion of the NetX Duo Telnet package has no further requirements.</span></span>

<span data-ttu-id="b7f46-112">Il server Telnet parte del pacchetto telnet NetX Duo presenta un requisito aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="b7f46-112">The Telnet Server portion of the NetX Duo Telnet package has one additional requirement.</span></span> <span data-ttu-id="b7f46-113">Richiede l'accesso completo alla *porta 23 TCP nota* per la gestione di tutte le richieste Telnet del client.</span><span class="sxs-lookup"><span data-stu-id="b7f46-113">It requires complete access to TCP *well-known port 23* for handling all Client Telnet requests.</span></span>

## <a name="telnet-constraints"></a><span data-ttu-id="b7f46-114">Vincoli Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-114">Telnet Constraints</span></span> 

<span data-ttu-id="b7f46-115">Il protocollo Telnet NetX Duo implementa lo standard Telnet.</span><span class="sxs-lookup"><span data-stu-id="b7f46-115">The NetX Duo Telnet protocol implements the Telnet standard.</span></span> <span data-ttu-id="b7f46-116">Tuttavia, l'interpretazione e la risposta dei comandi Telnet, indicati da un byte con valore 255, sono responsabili dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b7f46-116">However,the interpretation and response of Telnet commands, indicated by a byte with the value of 255, is the responsibility of the application.</span></span> <span data-ttu-id="b7f46-117">I vari comandi e parametri del comando Telnet sono definiti nei file *nxd_telnet_client. h e nxd_telnet_server. h* .</span><span class="sxs-lookup"><span data-stu-id="b7f46-117">The various Telnet commands and command parameters are defined in the *nxd_telnet_client.h and nxd_telnet_server.h* files.</span></span>

## <a name="telnet-communication"></a><span data-ttu-id="b7f46-118">Comunicazione Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-118">Telnet Communication</span></span>

<span data-ttu-id="b7f46-119">Come indicato in precedenza, il server Telnet utilizza la *Nota porta TCP 23* per il campo richieste client.</span><span class="sxs-lookup"><span data-stu-id="b7f46-119">As mentioned previously, the Telnet Server utilizes the *well-known TCP port 23* to field Client requests.</span></span> <span data-ttu-id="b7f46-120">I client Telnet possono usare qualsiasi porta TCP disponibile.</span><span class="sxs-lookup"><span data-stu-id="b7f46-120">Telnet Clients may use any available TCP port.</span></span>

## <a name="telnet-authentication"></a><span data-ttu-id="b7f46-121">Autenticazione Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-121">Telnet Authentication</span></span>

<span data-ttu-id="b7f46-122">L'autenticazione Telnet è responsabilità della funzione di callback del server Telnet dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b7f46-122">Telnet authentication is the responsibility of the application’s Telnet Server callback function.</span></span> <span data-ttu-id="b7f46-123">Il callback del server Telnet "nuova connessione" dell'applicazione richiede in genere al client il nome e/o la password.</span><span class="sxs-lookup"><span data-stu-id="b7f46-123">The application’s Telnet Server “new connection” callback would typically prompt the Client for name and/or password.</span></span> <span data-ttu-id="b7f46-124">Il client sarà quindi responsabile di fornire le informazioni.</span><span class="sxs-lookup"><span data-stu-id="b7f46-124">The Client would then be responsible for providing the information.</span></span> <span data-ttu-id="b7f46-125">Il server elaborerà quindi le informazioni nel callback "Receive Data".</span><span class="sxs-lookup"><span data-stu-id="b7f46-125">The Server would then process the information in the “receive data” callback.</span></span> <span data-ttu-id="b7f46-126">Questo è il punto in cui il codice del server applicazioni deve autenticare le informazioni e decidere se è valido o meno.</span><span class="sxs-lookup"><span data-stu-id="b7f46-126">This is where the application Server code would have to authenticate the information and decide whether or not it is valid.</span></span>

## <a name="telnet-new-connection-callback"></a><span data-ttu-id="b7f46-127">Callback nuova connessione Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-127">Telnet New Connection Callback</span></span>

<span data-ttu-id="b7f46-128">Il server Telnet NetX Duo chiama la funzione di callback specificata dall'applicazione ogni volta che viene ricevuta una nuova richiesta del client Telnet.</span><span class="sxs-lookup"><span data-stu-id="b7f46-128">The NetX Duo Telnet Server calls the application specified callback function whenever a new Telnet Client request is received.</span></span> <span data-ttu-id="b7f46-129">L'applicazione specifica la funzione di callback quando il server Telnet viene creato tramite la funzione ***nx_telnet_server_create*** .</span><span class="sxs-lookup"><span data-stu-id="b7f46-129">The application specifies the callback function when the Telnet Server is created via the ***nx_telnet_server_create*** function.</span></span> <span data-ttu-id="b7f46-130">Le azioni tipiche del callback "nuova connessione" includono l'invio di un banner o una richiesta al client.</span><span class="sxs-lookup"><span data-stu-id="b7f46-130">Typical actions of the “new connection” callback include sending a banner or prompt to the Client.</span></span> <span data-ttu-id="b7f46-131">Questa operazione potrebbe includere una richiesta di informazioni di accesso.</span><span class="sxs-lookup"><span data-stu-id="b7f46-131">This could very well include a prompt for login information.</span></span>

### <a name="prototype"></a><span data-ttu-id="b7f46-132">Prototipo</span><span class="sxs-lookup"><span data-stu-id="b7f46-132">Prototype</span></span>

```c
void  telnet_new_connection(NX_TELNET_SERVER *server_ptr, 
                            UINT logical_connection);
```

### <a name="input-parameters"></a><span data-ttu-id="b7f46-133">Parametri di input</span><span class="sxs-lookup"><span data-stu-id="b7f46-133">Input Parameters</span></span>

- <span data-ttu-id="b7f46-134">**server_ptr**: puntatore al server Telnet chiamante.</span><span class="sxs-lookup"><span data-stu-id="b7f46-134">**server_ptr**: Pointer to the calling Telnet Server.</span></span>
- <span data-ttu-id="b7f46-135">**logical_connection**: la connessione logica interna per il server Telnet.</span><span class="sxs-lookup"><span data-stu-id="b7f46-135">**logical_connection**: The internal logical connection for the Telnet Server.</span></span> <span data-ttu-id="b7f46-136">Questo può essere utilizzato dall'applicazione come indice in buffer e/o strutture di dati specifiche per ogni connessione client.</span><span class="sxs-lookup"><span data-stu-id="b7f46-136">This can be used by the application as an index into buffers and/or data structures specific for each Client connection.</span></span> <span data-ttu-id="b7f46-137">Il valore è compreso tra 0 e NX_TELNET_MAX_CLIENTS-1.</span><span class="sxs-lookup"><span data-stu-id="b7f46-137">Its value ranges from 0 through NX_TELNET_MAX_CLIENTS - 1.</span></span>

## <a name="telnet-receive-data-callback"></a><span data-ttu-id="b7f46-138">Callback dei dati di ricezione Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-138">Telnet Receive Data Callback</span></span>

<span data-ttu-id="b7f46-139">Il server Telnet NetX Duo chiama la funzione di callback specificata dall'applicazione ogni volta che vengono ricevuti nuovi dati del client Telnet.</span><span class="sxs-lookup"><span data-stu-id="b7f46-139">The NetX Duo Telnet Server calls the application specified callback function whenever a new Telnet Client data is received.</span></span> <span data-ttu-id="b7f46-140">L'applicazione specifica la funzione di callback quando il server Telnet viene creato tramite la funzione ***nx_telnet_server_create*** .</span><span class="sxs-lookup"><span data-stu-id="b7f46-140">The application specifies the callback function when the Telnet Server is created via the ***nx_telnet_server_create*** function.</span></span> <span data-ttu-id="b7f46-141">Le azioni tipiche del callback "nuova connessione" includono l'eco dei dati e/o l'analisi dei dati e la fornitura di dati come risultato dell'interpretazione di un comando dal client.</span><span class="sxs-lookup"><span data-stu-id="b7f46-141">Typical actions of the “new connection” callback include echoing the data back and/or parsing the data and providing data as a result of interpreting a command from the client.</span></span>

<span data-ttu-id="b7f46-142">Si noti che questa routine di callback deve rilasciare anche il pacchetto fornito.</span><span class="sxs-lookup"><span data-stu-id="b7f46-142">Note that this callback routine must also release the supplied packet.</span></span>

### <a name="prototype"></a><span data-ttu-id="b7f46-143">Prototipo</span><span class="sxs-lookup"><span data-stu-id="b7f46-143">Prototype</span></span>

```c
void  telnet_receive_data(NX_TELNET_SERVER *server_ptr, 
                          UINT logical_connection, NX_PACKET *packet_ptr);
```
### <a name="input-parameters"></a><span data-ttu-id="b7f46-144">Parametri di input</span><span class="sxs-lookup"><span data-stu-id="b7f46-144">Input Parameters</span></span>

- <span data-ttu-id="b7f46-145">**server_ptr**: puntatore al server Telnet chiamante.</span><span class="sxs-lookup"><span data-stu-id="b7f46-145">**server_ptr**: Pointer to the calling Telnet Server.</span></span>
- <span data-ttu-id="b7f46-146">**logical_connection**: la connessione logica interna per il server Telnet.</span><span class="sxs-lookup"><span data-stu-id="b7f46-146">**logical_connection**: The internal logical connection for the Telnet Server.</span></span> <span data-ttu-id="b7f46-147">Questo può essere utilizzato dall'applicazione come indice in buffer e/o strutture di dati specifiche per ogni connessione client.</span><span class="sxs-lookup"><span data-stu-id="b7f46-147">This can be used by the application as an index into buffers and/or data structures specific for each Client connection.</span></span> <span data-ttu-id="b7f46-148">Il valore è compreso tra 0 e NX_TELNET_MAX_CLIENTS-1.</span><span class="sxs-lookup"><span data-stu-id="b7f46-148">Its value ranges from 0 through NX_TELNET_MAX_CLIENTS - 1.</span></span>
- <span data-ttu-id="b7f46-149">**packet_ptr**: puntatore al pacchetto contenente i dati dal client.</span><span class="sxs-lookup"><span data-stu-id="b7f46-149">**packet_ptr**: Pointer to packet containing the data from the Client.</span></span>

## <a name="telnet-end-connection-callback"></a><span data-ttu-id="b7f46-150">Callback di connessione finale Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-150">Telnet End Connection Callback</span></span>

<span data-ttu-id="b7f46-151">Il server Telnet NetX Duo chiama la funzione di callback specificata dall'applicazione ogni volta che un client telnet termina la connessione.</span><span class="sxs-lookup"><span data-stu-id="b7f46-151">The NetX Duo Telnet Server calls the application specified callback function whenever a Telnet Client ends the connection.</span></span> <span data-ttu-id="b7f46-152">L'applicazione specifica la funzione di callback quando il server Telnet viene creato tramite la funzione ***nx_telnet_server_create*** .</span><span class="sxs-lookup"><span data-stu-id="b7f46-152">The application specifies the callback function when the Telnet Server is created via the ***nx_telnet_server_create*** function.</span></span> <span data-ttu-id="b7f46-153">Le azioni tipiche del callback "End Connection" includono la pulizia delle strutture di dati specifiche del client associate alla connessione logica.</span><span class="sxs-lookup"><span data-stu-id="b7f46-153">Typical actions of the “end connection” callback include cleaning up any Client specific data structures associated with the logical connection.</span></span>

### <a name="prototype"></a><span data-ttu-id="b7f46-154">Prototipo</span><span class="sxs-lookup"><span data-stu-id="b7f46-154">Prototype</span></span>
```c
void  telnet_end_connection(NX_TELNET_SERVER *server_ptr, 
                            UINT logical_connection);
```

### <a name="input-parameters"></a><span data-ttu-id="b7f46-155">Parametri di input</span><span class="sxs-lookup"><span data-stu-id="b7f46-155">Input Parameters</span></span>

- <span data-ttu-id="b7f46-156">**server_ptr** Puntatore al server Telnet chiamante.</span><span class="sxs-lookup"><span data-stu-id="b7f46-156">**server_ptr** Pointer to the calling Telnet Server.</span></span>
- <span data-ttu-id="b7f46-157">**logical_connection** Connessione logica interna per il server Telnet.</span><span class="sxs-lookup"><span data-stu-id="b7f46-157">**logical_connection** The internal logical connection for the Telnet Server.</span></span> <span data-ttu-id="b7f46-158">Questo può essere utilizzato dall'applicazione come indice in buffer e/o strutture di dati specifiche per ogni connessione client.</span><span class="sxs-lookup"><span data-stu-id="b7f46-158">This can be used by the application as an index into buffers and/or data structures specific for each Client connection.</span></span> <span data-ttu-id="b7f46-159">Il valore è compreso tra 0 e NX_TELNET_MAX_CLIENTS-1.</span><span class="sxs-lookup"><span data-stu-id="b7f46-159">Its value ranges from 0 through NX_TELNET_MAX_CLIENTS - 1.</span></span>

## <a name="telnet-option-negotiation"></a><span data-ttu-id="b7f46-160">Negoziazione di opzioni Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-160">Telnet Option Negotiation</span></span>

<span data-ttu-id="b7f46-161">Il server Telnet NetX Duo supporta un set limitato di opzioni Telnet, ad ECHO e a non visualizzare più avanti.</span><span class="sxs-lookup"><span data-stu-id="b7f46-161">The NetX Duo Telnet Server supports a limited set of Telnet options, Echo and Suppress Go Ahead.</span></span>

<span data-ttu-id="b7f46-162">Per abilitare questa funzionalità, il NX_TELNET_SERVER_OPTION_DISABLE non deve essere definito.</span><span class="sxs-lookup"><span data-stu-id="b7f46-162">To enable this feature the NX_TELNET_SERVER_OPTION_DISABLE must not be defined.</span></span> <span data-ttu-id="b7f46-163">Per impostazione predefinita, non è definito.</span><span class="sxs-lookup"><span data-stu-id="b7f46-163">By default it is not defined.</span></span> <span data-ttu-id="b7f46-164">Il server Telnet crea un pool di pacchetti nel servizio *nx_telnet_server_create* da cui alloca i pacchetti per l'invio di richieste di opzioni Telnet al client.</span><span class="sxs-lookup"><span data-stu-id="b7f46-164">The Telnet Server creates a packet pool in the *nx_telnet_server_create* service from which it allocates packets for sending telnet options requests to the Client.</span></span> <span data-ttu-id="b7f46-165">Vedere "opzioni di configurazione" per impostare il payload del pacchetto (NX_TELNET_SERVER_PACKET_PAYLOAD) e le dimensioni del pool di pacchetti (NX_TELNET_SERVER_PACKET_POOL_SIZE) per questo pool di pacchetti.</span><span class="sxs-lookup"><span data-stu-id="b7f46-165">See “Configuration Options” for setting the packet payload (NX_TELNET_SERVER_PACKET_PAYLOAD) and packet pool size (NX_TELNET_SERVER_PACKET_POOL_SIZE) for this packet pool.</span></span> <span data-ttu-id="b7f46-166">Questo pool di pacchetti verrà eliminato quando viene chiamato il servizio *nx_telnet_server_delete* .</span><span class="sxs-lookup"><span data-stu-id="b7f46-166">It will delete this packet pool when the *nx_telnet_server_delete* service is called.</span></span>

<span data-ttu-id="b7f46-167">Quando si effettua una connessione con il client Telnet, questo set di opzioni Telnet verrà inviato al client se non sono state ricevute richieste di opzioni dal client:</span><span class="sxs-lookup"><span data-stu-id="b7f46-167">Upon making a connection with the Telnet Client, it will send out this set of telnet options to the Client if it has not received option requests from the Client:</span></span>

- <span data-ttu-id="b7f46-168">Echo</span><span class="sxs-lookup"><span data-stu-id="b7f46-168">will echo</span></span>
- <span data-ttu-id="b7f46-169">non Echo</span><span class="sxs-lookup"><span data-stu-id="b7f46-169">dont echo</span></span>
- <span data-ttu-id="b7f46-170">SGA</span><span class="sxs-lookup"><span data-stu-id="b7f46-170">will sga</span></span>

<span data-ttu-id="b7f46-171">Quando riceve dati Telnet dal client, il server Telnet controlla se il primo byte è il codice "IAC".</span><span class="sxs-lookup"><span data-stu-id="b7f46-171">When it receives Telnet data from the Client, the Telnet Server checks if the first byte is the “IAC” code.</span></span> <span data-ttu-id="b7f46-172">In tal caso, vengono elaborate tutte le opzioni nel pacchetto client.</span><span class="sxs-lookup"><span data-stu-id="b7f46-172">If so, it will process all the options in the Client packet.</span></span> <span data-ttu-id="b7f46-173">Le opzioni non presenti nell'elenco precedente vengono ignorate.</span><span class="sxs-lookup"><span data-stu-id="b7f46-173">Options not in the list above are ignored.</span></span>

<span data-ttu-id="b7f46-174">Per impostazione predefinita, il server Telnet crea il proprio pool di pacchetti interno se NX_TELNET_SERVER_OPTION_DISABLE non è definito ed è necessario trasmettere i comandi delle opzioni Telnet.</span><span class="sxs-lookup"><span data-stu-id="b7f46-174">By default, the Telnet Server creates its own internal packet pool if NX_TELNET_SERVER_OPTION_DISABLE is not defined and it needs to transmit Telnet option commands.</span></span> <span data-ttu-id="b7f46-175">Il pool di pacchetti del server Telnet è definito da NX_TELNET_SERVER_PACKET_PAYLOAD e NX_TELNET_SERVER_PACKET_POOLSIZE.</span><span class="sxs-lookup"><span data-stu-id="b7f46-175">The Telnet Server packet pool is defined by NX_TELNET_SERVER_PACKET_PAYLOAD and NX_TELNET_SERVER_PACKET_POOLSIZE.</span></span> <span data-ttu-id="b7f46-176">Se, tuttavia, NX_TELNET_SERVER_USER_CREATE_PACKET_POOL è definito, l'applicazione deve creare il pool di pacchetti del server Telnet e impostarlo come pool di pacchetti del server Telnet chiamando *_nx_telnet_server_packet_pool_set*.</span><span class="sxs-lookup"><span data-stu-id="b7f46-176">If, however, NX_TELNET_SERVER_USER_CREATE_PACKET_POOL is defined, the application must create the Telnet Server packet pool and set it as the Telnet Server packet pool by calling *_nx_telnet_server_packet_pool_set*.</span></span> <span data-ttu-id="b7f46-177">Per altri dettagli su questa funzione, vedere il capitolo 3 "Descrizione dei servizi Telnet".</span><span class="sxs-lookup"><span data-stu-id="b7f46-177">See Chapter 3 “Description of Telnet Services” for more details about this function.</span></span>

<span data-ttu-id="b7f46-178">Diversamente dal server Telnet NetX Duo, il thread attività client Telnet NetX Duo non invia e risponde automaticamente alle opzioni ricevute dal server Telnet.</span><span class="sxs-lookup"><span data-stu-id="b7f46-178">Unlike the NetX Duo Telnet Server, the NetX Duo Telnet Client task thread does not automatically send and respond to received options from the Telnet Server.</span></span> <span data-ttu-id="b7f46-179">Questa operazione deve essere eseguita dall'applicazione client Telnet.</span><span class="sxs-lookup"><span data-stu-id="b7f46-179">This must be done by the Telnet Client application.</span></span>

## <a name="telnet-multi-thread-support"></a><span data-ttu-id="b7f46-180">Supporto multithreading Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-180">Telnet Multi-Thread Support</span></span>

<span data-ttu-id="b7f46-181">I servizi client Telnet NetX Duo possono essere chiamati da più thread contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="b7f46-181">The NetX Duo Telnet Client services can be called from multiple threads simultaneously.</span></span> <span data-ttu-id="b7f46-182">Tuttavia, le richieste di lettura o scrittura per una particolare istanza del client Telnet devono essere eseguite in sequenza dallo stesso thread.</span><span class="sxs-lookup"><span data-stu-id="b7f46-182">However, read or write requests for a particular Telnet Client instance should be done in sequence from the same thread.</span></span>

## <a name="telnet-rfcs"></a><span data-ttu-id="b7f46-183">RFC per Telnet</span><span class="sxs-lookup"><span data-stu-id="b7f46-183">Telnet RFCs</span></span>

<span data-ttu-id="b7f46-184">NetX Duo Telnet è conforme a RFC854 e alle RFC correlate.</span><span class="sxs-lookup"><span data-stu-id="b7f46-184">NetX Duo Telnet is compliant with RFC854 and related RFCs.</span></span>
