---
title: Capitolo 2-installazione e utilizzo del client RTO NetX Duo LWM2M
description: Questo capitolo illustra come installare e usare il client RTO NetX Duo LWM2M.
author: v-condav
ms.author: v-condav
ms.date: 01/22/2021
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 536225de30f54356157c222917fc904c6aa039fe
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104821854"
---
# <a name="chapter-2--installation-and-use-of-lwm2m-client"></a><span data-ttu-id="3fadc-103">Capitolo 2 installazione e utilizzo del client LWM2M</span><span class="sxs-lookup"><span data-stu-id="3fadc-103">Chapter 2  Installation and Use of LWM2M Client</span></span>

<span data-ttu-id="3fadc-104">Questo capitolo contiene una descrizione dei vari problemi relativi all'installazione, alla configurazione e all'utilizzo del componente client di LWM2M.</span><span class="sxs-lookup"><span data-stu-id="3fadc-104">This chapter contains a description of various issues related to installation, setup, and usage of the LWM2M Client component.</span></span>

## <a name="product-distribution"></a><span data-ttu-id="3fadc-105">Distribuzione del prodotto</span><span class="sxs-lookup"><span data-stu-id="3fadc-105">Product Distribution</span></span>

<span data-ttu-id="3fadc-106">Il client LWM2M di Azure RTO può essere ottenuto dal repository del codice sorgente pubblico all'indirizzo [https://github.com/azure-rtos/netxduo/tree/master/addons/lwm2m](https://github.com/azure-rtos/netxduo/tree/master/addons/lwm2m/) .</span><span class="sxs-lookup"><span data-stu-id="3fadc-106">Azure RTOS LWM2M Client can be obtained from our public source code repository at [https://github.com/azure-rtos/netxduo/tree/master/addons/lwm2m](https://github.com/azure-rtos/netxduo/tree/master/addons/lwm2m/).</span></span> <span data-ttu-id="3fadc-107">Il pacchetto include tre file di origine, uno di inclusione, come indicato di seguito.</span><span class="sxs-lookup"><span data-stu-id="3fadc-107">The package includes three source files, one include files, as follows.</span></span>

* <span data-ttu-id="3fadc-108">file di intestazione **\_ \_ client. h NX Lwm2m** per il client lwm2m</span><span class="sxs-lookup"><span data-stu-id="3fadc-108">**nx\_lwm2m\_client.h** Header file for the LWM2M Client</span></span>

* <span data-ttu-id="3fadc-109">file di origine di **NX \_ lwm2m \_ client. c** c per il client lwm2m</span><span class="sxs-lookup"><span data-stu-id="3fadc-109">**nx\_lwm2m\_client.c** C Source files for LWM2M Client</span></span>

* <span data-ttu-id="3fadc-110">**Demo \_ NETX \_ lwm2m \_ client. c** file di origine per lwm2m client demo</span><span class="sxs-lookup"><span data-stu-id="3fadc-110">**demo\_netx\_lwm2m\_client.c** C Source file for LWM2M Client Demo</span></span>

## <a name="lwm2m-client-installation"></a><span data-ttu-id="3fadc-111">Installazione client di LWM2M</span><span class="sxs-lookup"><span data-stu-id="3fadc-111">LWM2M Client Installation</span></span>

<span data-ttu-id="3fadc-112">Il client LWM2M fa parte di NetX Duo.</span><span class="sxs-lookup"><span data-stu-id="3fadc-112">The LWM2M Client is part of NetX Duo.</span></span> <span data-ttu-id="3fadc-113">Quindi, dopo la clonazione di NetX Duo dal repository GitHub, l'origine client LWM2M è reperibile in ***netxduo/addons/LWM2M***.</span><span class="sxs-lookup"><span data-stu-id="3fadc-113">Therefore, after cloning NetX Duo from the GitHub repository, LWM2M client source can be found at ***netxduo/addons/lwm2m***.</span></span>

## <a name="using-lwm2m_client"></a><span data-ttu-id="3fadc-114">Uso del \_ client LWM2M</span><span class="sxs-lookup"><span data-stu-id="3fadc-114">Using LWM2M\_Client</span></span>

<span data-ttu-id="3fadc-115">L'uso di LWM2M client è semplice.</span><span class="sxs-lookup"><span data-stu-id="3fadc-115">Using LWM2M Client is straightforward.</span></span> <span data-ttu-id="3fadc-116">In pratica, il codice dell'applicazione deve includere \***NX \_ lwm2m \_ client. h **_ dopo aver incluso _*_TX \_ API. h_*_ e _*_NX \_ API. h_*_, per usare threadX e NETX. Una volta che è incluso _*_NX \_ lwm2m \_ client. h_*_, il codice dell'applicazione è quindi in grado di effettuare le chiamate di funzione client lwm2m specificate più avanti in questa guida. L'applicazione deve inoltre importare la _* _nx \_ lwm2m \_ client \_ . \**** files nella libreria NETX.</span><span class="sxs-lookup"><span data-stu-id="3fadc-116">Basically, the application code must include ***nx\_lwm2m\_client.h\*\*_ after it includes _*_tx\_api.h_*_ and _*_nx\_api.h_*_, in order to use ThreadX and NetX. Once _*_nx\_lwm2m\_client.h_*_ is included, the application code is then able to make the LWM2M Client function calls specified later in this guide. The application must also import the _* _nx\_lwm2m\_client\_.\***\* files into the NetX library.</span></span>

## <a name="configuration-options"></a><span data-ttu-id="3fadc-117">Opzioni di configurazione</span><span class="sxs-lookup"><span data-stu-id="3fadc-117">Configuration Options</span></span>

<span data-ttu-id="3fadc-118">Sono disponibili diverse opzioni di configurazione quando si compila la libreria client di LWM2M e l'applicazione usando il client LWM2M.</span><span class="sxs-lookup"><span data-stu-id="3fadc-118">There are several configuration options when building the LWM2M Client library and the application using the LWM2M Client.</span></span> <span data-ttu-id="3fadc-119">Le opzioni di configurazione possono essere definite nell'origine dell'applicazione, nella riga di comando, se non diversamente specificato.</span><span class="sxs-lookup"><span data-stu-id="3fadc-119">The configuration options can be defined in the application source, on the command line, unless otherwise specified.</span></span>

| <span data-ttu-id="3fadc-120">Opzione di configurazione &nbsp;</span><span class="sxs-lookup"><span data-stu-id="3fadc-120">Configuration&nbsp;Option</span></span> | <span data-ttu-id="3fadc-121">Descrizione</span><span class="sxs-lookup"><span data-stu-id="3fadc-121">Description</span></span> |
| --- | --- |
| <span data-ttu-id="3fadc-122">**\_ \_ MTU client NX \_ LWM2M**</span><span class="sxs-lookup"><span data-stu-id="3fadc-122">**NX\_LWM2M\_CLIENT\_MTU**</span></span> | <span data-ttu-id="3fadc-123">Specifica la dimensione massima di un messaggio CoAP, incluse le intestazioni IP e UDP.</span><span class="sxs-lookup"><span data-stu-id="3fadc-123">Specifies the maximum size of a CoAP message, including IP and UDP headers.</span></span> <span data-ttu-id="3fadc-124">Il valore predefinito è 1280.</span><span class="sxs-lookup"><span data-stu-id="3fadc-124">The default value is 1280.</span></span> |
| <span data-ttu-id="3fadc-125">**\_ \_ \_ TOS socket client LWM2M \_ NX**</span><span class="sxs-lookup"><span data-stu-id="3fadc-125">**NX\_LWM2M\_CLIENT\_SOCKET\_TOS**</span></span> | <span data-ttu-id="3fadc-126">Tipo di servizio richiesto per UDP LwM2M.</span><span class="sxs-lookup"><span data-stu-id="3fadc-126">Type of service required for the LwM2M UDP.</span></span> <span data-ttu-id="3fadc-127">Per impostazione predefinita, questo valore è definito come \_ IP NX \_ normale per indicare il normale servizio pacchetti IP.</span><span class="sxs-lookup"><span data-stu-id="3fadc-127">By default, this value is defined as NX\_IP\_NORMAL to indicate normal IP packet service.</span></span> |
| <span data-ttu-id="3fadc-128">**\_ \_ \_ TTL socket client NX \_ LWM2M**</span><span class="sxs-lookup"><span data-stu-id="3fadc-128">**NX\_LWM2M\_CLIENT\_SOCKET\_TTL**</span></span> | <span data-ttu-id="3fadc-129">Specifica il numero di router che questo pacchetto può superare prima che venga eliminato.</span><span class="sxs-lookup"><span data-stu-id="3fadc-129">Specifies the number of routers this packet can pass before it is discarded.</span></span> <span data-ttu-id="3fadc-130">Il valore predefinito è impostato su 0x80.</span><span class="sxs-lookup"><span data-stu-id="3fadc-130">The default value is set to 0x80.</span></span> |
| <span data-ttu-id="3fadc-131">**\_ \_ \_ \_ Massimo coda socket client NX LWM2M \_**</span><span class="sxs-lookup"><span data-stu-id="3fadc-131">**NX\_LWM2M\_CLIENT\_SOCKET\_QUEUE\_MAX**</span></span> | <span data-ttu-id="3fadc-132">Specifica il numero massimo di profondità della coda di ricezione.</span><span class="sxs-lookup"><span data-stu-id="3fadc-132">Specifies the number of maximum depths of receive queue.</span></span> <span data-ttu-id="3fadc-133">Il valore predefinito è impostato su 4.</span><span class="sxs-lookup"><span data-stu-id="3fadc-133">The default value is set to 4.</span></span> |
| <span data-ttu-id="3fadc-134">**\_ \_ \_ \_ \_ Percorso URI CoAP \_ client NX LWM2M max**</span><span class="sxs-lookup"><span data-stu-id="3fadc-134">**NX\_LWM2M\_CLIENT\_MAX\_COAP\_URI\_PATH**</span></span> | <span data-ttu-id="3fadc-135">Specifica il numero massimo di lunghezze per l'opzione di Uri-Path CoAP.</span><span class="sxs-lookup"><span data-stu-id="3fadc-135">Specifies the number of maximum lengths of the CoAP Uri-Path option.</span></span> <span data-ttu-id="3fadc-136">Il valore predefinito è impostato su 32.</span><span class="sxs-lookup"><span data-stu-id="3fadc-136">The default value is set to 32.</span></span> |
| <span data-ttu-id="3fadc-137">**\_ \_ \_ \_ Errori dispositivo max del client NX LWM2M \_**</span><span class="sxs-lookup"><span data-stu-id="3fadc-137">**NX\_LWM2M\_CLIENT\_MAX\_DEVICE\_ERRORS**</span></span> | <span data-ttu-id="3fadc-138">Specifica il numero massimo di codici di errore archiviati dall'oggetto dispositivo.</span><span class="sxs-lookup"><span data-stu-id="3fadc-138">Specifies the maximum number of error codes stored by the Device Object.</span></span> <span data-ttu-id="3fadc-139">Il valore predefinito è 8.</span><span class="sxs-lookup"><span data-stu-id="3fadc-139">The default value is 8.</span></span> |
| <span data-ttu-id="3fadc-140">**\_Istanze di \_ \_ sicurezza Max \_ del client NX LWM2M \_**</span><span class="sxs-lookup"><span data-stu-id="3fadc-140">**NX\_LWM2M\_CLIENT\_MAX\_SECURITY\_INSTANCES**</span></span> | <span data-ttu-id="3fadc-141">Specifica il numero massimo di istanze di oggetti di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="3fadc-141">Specifies the maximum number of Security Object Instances.</span></span> <span data-ttu-id="3fadc-142">Il valore predefinito è 2 per supportare un server bootstrap e un server standard.</span><span class="sxs-lookup"><span data-stu-id="3fadc-142">The default value is 2 for supporting a Bootstrap Server and a standard Server.</span></span> |
| <span data-ttu-id="3fadc-143">**\_Istanze del \_ \_ server max \_ del client NX LWM2M \_**</span><span class="sxs-lookup"><span data-stu-id="3fadc-143">**NX\_LWM2M\_CLIENT\_MAX\_SERVER\_INSTANCES**</span></span> | <span data-ttu-id="3fadc-144">Specifica il numero massimo di istanze di oggetti server.</span><span class="sxs-lookup"><span data-stu-id="3fadc-144">Specifies the maximum number of Server Object Instances.</span></span> <span data-ttu-id="3fadc-145">Il valore predefinito è 1 per il supporto di un singolo server standard.</span><span class="sxs-lookup"><span data-stu-id="3fadc-145">The default value is 1 for supporting a single standard Server.</span></span> |
| <span data-ttu-id="3fadc-146">**\_ \_ \_ Numero massimo di \_ istanze del \_ controllo di accesso \_ del client NX LWM2M**</span><span class="sxs-lookup"><span data-stu-id="3fadc-146">**NX\_LWM2M\_CLIENT\_MAX\_ACCESS\_CONTROL\_INSTANCES**</span></span> | <span data-ttu-id="3fadc-147">Specifica il numero massimo di istanze del controllo di accesso.</span><span class="sxs-lookup"><span data-stu-id="3fadc-147">Specifies the maximum number of Access Control Instances.</span></span> <span data-ttu-id="3fadc-148">Il valore predefinito è 0, che disabilita il controllo di accesso.</span><span class="sxs-lookup"><span data-stu-id="3fadc-148">The default value is 0, which disables access control.</span></span> <span data-ttu-id="3fadc-149">Se l'applicazione supporta più di un server LWM2M, il numero massimo di istanze del controllo di accesso deve essere impostato sul numero massimo di istanze di oggetti che il client LWM2M supporterà, perché è necessario creare un'istanza del controllo di accesso per ogni istanza dell'oggetto, ad eccezione delle istanze degli oggetti di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="3fadc-149">If the application supports more than one LWM2M Server, the maximum number of Access Control Instances must be set to the maximum number of Object Instances that the LWM2M Client will support, as one Access Control Instance must be created for each Object Instance (except for the Security Object Instances).</span></span> |
| <span data-ttu-id="3fadc-150">**\_Elenchi di \_ \_ controllo di \_ accesso massimo del \_ client \_ NX LWM2M**</span><span class="sxs-lookup"><span data-stu-id="3fadc-150">**NX\_LWM2M\_CLIENT\_MAX\_ACCESS\_CONTROL\_ACLS**</span></span> | <span data-ttu-id="3fadc-151">Specifica il numero massimo di risorse ACL per ogni istanza del controllo di accesso.</span><span class="sxs-lookup"><span data-stu-id="3fadc-151">Specifies the maximum number of ACL resources per Access Control Instance.</span></span> <span data-ttu-id="3fadc-152">Il valore predefinito è 4.</span><span class="sxs-lookup"><span data-stu-id="3fadc-152">The default value is 4.</span></span> |
| <span data-ttu-id="3fadc-153">**\_ \_ \_ Notifiche massime del client NX LWM2M \_**</span><span class="sxs-lookup"><span data-stu-id="3fadc-153">**NX\_LWM2M\_CLIENT\_MAX\_NOTIFICATIONS**</span></span> | <span data-ttu-id="3fadc-154">Specifica il numero massimo di notifiche che il client LWM2M supporterà.</span><span class="sxs-lookup"><span data-stu-id="3fadc-154">Specifies the maximum number of notifications that the LWM2M Client will support.</span></span> <span data-ttu-id="3fadc-155">Un server LWM2M può impostare notifiche su oggetti, istanze di oggetti e risorse.</span><span class="sxs-lookup"><span data-stu-id="3fadc-155">A LWM2M Server can set notifications on Objects, Object Instances, and Resources.</span></span> <span data-ttu-id="3fadc-156">Il valore predefinito è 8.</span><span class="sxs-lookup"><span data-stu-id="3fadc-156">The default value is 8.</span></span> |
| <span data-ttu-id="3fadc-157">**\_ \_ \_ Risorse massime del client NX LWM2M \_**</span><span class="sxs-lookup"><span data-stu-id="3fadc-157">**NX\_LWM2M\_CLIENT\_MAX\_RESOURCES**</span></span> | <span data-ttu-id="3fadc-158">Specifica il numero massimo di risorse per oggetto.</span><span class="sxs-lookup"><span data-stu-id="3fadc-158">Specifies the maximum number of Resources per Object.</span></span> <span data-ttu-id="3fadc-159">Il valore predefinito è (32).</span><span class="sxs-lookup"><span data-stu-id="3fadc-159">The default value is 32.</span></span> |
| <span data-ttu-id="3fadc-160">**\_ \_ \_ Numero massimo di \_ \_ risorse per il client NX LWM2M**</span><span class="sxs-lookup"><span data-stu-id="3fadc-160">**NX\_LWM2M\_CLIENT\_MAX\_MULTIPLE\_RESOURCES**</span></span> | <span data-ttu-id="3fadc-161">Specifica il numero massimo di istanze di risorse per più risorse.</span><span class="sxs-lookup"><span data-stu-id="3fadc-161">Specifies the maximum number of Resources instances for multiple resource.</span></span> <span data-ttu-id="3fadc-162">Il valore predefinito è 8.</span><span class="sxs-lookup"><span data-stu-id="3fadc-162">The default value is 8.</span></span> |
| <span data-ttu-id="3fadc-163">**\_Timer di \_ \_ \_ inattività bootstrap client NX \_ LWM2M**</span><span class="sxs-lookup"><span data-stu-id="3fadc-163">**NX\_LWM2M\_CLIENT\_BOOTSTRAP\_IDLE\_TIMER**</span></span> | <span data-ttu-id="3fadc-164">Specifica il tempo massimo di attesa per le richieste del server di bootstrap quando viene avviata la sessione bootstrap prima di interrompere la sessione.</span><span class="sxs-lookup"><span data-stu-id="3fadc-164">Specifies the maximum time to wait for bootstrap server requests when the bootstrap session is initiated before aborting the session.</span></span> <span data-ttu-id="3fadc-165">Il valore predefinito è 60 secondi.</span><span class="sxs-lookup"><span data-stu-id="3fadc-165">The default value is 60 seconds.</span></span> |
| <span data-ttu-id="3fadc-166">**\_Timeout di \_ \_ avvio DTLS \_ del client NX LWM2M \_**</span><span class="sxs-lookup"><span data-stu-id="3fadc-166">**NX\_LWM2M\_CLIENT\_DTLS\_START\_TIMEOUT**</span></span> | <span data-ttu-id="3fadc-167">Specifica il tempo massimo di attesa per il completamento dell'handshake DTLS.</span><span class="sxs-lookup"><span data-stu-id="3fadc-167">Specifies the maximum time to wait for DTLS handshake completion.</span></span> <span data-ttu-id="3fadc-168">Il valore predefinito è 30 secondi.</span><span class="sxs-lookup"><span data-stu-id="3fadc-168">The default value is 30 seconds.</span></span> |
| <span data-ttu-id="3fadc-169">**\_ \_ \_ \_ Timeout finale DTLS del client NX LWM2M \_**</span><span class="sxs-lookup"><span data-stu-id="3fadc-169">**NX\_LWM2M\_CLIENT\_DTLS\_END\_TIMEOUT**</span></span> | <span data-ttu-id="3fadc-170">Specifica il tempo massimo di attesa per il completamento dell'arresto del DTLS.</span><span class="sxs-lookup"><span data-stu-id="3fadc-170">Specifies the maximum time to wait for DTLS shutdown completion.</span></span> <span data-ttu-id="3fadc-171">Il valore predefinito è 5 secondi.</span><span class="sxs-lookup"><span data-stu-id="3fadc-171">The default value is 5 seconds.</span></span> |
| <span data-ttu-id="3fadc-172">**\_ \_ \_ \_ \_ URI server di sicurezza client NX LWM2M Max \_**</span><span class="sxs-lookup"><span data-stu-id="3fadc-172">**NX\_LWM2M\_CLIENT\_SECURITY\_MAX\_SERVER\_URI**</span></span> | <span data-ttu-id="3fadc-173">Specifica la lunghezza massima di un URI del server, incluso il carattere di terminazione null.</span><span class="sxs-lookup"><span data-stu-id="3fadc-173">Specifies the maximum length of a server URI, including terminating null character.</span></span> <span data-ttu-id="3fadc-174">Il valore predefinito è 128.</span><span class="sxs-lookup"><span data-stu-id="3fadc-174">The default value is 128.</span></span> |
| <span data-ttu-id="3fadc-175">**\_ \_ \_ \_ \_ \_ Chiave pubblica \_ o \_ identità max di sicurezza del client NX LWM2M**</span><span class="sxs-lookup"><span data-stu-id="3fadc-175">**NX\_LWM2M\_CLIENT\_SECURITY\_MAX\_PUBLIC\_KEY\_OR\_IDENTITY**</span></span> | <span data-ttu-id="3fadc-176">Specifica la lunghezza massima della chiave pubblica o dell'identità per DTLS.</span><span class="sxs-lookup"><span data-stu-id="3fadc-176">Specifies the maximum length of the public key or identity for DTLS.</span></span> <span data-ttu-id="3fadc-177">Il valore predefinito è 128.</span><span class="sxs-lookup"><span data-stu-id="3fadc-177">The default value is 128.</span></span> |
| <span data-ttu-id="3fadc-178">**\_Chiave pubblica per la sicurezza del \_ \_ \_ \_ server max \_ \_ del client NX LWM2M**</span><span class="sxs-lookup"><span data-stu-id="3fadc-178">**NX\_LWM2M\_CLIENT\_SECURITY\_MAX\_SERVER\_PUBLIC\_KEY**</span></span> | <span data-ttu-id="3fadc-179">Specifica la lunghezza massima della chiave pubblica del server per DTLS.</span><span class="sxs-lookup"><span data-stu-id="3fadc-179">Specifies the maximum length of the server public key for DTLS.</span></span> <span data-ttu-id="3fadc-180">Il valore predefinito è 128.</span><span class="sxs-lookup"><span data-stu-id="3fadc-180">The default value is 128.</span></span> |
| <span data-ttu-id="3fadc-181">**\_ \_ \_ \_ \_ Chiave privata massima sicurezza client \_ NX LWM2M**</span><span class="sxs-lookup"><span data-stu-id="3fadc-181">**NX\_LWM2M\_CLIENT\_SECURITY\_MAX\_SECRET\_KEY**</span></span> | <span data-ttu-id="3fadc-182">Specifica la lunghezza massima della chiave privata per DTLS.</span><span class="sxs-lookup"><span data-stu-id="3fadc-182">Specifies the maximum length of the secret key for DTLS.</span></span> <span data-ttu-id="3fadc-183">Il valore predefinito è 128.</span><span class="sxs-lookup"><span data-stu-id="3fadc-183">The default value is 128.</span></span> |
| <span data-ttu-id="3fadc-184">**\_LWM2M \_ client NX \_ \_**</span><span class="sxs-lookup"><span data-stu-id="3fadc-184">**NX\_LWM2M\_CLIENT\_HOLD\_OFF**</span></span> | <span data-ttu-id="3fadc-185">Specifica il numero di secondi di attesa prima di avviare il bootstrap.</span><span class="sxs-lookup"><span data-stu-id="3fadc-185">Specifies the number of seconds to wait before initiating bootstrap.</span></span> <span data-ttu-id="3fadc-186">Il valore predefinito è 1 secondo.</span><span class="sxs-lookup"><span data-stu-id="3fadc-186">The default value is 1 second.</span></span> |
| <span data-ttu-id="3fadc-187">**\_Durata del \_ client \_ LWM2M \_ NX**</span><span class="sxs-lookup"><span data-stu-id="3fadc-187">**NX\_LWM2M\_CLIENT\_LIFE\_TIME**</span></span> | <span data-ttu-id="3fadc-188">Specifica il numero di secondi per la durata della registrazione.</span><span class="sxs-lookup"><span data-stu-id="3fadc-188">Specifies the number of seconds for the registration lifetime.</span></span> <span data-ttu-id="3fadc-189">Il valore predefinito è 600 secondi.</span><span class="sxs-lookup"><span data-stu-id="3fadc-189">The default value is 600 seconds.</span></span> |
