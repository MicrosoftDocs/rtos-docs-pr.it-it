---
title: Capitolo 1-Panoramica
author: philmea
description: Questo articolo è una panoramica dei moduli ThreadX di Azure RTO
ms.author: philmea
ms.date: 07/15/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 0c9698086468d7bb41c33ebe9fa9d1ebb61b5f1f
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104821401"
---
# <a name="chapter-1-overview"></a><span data-ttu-id="94ca1-103">Capitolo 1: Panoramica</span><span class="sxs-lookup"><span data-stu-id="94ca1-103">Chapter 1: Overview</span></span>

<span data-ttu-id="94ca1-104">Il componente del modulo ThreadX fornisce un'infrastruttura per le applicazioni per caricare dinamicamente i moduli compilati separatamente dalla parte residente dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="94ca1-104">The ThreadX Module component provides an infrastructure for applications to dynamically load modules that are built separately from the resident portion of the application.</span></span> <span data-ttu-id="94ca1-105">Questa operazione è particolarmente utile nelle situazioni in cui le dimensioni del codice dell'applicazione superano la memoria disponibile.</span><span class="sxs-lookup"><span data-stu-id="94ca1-105">This is especially useful in situations where the application code size exceeds available memory.</span></span> <span data-ttu-id="94ca1-106">Può anche essere utile quando è necessario aggiungere nuove funzionalità dopo la distribuzione dell'immagine principale.</span><span class="sxs-lookup"><span data-stu-id="94ca1-106">It can also help when new features are required to be added after the core image is deployed.</span></span> <span data-ttu-id="94ca1-107">Inoltre, è possibile usare i moduli per il caricamento dinamico quando sono necessari aggiornamenti parziali del firmware.</span><span class="sxs-lookup"><span data-stu-id="94ca1-107">In addition, dynamically loading modules can be used when partial firmware updates are required.</span></span>

<span data-ttu-id="94ca1-108">La protezione della memoria per il modulo caricato è facoltativa, in base alle proprietà specificate nel preambolo del modulo.</span><span class="sxs-lookup"><span data-stu-id="94ca1-108">Memory protection for the loaded module is optional, based on the properties specified in the module preamble.</span></span> <span data-ttu-id="94ca1-109">Quando si specifica la protezione della memoria, l'hardware di gestione della memoria del processore viene configurato in modo che tutti i thread del modulo possano accedere solo al codice e alla memoria dati del modulo.</span><span class="sxs-lookup"><span data-stu-id="94ca1-109">When memory protection is specified, the processor's memory management hardware is configured such that all threads of the module are only allowed access to the module's code and data memory.</span></span> <span data-ttu-id="94ca1-110">Eventuali accessi o esecuzioni di memoria estranei provocheranno un errore di memoria e il thread del modulo danneggiato verrà interrotto.</span><span class="sxs-lookup"><span data-stu-id="94ca1-110">Any extraneous memory access or execution will result in a memory fault and the offending module thread will be terminated.</span></span> <span data-ttu-id="94ca1-111">Se l'applicazione registra un callback di notifica di errore di memoria, verrà chiamato anche per avvertire l'applicazione dell'errore di memoria.</span><span class="sxs-lookup"><span data-stu-id="94ca1-111">If the application registers a memory fault notification callback, this will also be called to alert the application of the memory fault.</span></span>

<span data-ttu-id="94ca1-112">Il componente del modulo ThreadX si basa sull'applicazione per fornire un'area di memoria in cui è possibile caricare i moduli.</span><span class="sxs-lookup"><span data-stu-id="94ca1-112">The ThreadX Module component relies on the application to provide a memory area where modules can be loaded.</span></span> <span data-ttu-id="94ca1-113">L'area di istruzioni di ogni modulo può essere eseguita sul posto o essere copiata nell'area di memoria del modulo RAM per l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="94ca1-113">The instruction area of each module may execute in place or be copied into the RAM module memory area for execution.</span></span> <span data-ttu-id="94ca1-114">In tutti i casi, i requisiti di memoria dei moduli vengono allocati dall'area memoria del modulo.</span><span class="sxs-lookup"><span data-stu-id="94ca1-114">In all cases, the module data memory requirements are allocated from the module memory area.</span></span>

<span data-ttu-id="94ca1-115">Non sono previsti limiti per il numero di moduli che possono essere caricati contemporaneamente, a parte la quantità di memoria disponibile, mentre è presente una sola copia del codice del gestore dei moduli residente.</span><span class="sxs-lookup"><span data-stu-id="94ca1-115">There are no limits on the number of modules that can be loaded at the same time (aside from the amount of memory available), while there is only one copy of the resident Module Manager code.</span></span> <span data-ttu-id="94ca1-116">Nella figura 1 viene illustrata la relazione tra gestione moduli e i moduli.</span><span class="sxs-lookup"><span data-stu-id="94ca1-116">Figure 1 illustrates the relationship of the Module Manager and the modules themselves.</span></span>

![Relazione tra moduli e gestione moduli](media/image2.png)

<span data-ttu-id="94ca1-118">**Figura 1** Moduli e gestione moduli</span><span class="sxs-lookup"><span data-stu-id="94ca1-118">**Figure 1** Modules and Module Manager</span></span>

<span data-ttu-id="94ca1-119">Ogni modulo deve avere una propria area di memoria, che è responsabilità dell'applicazione definire.</span><span class="sxs-lookup"><span data-stu-id="94ca1-119">Each module must have its own memory area, which is the application's responsibility to define.</span></span> <span data-ttu-id="94ca1-120">Il modulo e gestione moduli interagiscono tramite una funzione di distribuzione software tramite ID richiesta predefiniti che corrispondono ai servizi ThreadX richiesti dal modulo.</span><span class="sxs-lookup"><span data-stu-id="94ca1-120">The Module and the Module Manager interact through a software dispatch function via pre-defined request IDs that correspond to ThreadX services requested by the module.</span></span> <span data-ttu-id="94ca1-121">Il modulo è necessario anche per fornire un punto di ingresso a thread singolo, nonché le dimensioni dello stack, la priorità, l'ID del modulo, la dimensione/priorità dello stack dei thread di callback e così via. Queste informazioni vengono definite nel preambolo di ogni modulo.</span><span class="sxs-lookup"><span data-stu-id="94ca1-121">In addition, the module is required to provide a single thread entry point as well as the required stack size, priority, module ID, callback thread stack size/priority, etc. This information is defined in each module's preamble.</span></span>

<span data-ttu-id="94ca1-122">Gestione moduli è responsabile della creazione del thread del modulo iniziale e dell'avvio dell'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="94ca1-122">The Module Manager is responsible for creating the initial module thread and initiating its execution.</span></span> <span data-ttu-id="94ca1-123">Quando il thread iniziale del modulo è in esecuzione, gestione moduli è responsabile del campo di tutte le richieste API ThreadX effettuate dal modulo.</span><span class="sxs-lookup"><span data-stu-id="94ca1-123">Once the module's initial thread is executing, the Module Manager is responsible for fielding all ThreadX API requests made by the module.</span></span> <span data-ttu-id="94ca1-124">Un modulo ha accesso completo all'API ThreadX, inclusa la possibilità di creare thread aggiuntivi all'interno del modulo.</span><span class="sxs-lookup"><span data-stu-id="94ca1-124">A module has full access to the ThreadX API, including the ability to create additional threads within the module.</span></span>  
  
<span data-ttu-id="94ca1-125">Le convenzioni di denominazione del codice sorgente del modulo sono semplici: tutti i file di origine di gestione moduli sono denominati ***txm_module_manager_ \**** e tutti i file associati esclusivamente al modulo omettono la parte "**_Manager_*_" del nome. Il file di inclusione principale _*_txm_module. h_** è condiviso dal codice sorgente di gestione e modulo.</span><span class="sxs-lookup"><span data-stu-id="94ca1-125">The module source code naming conventions are straightforward: all Module Manager source files are named ***txm_module_manager_\**** and all files associated exclusively with the module omit the "**_manager_*_" portion of the name. The main include file _*_txm_module.h_** is shared by the manager and module source code.</span></span>
