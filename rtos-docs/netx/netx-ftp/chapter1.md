---
title: Capitolo 1-Introduzione ad Azure RTO NetX FTP
description: Il File Transfer Protocol (FTP) è un protocollo progettato per i trasferimenti di file. FTP utilizza servizi di Transmission Control Protocol affidabili (TCP) per eseguire la relativa funzione di trasferimento file.
author: philmea
ms.author: philmea
ms.date: 06/04/2020
ms.topic: article
ms.service: rtos
ms.openlocfilehash: 86e132daf96f9039631234f10c8e239b61ad5126
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/22/2021
ms.locfileid: "104822637"
---
# <a name="chapter-1---introduction-to-azure-rtos-netx-ftp"></a><span data-ttu-id="54fbf-104">Capitolo 1-Introduzione ad Azure RTO NetX FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-104">Chapter 1 - Introduction to Azure RTOS NetX FTP</span></span>

<span data-ttu-id="54fbf-105">Il File Transfer Protocol (FTP) è un protocollo progettato per i trasferimenti di file.</span><span class="sxs-lookup"><span data-stu-id="54fbf-105">The File Transfer Protocol (FTP) is a protocol designed for file transfers.</span></span> <span data-ttu-id="54fbf-106">FTP utilizza servizi di Transmission Control Protocol affidabili (TCP) per eseguire la relativa funzione di trasferimento file.</span><span class="sxs-lookup"><span data-stu-id="54fbf-106">FTP utilizes reliable Transmission Control Protocol (TCP) services to perform its file transfer function.</span></span> <span data-ttu-id="54fbf-107">Per questo motivo, FTP è un protocollo di trasferimento di file altamente affidabile.</span><span class="sxs-lookup"><span data-stu-id="54fbf-107">Because of this, FTP is a highly reliable file transfer protocol.</span></span> <span data-ttu-id="54fbf-108">Anche FTP è a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="54fbf-108">FTP is also high-performance.</span></span> <span data-ttu-id="54fbf-109">Il trasferimento effettivo dei file FTP viene eseguito in una connessione FTP dedicata.</span><span class="sxs-lookup"><span data-stu-id="54fbf-109">The actual FTP file transfer is performed on a dedicated FTP connection.</span></span>

## <a name="ftp-requirements"></a><span data-ttu-id="54fbf-110">Requisiti FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-110">FTP Requirements</span></span>

<span data-ttu-id="54fbf-111">Per funzionare correttamente, il pacchetto FTP NetX di Azure RTO richiede che sia già stata creata un'istanza IP NetX.</span><span class="sxs-lookup"><span data-stu-id="54fbf-111">In order to function properly, the Azure RTOS NetX FTP package requires that a NetX IP instance has already been created.</span></span> <span data-ttu-id="54fbf-112">Inoltre, è necessario abilitare TCP nella stessa istanza di IP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-112">In addition, TCP must be enabled on that same IP instance.</span></span> <span data-ttu-id="54fbf-113">La parte client FTP del pacchetto FTP NetX non ha altri requisiti.</span><span class="sxs-lookup"><span data-stu-id="54fbf-113">The FTP Client portion of the NetX FTP package has no further requirements.</span></span>

<span data-ttu-id="54fbf-114">La parte relativa al server FTP del pacchetto FTP NetX presenta diversi requisiti aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="54fbf-114">The FTP Server portion of the NetX FTP package has several additional requirements.</span></span> <span data-ttu-id="54fbf-115">Per prima cosa, è necessario l'accesso completo alla *porta 21 Nota* TCP per gestire tutte le richieste di comandi FTP client e la *porta 20 nota* per gestire tutti i trasferimenti di dati FTP del client.</span><span class="sxs-lookup"><span data-stu-id="54fbf-115">First, it requires complete access to TCP *well-known port 21* for handling all Client FTP command requests and *well-known port 20* for handling all Client FTP data transfers.</span></span> <span data-ttu-id="54fbf-116">Il server FTP è anche progettato per l'uso con FileX Embedded file system.</span><span class="sxs-lookup"><span data-stu-id="54fbf-116">The FTP Server is also designed for use with the FileX embedded file system.</span></span> <span data-ttu-id="54fbf-117">Se FileX non è disponibile, l'utente può trasferire le parti di FileX utilizzate nel proprio ambiente.</span><span class="sxs-lookup"><span data-stu-id="54fbf-117">If FileX is not available, the user may port the portions of FileX used to their own environment.</span></span> <span data-ttu-id="54fbf-118">Questo argomento viene descritto nelle sezioni successive di questa guida.</span><span class="sxs-lookup"><span data-stu-id="54fbf-118">This is discussed in later sections of this guide.</span></span>

## <a name="ftp-constraints"></a><span data-ttu-id="54fbf-119">Vincoli FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-119">FTP Constraints</span></span>

<span data-ttu-id="54fbf-120">Lo standard FTP offre molte opzioni relative alla rappresentazione dei dati del file.</span><span class="sxs-lookup"><span data-stu-id="54fbf-120">The FTP standard has many options regarding the representation of file data.</span></span> <span data-ttu-id="54fbf-121">Analogamente alle implementazioni di UNIX, NetX FTP presuppone i vincoli di formato di file seguenti:</span><span class="sxs-lookup"><span data-stu-id="54fbf-121">Similar to Unix implementations, NetX FTP assumes the following file format constraints:</span></span>

- <span data-ttu-id="54fbf-122">Tipo di file: **Binary**</span><span class="sxs-lookup"><span data-stu-id="54fbf-122">File Type: **Binary**</span></span>
- <span data-ttu-id="54fbf-123">Formato file: **solo non stampa**</span><span class="sxs-lookup"><span data-stu-id="54fbf-123">File Format: **Nonprint Only**</span></span>
- <span data-ttu-id="54fbf-124">Struttura del file: **solo struttura di file**</span><span class="sxs-lookup"><span data-stu-id="54fbf-124">File Structure: **File Structure Only**</span></span>
- <span data-ttu-id="54fbf-125">Modalità di trasmissione: **solo modalità flusso**</span><span class="sxs-lookup"><span data-stu-id="54fbf-125">Transmission Mode: **Stream Mode Only**</span></span>

## <a name="ftp-file-names"></a><span data-ttu-id="54fbf-126">Nomi file FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-126">FTP File Names</span></span>

<span data-ttu-id="54fbf-127">I nomi dei file FTP devono essere nel formato del file system di destinazione (in genere FileX).</span><span class="sxs-lookup"><span data-stu-id="54fbf-127">FTP file names should be in the format of the target file system (usually FileX).</span></span> <span data-ttu-id="54fbf-128">Devono essere stringhe ASCII con terminazione NULL, con informazioni complete sul percorso, se necessario.</span><span class="sxs-lookup"><span data-stu-id="54fbf-128">They should be NULL terminated ASCII strings, with full path information if necessary.</span></span> <span data-ttu-id="54fbf-129">Non è previsto alcun limite per le dimensioni dei nomi file FTP nell'implementazione FTP NetX.</span><span class="sxs-lookup"><span data-stu-id="54fbf-129">There is no specified limit for the size of FTP file names in the NetX FTP implementation.</span></span> <span data-ttu-id="54fbf-130">Tuttavia, le dimensioni del payload del pool di pacchetti devono essere in grado di contenere il percorso e/o il nome di file massimo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-130">However, the packet pool payload size should be able to accommodate the maximum path and/or file name.</span></span>

## <a name="ftp-client-commands"></a><span data-ttu-id="54fbf-131">Comandi client FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-131">FTP Client Commands</span></span>

<span data-ttu-id="54fbf-132">FTP dispone di un meccanismo semplice per l'apertura di connessioni e l'esecuzione di operazioni su file e directory.</span><span class="sxs-lookup"><span data-stu-id="54fbf-132">The FTP has a simple mechanism for opening connections and performing file and directory operations.</span></span> <span data-ttu-id="54fbf-133">È fondamentalmente disponibile un set di comandi FTP standard emessi dal client dopo che una connessione è stata stabilita correttamente sulla *porta 21 TCP nota*.</span><span class="sxs-lookup"><span data-stu-id="54fbf-133">There is basically a set of standard FTP commands that are issued by the Client after a connection has been successfully established on the TCP *well-known port 21*.</span></span> <span data-ttu-id="54fbf-134">Di seguito sono riportati alcuni dei comandi FTP di base:</span><span class="sxs-lookup"><span data-stu-id="54fbf-134">The following shows some of the basic FTP commands:</span></span>

### <a name="ftp-command-and-meaning"></a><span data-ttu-id="54fbf-135">Comando e significato FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-135">FTP Command and Meaning</span></span>

- <span data-ttu-id="54fbf-136">**Percorso CWD**: *modifica directory di lavoro*</span><span class="sxs-lookup"><span data-stu-id="54fbf-136">**CWD path**: *Change working directory*</span></span>
- <span data-ttu-id="54fbf-137">**Dele filename**: *eliminare il nome file specificato*</span><span class="sxs-lookup"><span data-stu-id="54fbf-137">**DELE filename**: *Delete specified file name*</span></span>
- <span data-ttu-id="54fbf-138">**Elenco directory**: *Ottieni visualizzazione directory*</span><span class="sxs-lookup"><span data-stu-id="54fbf-138">**LIST directory**: *Get directory listing*</span></span>
- <span data-ttu-id="54fbf-139">**Directory MKD**: *Crea nuova directory*</span><span class="sxs-lookup"><span data-stu-id="54fbf-139">**MKD directory**: *Make new directory*</span></span>
- <span data-ttu-id="54fbf-140">**NLST directory**: *Ottieni visualizzazione directory*</span><span class="sxs-lookup"><span data-stu-id="54fbf-140">**NLST directory**: *Get directory listing*</span></span>
- <span data-ttu-id="54fbf-141">**NoOp**: *Nessuna operazione, restituisce esito positivo*</span><span class="sxs-lookup"><span data-stu-id="54fbf-141">**NOOP**: *No operation, returns success*</span></span>
- <span data-ttu-id="54fbf-142">**Pass password**: *specificare la password per l'accesso*</span><span class="sxs-lookup"><span data-stu-id="54fbf-142">**PASS password**: *Provide password for login*</span></span>
- <span data-ttu-id="54fbf-143">**PASV**: *richiedere la modalità di trasferimento passivo*</span><span class="sxs-lookup"><span data-stu-id="54fbf-143">**PASV**: *Request passive transfer mode*</span></span>
- <span data-ttu-id="54fbf-144">**Percorso pwd**: *percorso della directory corrente del prelievo*</span><span class="sxs-lookup"><span data-stu-id="54fbf-144">**PWD path**: *Pickup current directory path*</span></span>
- <span data-ttu-id="54fbf-145">**Quit**: *Termina connessione client*</span><span class="sxs-lookup"><span data-stu-id="54fbf-145">**QUIT**: *Terminate Client connection*</span></span>
- <span data-ttu-id="54fbf-146">**Retr nomefile**: *lettura file specificato*</span><span class="sxs-lookup"><span data-stu-id="54fbf-146">**RETR filename**: *Read specified file*</span></span>
- <span data-ttu-id="54fbf-147">**RMD directory**: *eliminare la directory specificata*</span><span class="sxs-lookup"><span data-stu-id="54fbf-147">**RMD directory**: *Delete specified directory*</span></span>
- <span data-ttu-id="54fbf-148">**RNFR OldFileName**: *specificare il file da rinominare*</span><span class="sxs-lookup"><span data-stu-id="54fbf-148">**RNFR oldfilename**: *Specify file to rename*</span></span>
- <span data-ttu-id="54fbf-149">**RNTO nomenuovofile**: *rinominare il file in un nome file specificato*</span><span class="sxs-lookup"><span data-stu-id="54fbf-149">**RNTO newfilename**: *Rename file to supplied file name*</span></span>
- <span data-ttu-id="54fbf-150">**Stor filename**: *Scrivi file specificato*</span><span class="sxs-lookup"><span data-stu-id="54fbf-150">**STOR filename**: *Write specified file*</span></span>
- <span data-ttu-id="54fbf-151">**Tipo I**: *selezionare l'immagine del file binario*</span><span class="sxs-lookup"><span data-stu-id="54fbf-151">**TYPE I**: *Select binary file image*</span></span>
- <span data-ttu-id="54fbf-152">**Nome utente utente**: *specificare il nome utente per l'accesso*</span><span class="sxs-lookup"><span data-stu-id="54fbf-152">**USER username**: *Provide username for login*</span></span>
- <span data-ttu-id="54fbf-153">Porta **ip_address, porta**: *specificare l'indirizzo IP e la porta dati client*</span><span class="sxs-lookup"><span data-stu-id="54fbf-153">**PORT ip_address,port**: *Provide IP address and Client data port*</span></span>

<span data-ttu-id="54fbf-154">Questi comandi ASCII vengono usati internamente dal software client FTP NetX per eseguire operazioni FTP con il server FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-154">These ASCII commands are used internally by the NetX FTP Client software to perform FTP operations with the FTP Server.</span></span>

## <a name="ftp-server-responses"></a><span data-ttu-id="54fbf-155">Risposte server FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-155">FTP Server Responses</span></span>

<span data-ttu-id="54fbf-156">Il server FTP utilizza la *Nota porta TCP 21* per il campo richieste del comando client.</span><span class="sxs-lookup"><span data-stu-id="54fbf-156">The FTP Server utilizes the *well-known TCP port 21* to field Client command requests.</span></span> <span data-ttu-id="54fbf-157">Una volta che il server FTP elabora il comando client, viene restituita una risposta numerica a 3 cifre in ASCII seguita da una stringa ASCII facoltativa.</span><span class="sxs-lookup"><span data-stu-id="54fbf-157">Once the FTP Server processes the Client command, it returns a 3-digit numeric response in ASCII followed by an optional ASCII string.</span></span> <span data-ttu-id="54fbf-158">La risposta numerica viene utilizzata dal software client FTP per determinare se l'operazione ha avuto esito positivo o negativo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-158">The numeric response is used by the FTP Client software to determine whether the operation succeeded or failed.</span></span> <span data-ttu-id="54fbf-159">Di seguito sono elencate diverse risposte al server FTP per i comandi client:</span><span class="sxs-lookup"><span data-stu-id="54fbf-159">The following lists various FTP Server responses to Client commands:</span></span>

### <a name="first-numeric-field-and-meaning"></a><span data-ttu-id="54fbf-160">Primo campo numerico e significato</span><span class="sxs-lookup"><span data-stu-id="54fbf-160">First Numeric Field and Meaning</span></span>

- <span data-ttu-id="54fbf-161">**1xx**: *stato preliminare positivo: verrà inviata un'altra risposta*.</span><span class="sxs-lookup"><span data-stu-id="54fbf-161">**1xx**: *Positive preliminary status – another reply coming*.</span></span>
- <span data-ttu-id="54fbf-162">**2xx**: *stato di completamento positivo*.</span><span class="sxs-lookup"><span data-stu-id="54fbf-162">**2xx**: *Positive completion status*.</span></span>
- <span data-ttu-id="54fbf-163">**3xx**: *stato preliminare positivo: è necessario inviare un altro comando*.</span><span class="sxs-lookup"><span data-stu-id="54fbf-163">**3xx**: *Positive preliminary status – another command must be sent*.</span></span>
- <span data-ttu-id="54fbf-164">**4xx**: *condizione di errore temporanea*.</span><span class="sxs-lookup"><span data-stu-id="54fbf-164">**4xx**: *Temporary error condition*.</span></span>
- <span data-ttu-id="54fbf-165">**5xx**: *condizione di errore.*</span><span class="sxs-lookup"><span data-stu-id="54fbf-165">**5xx**: *Error condition.*</span></span>

### <a name="second-numeric-field-and-meaning"></a><span data-ttu-id="54fbf-166">Secondo campo numerico e significato</span><span class="sxs-lookup"><span data-stu-id="54fbf-166">Second Numeric Field and Meaning</span></span>

- <span data-ttu-id="54fbf-167">**x0x**: errore di sintassi nel comando.</span><span class="sxs-lookup"><span data-stu-id="54fbf-167">**x0x**: Syntax error in command.</span></span>
- <span data-ttu-id="54fbf-168">**X1X**: messaggio informativo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-168">**x1x**: Informational message.</span></span>
- <span data-ttu-id="54fbf-169">**X2X**: connessione correlata.</span><span class="sxs-lookup"><span data-stu-id="54fbf-169">**x2x**: Connection related.</span></span>
- <span data-ttu-id="54fbf-170">**x3x**: correlato all'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="54fbf-170">**x3x**: Authentication related.</span></span>
- <span data-ttu-id="54fbf-171">**x4x**: non specificato.</span><span class="sxs-lookup"><span data-stu-id="54fbf-171">**x4x**: Unspecified.</span></span>
- <span data-ttu-id="54fbf-172">**x5x**: correlato al file System.</span><span class="sxs-lookup"><span data-stu-id="54fbf-172">**x5x**: File system related.</span></span>

<span data-ttu-id="54fbf-173">Una richiesta client di disconnessione di una connessione FTP con il comando QUIT, ad esempio, viene in genere risposta con il codice "221" del server, se la disconnessione ha esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-173">For example, a Client request to disconnect an FTP connection with the QUIT command will typically be responded with a "221" code from the Server – if the disconnect is successful.</span></span>

## <a name="ftp-passive-transfer-mode"></a><span data-ttu-id="54fbf-174">Modalità di trasferimento passivo FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-174">FTP Passive Transfer Mode</span></span>

<span data-ttu-id="54fbf-175">Per impostazione predefinita, il client FTP NetX usa la modalità di trasporto attiva per scambiare dati sul socket di dati con il server FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-175">By default, the NetX FTP Client uses the active transport mode to exchange data over the data socket with the FTP server.</span></span> <span data-ttu-id="54fbf-176">Il problema di questa disposizione è che richiede al client FTP di aprire un socket del server TCP per il server FTP a cui connettersi.</span><span class="sxs-lookup"><span data-stu-id="54fbf-176">The problem with this arrangement is that it requires the FTP Client to open a TCP server socket for the FTP Server to connect to.</span></span> <span data-ttu-id="54fbf-177">Questo rappresenta un possibile rischio per la sicurezza e può essere bloccato dal firewall client.</span><span class="sxs-lookup"><span data-stu-id="54fbf-177">This represents a possible security risk and may be blocked by the Client firewall.</span></span> <span data-ttu-id="54fbf-178">La modalità di trasferimento passivo è diversa dalla modalità di trasporto attiva perché il server FTP crea il socket del server TCP sulla connessione dati.</span><span class="sxs-lookup"><span data-stu-id="54fbf-178">Passive transfer mode differs from active transport mode by having the FTP server create the TCP server socket on the data connection.</span></span> <span data-ttu-id="54fbf-179">In questo modo si eliminano i rischi per la sicurezza (per il client FTP).</span><span class="sxs-lookup"><span data-stu-id="54fbf-179">This eliminates the security risk (for the FTP Client).</span></span>

<span data-ttu-id="54fbf-180">Per abilitare il trasferimento dati passivo, l'applicazione chiama *nx_ftp_client_passive_mode_set* su un client FTP creato in precedenza con il secondo argomento impostato su NX_TRUE.</span><span class="sxs-lookup"><span data-stu-id="54fbf-180">To enable passive data transfer, the application calls *nx_ftp_client_passive_mode_set* on a previously created FTP Client with the second argument set to NX_TRUE.</span></span> <span data-ttu-id="54fbf-181">In seguito, tutti i servizi client FTP NetX successivi per il trasferimento dei dati (NLST, RETR, STOR) vengono tentati nella modalità di trasporto passiva.</span><span class="sxs-lookup"><span data-stu-id="54fbf-181">Thereafter, all subsequent NetX FTP Client services for transferring data (NLST, RETR, STOR) are attempted in the passive transport mode.</span></span>

<span data-ttu-id="54fbf-182">Il client FTP invia prima il comando PASV (nessun argomento).</span><span class="sxs-lookup"><span data-stu-id="54fbf-182">The FTP Client first sends the PASV command (no arguments).</span></span> <span data-ttu-id="54fbf-183">Se il server FTP supporta questa richiesta, restituirà la risposta 227 "OK".</span><span class="sxs-lookup"><span data-stu-id="54fbf-183">If the FTP server supports this request it will return the 227 "OK" response.</span></span> <span data-ttu-id="54fbf-184">Quindi il client invia la richiesta, ad esempio RETR.</span><span class="sxs-lookup"><span data-stu-id="54fbf-184">Then the Client sends the request e.g. RETR.</span></span> <span data-ttu-id="54fbf-185">Se il server rifiuta la modalità di trasferimento passivo, il servizio client FTP NetX restituisce uno stato di errore.</span><span class="sxs-lookup"><span data-stu-id="54fbf-185">If the server refuses passive transfer mode, the NetX FTP Client service returns an error status.</span></span>

<span data-ttu-id="54fbf-186">Per disabilitare la modalità di trasporto passiva e tornare alla modalità di trasporto attiva, l'applicazione chiama *nx_ftp_client_passive_mode_set* con il secondo argomento impostato su NX_FALSE.</span><span class="sxs-lookup"><span data-stu-id="54fbf-186">To disable passive transport mode and return to active transport mode, the application calls *nx_ftp_client_passive_mode_set* with the second argument set to NX_FALSE.</span></span>

## <a name="ftp-communication"></a><span data-ttu-id="54fbf-187">Comunicazione FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-187">FTP Communication</span></span>

<span data-ttu-id="54fbf-188">Il server FTP utilizza la *porta TCP 21 Nota* per il campo delle richieste del client.</span><span class="sxs-lookup"><span data-stu-id="54fbf-188">The FTP Server utilizes the *well-known TCP port 21* to field Client requests.</span></span> <span data-ttu-id="54fbf-189">I client FTP possono usare qualsiasi porta TCP disponibile.</span><span class="sxs-lookup"><span data-stu-id="54fbf-189">FTP Clients may use any available TCP port.</span></span> <span data-ttu-id="54fbf-190">La sequenza generale degli eventi FTP è la seguente:</span><span class="sxs-lookup"><span data-stu-id="54fbf-190">The general sequence of FTP events is as follows:</span></span>

### <a name="ftp-read-file-requests"></a><span data-ttu-id="54fbf-191">Richieste di file di lettura FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-191">FTP Read File Requests</span></span>

1. <span data-ttu-id="54fbf-192">Il client invia la connessione TCP alla porta del server 21.</span><span class="sxs-lookup"><span data-stu-id="54fbf-192">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="54fbf-193">Il server invia la risposta "220" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-193">Server sends "220" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-194">Il client invia il messaggio "USER" con "username".</span><span class="sxs-lookup"><span data-stu-id="54fbf-194">Client sends "USER" message with "username."</span></span>
1. <span data-ttu-id="54fbf-195">Il server invia la risposta "331" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-195">Server sends "331" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-196">Il client invia il messaggio "PASS" con "password".</span><span class="sxs-lookup"><span data-stu-id="54fbf-196">Client sends "PASS" message with "password."</span></span>
1. <span data-ttu-id="54fbf-197">Il server invia la risposta "230" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-197">Server sends "230" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-198">Il client invia il messaggio "TYPE I" per il trasferimento binario.</span><span class="sxs-lookup"><span data-stu-id="54fbf-198">Client sends "TYPE I" message for binary transfer.</span></span>
1. <span data-ttu-id="54fbf-199">Il server invia la risposta "200" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-199">Server sends "200" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-200">Il client invia il messaggio "porta" con indirizzo IP e porta.</span><span class="sxs-lookup"><span data-stu-id="54fbf-200">Client sends "PORT" message with IP address and port.</span></span>
1. <span data-ttu-id="54fbf-201">Il server invia la risposta "200" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-201">Server sends "200" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-202">Il client invia il messaggio "RETR" con il nome del file da leggere.</span><span class="sxs-lookup"><span data-stu-id="54fbf-202">Client sends "RETR" message with file name to read.</span></span>
1. <span data-ttu-id="54fbf-203">Il server crea il socket di dati e si connette con la porta dati client specificata nel comando "porta".</span><span class="sxs-lookup"><span data-stu-id="54fbf-203">Server creates data socket and connects with client data port specified in the "PORT" command.</span></span>
1. <span data-ttu-id="54fbf-204">Il server invia la risposta "125" alla lettura del file di segnale avviata.</span><span class="sxs-lookup"><span data-stu-id="54fbf-204">Server sends "125" response to signal file read has started.</span></span>
1. <span data-ttu-id="54fbf-205">Il server invia il contenuto del file tramite la connessione dati.</span><span class="sxs-lookup"><span data-stu-id="54fbf-205">Server sends contents of file through the data connection.</span></span> <span data-ttu-id="54fbf-206">Questo processo continua fino a quando il file non viene completamente trasferito.</span><span class="sxs-lookup"><span data-stu-id="54fbf-206">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="54fbf-207">Al termine, il server disconnette la connessione dati.</span><span class="sxs-lookup"><span data-stu-id="54fbf-207">When finished, Server disconnects data connection.</span></span>
1. <span data-ttu-id="54fbf-208">Il server invia la risposta "250" alla lettura del file di segnale completata.</span><span class="sxs-lookup"><span data-stu-id="54fbf-208">Server sends "250" response to signal file read is successful.</span></span>
1. <span data-ttu-id="54fbf-209">I client inviano "QUIT" per terminare la connessione FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-209">Clients sends "QUIT" to terminate FTP connection.</span></span>
1. <span data-ttu-id="54fbf-210">Il server invia la risposta "221" alla disconnessione del segnale riuscita.</span><span class="sxs-lookup"><span data-stu-id="54fbf-210">Server sends "221" response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="54fbf-211">Il server disconnette la connessione FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-211">Server disconnects FTP connection.</span></span>

<span data-ttu-id="54fbf-212">Come indicato in precedenza, l'unica differenza tra l'FTP in esecuzione su IPv4 e IPv6 è il comando PORT viene sostituito con il comando EPRT per IPv6</span><span class="sxs-lookup"><span data-stu-id="54fbf-212">As mentioned previously, the only difference between FTP running over IPv4 and IPv6 is the PORT command is replaced with the EPRT command for IPv6</span></span>

<span data-ttu-id="54fbf-213">Se il client FTP effettua una richiesta di lettura nella modalità di trasferimento passivo, la sequenza di comandi è la seguente (le linee in **grassetto** indicano un passaggio diverso rispetto alla modalità di trasferimento attiva):</span><span class="sxs-lookup"><span data-stu-id="54fbf-213">If the FTP Client makes a read request in the passive transfer mode, the command sequence is as follows (**bolded** lines indicates a different step from active transfer mode):</span></span>

1. <span data-ttu-id="54fbf-214">Il client invia la connessione TCP alla porta del server 21.</span><span class="sxs-lookup"><span data-stu-id="54fbf-214">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="54fbf-215">Il server invia la risposta "220" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-215">Server sends "220" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-216">Il client invia il messaggio "USER" con "username".</span><span class="sxs-lookup"><span data-stu-id="54fbf-216">Client sends "USER" message with "username."</span></span>
1. <span data-ttu-id="54fbf-217">Il server invia la risposta "331" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-217">Server sends "331" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-218">Il client invia il messaggio "PASS" con "password".</span><span class="sxs-lookup"><span data-stu-id="54fbf-218">Client sends "PASS" message with "password."</span></span>
1. <span data-ttu-id="54fbf-219">Il server invia la risposta "230" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-219">Server sends "230" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-220">Il client invia il messaggio "TYPE I" per il trasferimento binario.</span><span class="sxs-lookup"><span data-stu-id="54fbf-220">Client sends "TYPE I" message for binary transfer.</span></span>
1. <span data-ttu-id="54fbf-221">Il server invia la risposta "200" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-221">Server sends "200" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-222">**Il client invia il messaggio "PASV".**</span><span class="sxs-lookup"><span data-stu-id="54fbf-222">**Client sends "PASV" message.**</span></span>
1. <span data-ttu-id="54fbf-223">**Il server invia la risposta "227", l'indirizzo IP e la porta a cui il client si connette per segnalare l'esito positivo.**</span><span class="sxs-lookup"><span data-stu-id="54fbf-223">**Server sends "227" response, and IP address and port for the Client to connect to, to signal success.**</span></span>
1. <span data-ttu-id="54fbf-224">Il client invia il messaggio "RETR" con il nome del file da leggere.</span><span class="sxs-lookup"><span data-stu-id="54fbf-224">Client sends "RETR" message with file name to read.</span></span>
1. <span data-ttu-id="54fbf-225">**Il server crea un socket del server di dati e rimane in attesa della richiesta di connessione del client su questo socket usando la porta specificata nella risposta "227".**</span><span class="sxs-lookup"><span data-stu-id="54fbf-225">**Server creates data server socket and listens for the Client connect request on this socket using the port specified in the "227" response.**</span></span>
1. <span data-ttu-id="54fbf-226">**Il server invia la risposta "150" sul socket di controllo per segnalare che la lettura del file è stata avviata.**</span><span class="sxs-lookup"><span data-stu-id="54fbf-226">**Server sends "150" response on the control socket to signal file read has started.**</span></span>
1. <span data-ttu-id="54fbf-227">Il server invia il contenuto del file tramite la connessione dati.</span><span class="sxs-lookup"><span data-stu-id="54fbf-227">Server sends contents of file through the data connection.</span></span> <span data-ttu-id="54fbf-228">Questo processo continua fino a quando il file non viene completamente trasferito.</span><span class="sxs-lookup"><span data-stu-id="54fbf-228">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="54fbf-229">Al termine, il server disconnette la connessione dati.</span><span class="sxs-lookup"><span data-stu-id="54fbf-229">When finished, Server disconnects data connection.</span></span>
1. <span data-ttu-id="54fbf-230">**Il server invia la risposta "226" sul socket di controllo per segnalare che la lettura del file è riuscita.**</span><span class="sxs-lookup"><span data-stu-id="54fbf-230">**Server sends "226" response on the control socket to signal file read is successful.**</span></span>
1. <span data-ttu-id="54fbf-231">Il client invia "QUIT" per terminare la connessione FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-231">Client sends "QUIT" to terminate FTP connection.</span></span>
1. <span data-ttu-id="54fbf-232">Il server invia la risposta "221" alla disconnessione del segnale riuscita.</span><span class="sxs-lookup"><span data-stu-id="54fbf-232">Server sends "221" response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="54fbf-233">Il server disconnette la connessione FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-233">Server disconnects FTP connection.</span></span>

### <a name="ftp-write-requests"></a><span data-ttu-id="54fbf-234">Richieste di scrittura FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-234">FTP Write Requests</span></span>

1. <span data-ttu-id="54fbf-235">Il client invia la connessione TCP alla porta del server 21.</span><span class="sxs-lookup"><span data-stu-id="54fbf-235">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="54fbf-236">Il server invia la risposta "220" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-236">Server sends "220" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-237">Il client invia il messaggio "USER" con "username".</span><span class="sxs-lookup"><span data-stu-id="54fbf-237">Client sends "USER" message with "username."</span></span>
1. <span data-ttu-id="54fbf-238">Il server invia la risposta "331" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-238">Server sends "331" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-239">Il client invia il messaggio "PASS" con "password".</span><span class="sxs-lookup"><span data-stu-id="54fbf-239">Client sends "PASS" message with "password."</span></span>
1. <span data-ttu-id="54fbf-240">Il server invia la risposta "230" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-240">Server sends "230" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-241">Il client invia il messaggio "TYPE I" per il trasferimento binario.</span><span class="sxs-lookup"><span data-stu-id="54fbf-241">Client sends "TYPE I" message for binary transfer.</span></span>
1. <span data-ttu-id="54fbf-242">Il server invia la risposta "200" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-242">Server sends "200" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-243">Il client invia il messaggio "porta" con indirizzo IP e porta.</span><span class="sxs-lookup"><span data-stu-id="54fbf-243">Client sends "PORT" message with IP address and port.</span></span>
1. <span data-ttu-id="54fbf-244">Il server invia la risposta "200" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-244">Server sends "200" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-245">Il client invia il messaggio "STOR" con il nome file da scrivere.</span><span class="sxs-lookup"><span data-stu-id="54fbf-245">Client sends "STOR" message with file name to write.</span></span>
1. <span data-ttu-id="54fbf-246">Il server crea il socket di dati e si connette con la porta dati client specificata nel comando "porta".</span><span class="sxs-lookup"><span data-stu-id="54fbf-246">Server creates data socket and connects with client data port specified in the "PORT" command.</span></span>
1. <span data-ttu-id="54fbf-247">Il server invia la risposta "125" alla scrittura del file di segnale avviata.</span><span class="sxs-lookup"><span data-stu-id="54fbf-247">Server sends "125" response to signal file write has started.</span></span>
1. <span data-ttu-id="54fbf-248">Il client invia il contenuto del file tramite la connessione dati.</span><span class="sxs-lookup"><span data-stu-id="54fbf-248">Client sends contents of file through the data connection.</span></span> <span data-ttu-id="54fbf-249">Questo processo continua fino a quando il file non viene completamente trasferito.</span><span class="sxs-lookup"><span data-stu-id="54fbf-249">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="54fbf-250">Al termine, il client disconnette la connessione dati.</span><span class="sxs-lookup"><span data-stu-id="54fbf-250">When finished, Client disconnects data connection.</span></span>
1. <span data-ttu-id="54fbf-251">Il server invia la risposta "250" alla scrittura del file di segnale riuscita.</span><span class="sxs-lookup"><span data-stu-id="54fbf-251">Server sends "250" response to signal file write is successful.</span></span>
1. <span data-ttu-id="54fbf-252">I client inviano "QUIT" per terminare la connessione FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-252">Clients sends "QUIT" to terminate FTP connection.</span></span>
1. <span data-ttu-id="54fbf-253">Il server invia la risposta "221" alla disconnessione del segnale riuscita.</span><span class="sxs-lookup"><span data-stu-id="54fbf-253">Server sends "221" response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="54fbf-254">Il server disconnette la connessione FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-254">Server disconnects FTP connection.</span></span>

<span data-ttu-id="54fbf-255">Se il client FTP effettua una richiesta di scrittura nella modalità di trasferimento passivo, la sequenza di comandi è la seguente (le linee in **grassetto** indicano un passaggio diverso rispetto alla modalità di trasferimento attiva):</span><span class="sxs-lookup"><span data-stu-id="54fbf-255">If the FTP Client makes a write request in the passive transfer mode, the command sequence is as follows (**bolded** lines indicates a different step from active transfer mode):</span></span>

1. <span data-ttu-id="54fbf-256">Il client invia la connessione TCP alla porta del server 21.</span><span class="sxs-lookup"><span data-stu-id="54fbf-256">Client issues TCP connect to Server port 21.</span></span>
1. <span data-ttu-id="54fbf-257">Il server invia la risposta "220" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-257">Server sends "220" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-258">Il client invia il messaggio "USER" con "username".</span><span class="sxs-lookup"><span data-stu-id="54fbf-258">Client sends "USER" message with "username."</span></span>
1. <span data-ttu-id="54fbf-259">Il server invia la risposta "331" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-259">Server sends "331" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-260">Il client invia il messaggio "PASS" con "password".</span><span class="sxs-lookup"><span data-stu-id="54fbf-260">Client sends "PASS" message with "password."</span></span>
1. <span data-ttu-id="54fbf-261">Il server invia la risposta "230" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-261">Server sends "230" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-262">Il client invia il messaggio "TYPE I" per il trasferimento binario.</span><span class="sxs-lookup"><span data-stu-id="54fbf-262">Client sends "TYPE I" message for binary transfer.</span></span>
1. <span data-ttu-id="54fbf-263">Il server invia la risposta "200" per segnalare l'esito positivo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-263">Server sends "200" response to signal success.</span></span>
1. <span data-ttu-id="54fbf-264">**Il client invia il messaggio "PASV".**</span><span class="sxs-lookup"><span data-stu-id="54fbf-264">**Client sends "PASV" message.**</span></span>
1. <span data-ttu-id="54fbf-265">**Il server invia la risposta "227", l'indirizzo IP e la porta a cui il client si connette per segnalare l'esito positivo.**</span><span class="sxs-lookup"><span data-stu-id="54fbf-265">**Server sends "227" response, and IP address and port for the Client to connect to, to signal success.**</span></span>
1. <span data-ttu-id="54fbf-266">Il client invia il messaggio "STOR" con il nome file da scrivere.</span><span class="sxs-lookup"><span data-stu-id="54fbf-266">Client sends "STOR" message with file name to write.</span></span>
1. <span data-ttu-id="54fbf-267">**Il server crea un socket del server di dati e rimane in attesa della richiesta di connessione del client su questo socket usando la porta specificata nella risposta "227".**</span><span class="sxs-lookup"><span data-stu-id="54fbf-267">**Server creates data server socket and listens for the Client connect request on this socket using the port specified in the "227" response.**</span></span>
1. <span data-ttu-id="54fbf-268">**Il server invia la risposta "150" sul socket di controllo per segnalare che la scrittura del file è stata avviata.**</span><span class="sxs-lookup"><span data-stu-id="54fbf-268">**Server sends "150" response on the control socket to signal file write has started.**</span></span>
1. <span data-ttu-id="54fbf-269">Il client invia il contenuto del file tramite la connessione dati.</span><span class="sxs-lookup"><span data-stu-id="54fbf-269">Client sends contents of file through the data connection.</span></span> <span data-ttu-id="54fbf-270">Questo processo continua fino a quando il file non viene completamente trasferito.</span><span class="sxs-lookup"><span data-stu-id="54fbf-270">This process continues until file is completely transferred.</span></span>
1. <span data-ttu-id="54fbf-271">Al termine, il client disconnette la connessione dati.</span><span class="sxs-lookup"><span data-stu-id="54fbf-271">When finished, Client disconnects data connection.</span></span>
1. <span data-ttu-id="54fbf-272">**Il server invia la risposta "226" sul socket di controllo per segnalare che la scrittura del file è riuscita.**</span><span class="sxs-lookup"><span data-stu-id="54fbf-272">**Server sends "226" response on the control socket to signal file write is successful.**</span></span>
1. <span data-ttu-id="54fbf-273">Il client invia "QUIT" per terminare la connessione FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-273">Client sends "QUIT" to terminate FTP connection.</span></span>
1. <span data-ttu-id="54fbf-274">Il server invia la risposta "221" alla disconnessione del segnale riuscita.</span><span class="sxs-lookup"><span data-stu-id="54fbf-274">Server sends "221" response to signal disconnect is successful.</span></span>
1. <span data-ttu-id="54fbf-275">Il server disconnette la connessione FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-275">Server disconnects FTP connection.</span></span>

## <a name="ftp-authentication"></a><span data-ttu-id="54fbf-276">FTP Authentication</span><span class="sxs-lookup"><span data-stu-id="54fbf-276">FTP Authentication</span></span>

<span data-ttu-id="54fbf-277">Ogni volta che si verifica una connessione FTP, il client deve fornire al server un *nome utente* e una *password*.</span><span class="sxs-lookup"><span data-stu-id="54fbf-277">Whenever an FTP connection takes place, the Client must provide the Server with a *username* and *password*.</span></span> <span data-ttu-id="54fbf-278">Alcuni siti FTP consentono il cosiddetto *FTP anonimo*, che consente l'accesso FTP senza un nome utente e una password specifici.</span><span class="sxs-lookup"><span data-stu-id="54fbf-278">Some FTP sites allow what is called *Anonymous FTP*, which allows FTP access without a specific username and password.</span></span> <span data-ttu-id="54fbf-279">Per questo tipo di connessione è necessario specificare "Anonymous" per il nome utente e la password deve essere un indirizzo di posta elettronica completo.</span><span class="sxs-lookup"><span data-stu-id="54fbf-279">For this type of connection, "anonymous" should be supplied for username and the password should be a complete e-mail address.</span></span>

<span data-ttu-id="54fbf-280">L'utente è responsabile della fornitura di NetX FTP con le routine di autenticazione per l'accesso e la disconnessione.</span><span class="sxs-lookup"><span data-stu-id="54fbf-280">The user is responsible for supplying NetX FTP with login and logout authentication routines.</span></span> <span data-ttu-id="54fbf-281">Questi vengono forniti durante la funzione \***nx_ftp_server_create** _ e vengono chiamati dall'elaborazione della password.</span><span class="sxs-lookup"><span data-stu-id="54fbf-281">These are supplied during the \***nx_ftp_server_create** _ function and called from the password processing.</span></span> <span data-ttu-id="54fbf-282">Se la funzione _login \* restituisce NX_SUCCESS, la connessione viene autenticata e sono consentite operazioni FTP.</span><span class="sxs-lookup"><span data-stu-id="54fbf-282">If the _login\* function returns NX_SUCCESS, the connection is authenticated and FTP operations are allowed.</span></span> <span data-ttu-id="54fbf-283">In caso contrario, se la funzione *login* restituisce un valore diverso da NX_SUCCESS, il tentativo di connessione viene rifiutato.</span><span class="sxs-lookup"><span data-stu-id="54fbf-283">Otherwise, if the *login* function returns something other than NX_SUCCESS, the connection attempt is rejected.</span></span>

## <a name="ftp-multi-thread-support"></a><span data-ttu-id="54fbf-284">Supporto multithreading FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-284">FTP Multi-Thread Support</span></span>

<span data-ttu-id="54fbf-285">I servizi client FTP NetX possono essere chiamati da più thread contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="54fbf-285">The NetX FTP Client services can be called from multiple threads simultaneously.</span></span> <span data-ttu-id="54fbf-286">Tuttavia, le richieste di lettura o scrittura per una particolare istanza del client FTP devono essere eseguite in sequenza dallo stesso thread.</span><span class="sxs-lookup"><span data-stu-id="54fbf-286">However, read or write requests for a particular FTP Client instance should be done in sequence from the same thread.</span></span>

## <a name="ftp-rfcs"></a><span data-ttu-id="54fbf-287">RFC FTP</span><span class="sxs-lookup"><span data-stu-id="54fbf-287">FTP RFCs</span></span>

<span data-ttu-id="54fbf-288">L'FTP NetX è conforme a RFC959 e alle RFC correlate.</span><span class="sxs-lookup"><span data-stu-id="54fbf-288">NetX FTP is compliant with RFC959 and related RFCs.</span></span>